function aT(i,e){for(var r=0;r<e.length;r++){const o=e[r];if(typeof o!="string"&&!Array.isArray(o)){for(const f in o)if(f!=="default"&&!(f in i)){const l=Object.getOwnPropertyDescriptor(o,f);l&&Object.defineProperty(i,f,l.get?l:{enumerable:!0,get:()=>o[f]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))o(f);new MutationObserver(f=>{for(const l of f)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function r(f){const l={};return f.integrity&&(l.integrity=f.integrity),f.referrerPolicy&&(l.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?l.credentials="include":f.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(f){if(f.ep)return;f.ep=!0;const l=r(f);fetch(f.href,l)}})();function Zm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Kl(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var r=function o(){var f=!1;try{f=this instanceof o}catch{}return f?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var f=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(r,o,f.get?f:{enumerable:!0,get:function(){return i[o]}})}),r}var Td={exports:{}},El={};var Pv;function oT(){if(Pv)return El;Pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(o,f,l){var h=null;if(l!==void 0&&(h=""+l),f.key!==void 0&&(h=""+f.key),"key"in f){l={};for(var p in f)p!=="key"&&(l[p]=f[p])}else l=f;return f=l.ref,{$$typeof:i,type:o,key:h,ref:f!==void 0?f:null,props:l}}return El.Fragment=e,El.jsx=r,El.jsxs=r,El}var Nv;function lT(){return Nv||(Nv=1,Td.exports=oT()),Td.exports}var O=lT(),Ed={exports:{}},Et={};var Dv;function uT(){if(Dv)return Et;Dv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),T=Symbol.iterator;function E(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function z(P,K,rt){this.props=P,this.context=K,this.refs=N,this.updater=rt||M}z.prototype.isReactComponent={},z.prototype.setState=function(P,K){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,K,"setState")},z.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function q(){}q.prototype=z.prototype;function B(P,K,rt){this.props=P,this.context=K,this.refs=N,this.updater=rt||M}var tt=B.prototype=new q;tt.constructor=B,R(tt,z.prototype),tt.isPureReactComponent=!0;var nt=Array.isArray;function at(){}var st={H:null,A:null,T:null,S:null},ft=Object.prototype.hasOwnProperty;function Ct(P,K,rt){var ot=rt.ref;return{$$typeof:i,type:P,key:K,ref:ot!==void 0?ot:null,props:rt}}function ie(P,K){return Ct(P.type,K,P.props)}function Ut(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function Gt(P){var K={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(rt){return K[rt]})}var Fn=/\/+/g;function pe(P,K){return typeof P=="object"&&P!==null&&P.key!=null?Gt(""+P.key):K.toString(36)}function Ke(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(at,at):(P.status="pending",P.then(function(K){P.status==="pending"&&(P.status="fulfilled",P.value=K)},function(K){P.status==="pending"&&(P.status="rejected",P.reason=K)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function F(P,K,rt,ot,ht){var ct=typeof P;(ct==="undefined"||ct==="boolean")&&(P=null);var Mt=!1;if(P===null)Mt=!0;else switch(ct){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(P.$$typeof){case i:case e:Mt=!0;break;case b:return Mt=P._init,F(Mt(P._payload),K,rt,ot,ht)}}if(Mt)return ht=ht(P),Mt=ot===""?"."+pe(P,0):ot,nt(ht)?(rt="",Mt!=null&&(rt=Mt.replace(Fn,"$&/")+"/"),F(ht,K,rt,"",function(Li){return Li})):ht!=null&&(Ut(ht)&&(ht=ie(ht,rt+(ht.key==null||P&&P.key===ht.key?"":(""+ht.key).replace(Fn,"$&/")+"/")+Mt)),K.push(ht)),1;Mt=0;var ae=ot===""?".":ot+":";if(nt(P))for(var oe=0;oe<P.length;oe++)ot=P[oe],ct=ae+pe(ot,oe),Mt+=F(ot,K,rt,ct,ht);else if(oe=E(P),typeof oe=="function")for(P=oe.call(P),oe=0;!(ot=P.next()).done;)ot=ot.value,ct=ae+pe(ot,oe++),Mt+=F(ot,K,rt,ct,ht);else if(ct==="object"){if(typeof P.then=="function")return F(Ke(P),K,rt,ot,ht);throw K=String(P),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function it(P,K,rt){if(P==null)return P;var ot=[],ht=0;return F(P,ot,"","",function(ct){return K.call(rt,ct,ht++)}),ot}function et(P){if(P._status===-1){var K=P._result;K=K(),K.then(function(rt){(P._status===0||P._status===-1)&&(P._status=1,P._result=rt)},function(rt){(P._status===0||P._status===-1)&&(P._status=2,P._result=rt)}),P._status===-1&&(P._status=0,P._result=K)}if(P._status===1)return P._result.default;throw P._result}var Rt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ut={map:it,forEach:function(P,K,rt){it(P,function(){K.apply(this,arguments)},rt)},count:function(P){var K=0;return it(P,function(){K++}),K},toArray:function(P){return it(P,function(K){return K})||[]},only:function(P){if(!Ut(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Et.Activity=w,Et.Children=ut,Et.Component=z,Et.Fragment=r,Et.Profiler=f,Et.PureComponent=B,Et.StrictMode=o,Et.Suspense=g,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Et.__COMPILER_RUNTIME={__proto__:null,c:function(P){return st.H.useMemoCache(P)}},Et.cache=function(P){return function(){return P.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(P,K,rt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ot=R({},P.props),ht=P.key;if(K!=null)for(ct in K.key!==void 0&&(ht=""+K.key),K)!ft.call(K,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&K.ref===void 0||(ot[ct]=K[ct]);var ct=arguments.length-2;if(ct===1)ot.children=rt;else if(1<ct){for(var Mt=Array(ct),ae=0;ae<ct;ae++)Mt[ae]=arguments[ae+2];ot.children=Mt}return Ct(P.type,ht,ot)},Et.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Et.createElement=function(P,K,rt){var ot,ht={},ct=null;if(K!=null)for(ot in K.key!==void 0&&(ct=""+K.key),K)ft.call(K,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(ht[ot]=K[ot]);var Mt=arguments.length-2;if(Mt===1)ht.children=rt;else if(1<Mt){for(var ae=Array(Mt),oe=0;oe<Mt;oe++)ae[oe]=arguments[oe+2];ht.children=ae}if(P&&P.defaultProps)for(ot in Mt=P.defaultProps,Mt)ht[ot]===void 0&&(ht[ot]=Mt[ot]);return Ct(P,ct,ht)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(P){return{$$typeof:p,render:P}},Et.isValidElement=Ut,Et.lazy=function(P){return{$$typeof:b,_payload:{_status:-1,_result:P},_init:et}},Et.memo=function(P,K){return{$$typeof:v,type:P,compare:K===void 0?null:K}},Et.startTransition=function(P){var K=st.T,rt={};st.T=rt;try{var ot=P(),ht=st.S;ht!==null&&ht(rt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(at,Rt)}catch(ct){Rt(ct)}finally{K!==null&&rt.types!==null&&(K.types=rt.types),st.T=K}},Et.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Et.use=function(P){return st.H.use(P)},Et.useActionState=function(P,K,rt){return st.H.useActionState(P,K,rt)},Et.useCallback=function(P,K){return st.H.useCallback(P,K)},Et.useContext=function(P){return st.H.useContext(P)},Et.useDebugValue=function(){},Et.useDeferredValue=function(P,K){return st.H.useDeferredValue(P,K)},Et.useEffect=function(P,K){return st.H.useEffect(P,K)},Et.useEffectEvent=function(P){return st.H.useEffectEvent(P)},Et.useId=function(){return st.H.useId()},Et.useImperativeHandle=function(P,K,rt){return st.H.useImperativeHandle(P,K,rt)},Et.useInsertionEffect=function(P,K){return st.H.useInsertionEffect(P,K)},Et.useLayoutEffect=function(P,K){return st.H.useLayoutEffect(P,K)},Et.useMemo=function(P,K){return st.H.useMemo(P,K)},Et.useOptimistic=function(P,K){return st.H.useOptimistic(P,K)},Et.useReducer=function(P,K,rt){return st.H.useReducer(P,K,rt)},Et.useRef=function(P){return st.H.useRef(P)},Et.useState=function(P){return st.H.useState(P)},Et.useSyncExternalStore=function(P,K,rt){return st.H.useSyncExternalStore(P,K,rt)},Et.useTransition=function(){return st.H.useTransition()},Et.version="19.2.1",Et}var zv;function Gm(){return zv||(zv=1,Ed.exports=uT()),Ed.exports}var W=Gm();const nm=Zm(W);var Cd={exports:{}},Cl={},Ad={exports:{}},Od={};var Bv;function cT(){return Bv||(Bv=1,(function(i){function e(F,it){var et=F.length;F.push(it);t:for(;0<et;){var Rt=et-1>>>1,ut=F[Rt];if(0<f(ut,it))F[Rt]=it,F[et]=ut,et=Rt;else break t}}function r(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var it=F[0],et=F.pop();if(et!==it){F[0]=et;t:for(var Rt=0,ut=F.length,P=ut>>>1;Rt<P;){var K=2*(Rt+1)-1,rt=F[K],ot=K+1,ht=F[ot];if(0>f(rt,et))ot<ut&&0>f(ht,rt)?(F[Rt]=ht,F[ot]=et,Rt=ot):(F[Rt]=rt,F[K]=et,Rt=K);else if(ot<ut&&0>f(ht,et))F[Rt]=ht,F[ot]=et,Rt=ot;else break t}}return it}function f(F,it){var et=F.sortIndex-it.sortIndex;return et!==0?et:F.id-it.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],v=[],b=1,w=null,T=3,E=!1,M=!1,R=!1,N=!1,z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function tt(F){for(var it=r(v);it!==null;){if(it.callback===null)o(v);else if(it.startTime<=F)o(v),it.sortIndex=it.expirationTime,e(g,it);else break;it=r(v)}}function nt(F){if(R=!1,tt(F),!M)if(r(g)!==null)M=!0,at||(at=!0,Gt());else{var it=r(v);it!==null&&Ke(nt,it.startTime-F)}}var at=!1,st=-1,ft=5,Ct=-1;function ie(){return N?!0:!(i.unstable_now()-Ct<ft)}function Ut(){if(N=!1,at){var F=i.unstable_now();Ct=F;var it=!0;try{t:{M=!1,R&&(R=!1,q(st),st=-1),E=!0;var et=T;try{e:{for(tt(F),w=r(g);w!==null&&!(w.expirationTime>F&&ie());){var Rt=w.callback;if(typeof Rt=="function"){w.callback=null,T=w.priorityLevel;var ut=Rt(w.expirationTime<=F);if(F=i.unstable_now(),typeof ut=="function"){w.callback=ut,tt(F),it=!0;break e}w===r(g)&&o(g),tt(F)}else o(g);w=r(g)}if(w!==null)it=!0;else{var P=r(v);P!==null&&Ke(nt,P.startTime-F),it=!1}}break t}finally{w=null,T=et,E=!1}it=void 0}}finally{it?Gt():at=!1}}}var Gt;if(typeof B=="function")Gt=function(){B(Ut)};else if(typeof MessageChannel<"u"){var Fn=new MessageChannel,pe=Fn.port2;Fn.port1.onmessage=Ut,Gt=function(){pe.postMessage(null)}}else Gt=function(){z(Ut,0)};function Ke(F,it){st=z(function(){F(i.unstable_now())},it)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(F){switch(T){case 1:case 2:case 3:var it=3;break;default:it=T}var et=T;T=it;try{return F()}finally{T=et}},i.unstable_requestPaint=function(){N=!0},i.unstable_runWithPriority=function(F,it){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var et=T;T=F;try{return it()}finally{T=et}},i.unstable_scheduleCallback=function(F,it,et){var Rt=i.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?Rt+et:Rt):et=Rt,F){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=et+ut,F={id:b++,callback:it,priorityLevel:F,startTime:et,expirationTime:ut,sortIndex:-1},et>Rt?(F.sortIndex=et,e(v,F),r(g)===null&&F===r(v)&&(R?(q(st),st=-1):R=!0,Ke(nt,et-Rt))):(F.sortIndex=ut,e(g,F),M||E||(M=!0,at||(at=!0,Gt()))),F},i.unstable_shouldYield=ie,i.unstable_wrapCallback=function(F){var it=T;return function(){var et=T;T=it;try{return F.apply(this,arguments)}finally{T=et}}}})(Od)),Od}var Uv;function hT(){return Uv||(Uv=1,Ad.exports=cT()),Ad.exports}var Ld={exports:{}},We={};var Vv;function fT(){if(Vv)return We;Vv=1;var i=Gm();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},f=Symbol.for("react.portal");function l(g,v,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:w==null?null:""+w,children:g,containerInfo:v,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,We.createPortal=function(g,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return l(g,v,null,b)},We.flushSync=function(g){var v=h.T,b=o.p;try{if(h.T=null,o.p=2,g)return g()}finally{h.T=v,o.p=b,o.d.f()}},We.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,o.d.C(g,v))},We.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},We.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var b=v.as,w=p(b,v.crossOrigin),T=typeof v.integrity=="string"?v.integrity:void 0,E=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?o.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:E}):b==="script"&&o.d.X(g,{crossOrigin:w,integrity:T,fetchPriority:E,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},We.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=p(v.as,v.crossOrigin);o.d.M(g,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&o.d.M(g)},We.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,w=p(b,v.crossOrigin);o.d.L(g,b,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},We.preloadModule=function(g,v){if(typeof g=="string")if(v){var b=p(v.as,v.crossOrigin);o.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else o.d.m(g)},We.requestFormReset=function(g){o.d.r(g)},We.unstable_batchedUpdates=function(g,v){return g(v)},We.useFormState=function(g,v,b){return h.H.useFormState(g,v,b)},We.useFormStatus=function(){return h.H.useHostTransitionStatus()},We.version="19.2.1",We}var Iv;function U0(){if(Iv)return Ld.exports;Iv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ld.exports=fT(),Ld.exports}var Hv;function dT(){if(Hv)return Cl;Hv=1;var i=hT(),e=Gm(),r=U0();function o(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(l(t)!==t)throw Error(o(188))}function v(t){var n=t.alternate;if(!n){if(n=l(t),n===null)throw Error(o(188));return n!==t?null:t}for(var a=t,c=n;;){var m=a.return;if(m===null)break;var _=m.alternate;if(_===null){if(c=m.return,c!==null){a=c;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===a)return g(m),t;if(_===c)return g(m),n;_=_.sibling}throw Error(o(188))}if(a.return!==c.return)a=m,c=_;else{for(var S=!1,A=m.child;A;){if(A===a){S=!0,a=m,c=_;break}if(A===c){S=!0,c=m,a=_;break}A=A.sibling}if(!S){for(A=_.child;A;){if(A===a){S=!0,a=_,c=m;break}if(A===c){S=!0,c=_,a=m;break}A=A.sibling}if(!S)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),B=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),Ct=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),Ut=Symbol.iterator;function Gt(t){return t===null||typeof t!="object"?null:(t=Ut&&t[Ut]||t["@@iterator"],typeof t=="function"?t:null)}var Fn=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Fn?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case z:return"Profiler";case N:return"StrictMode";case nt:return"Suspense";case at:return"SuspenseList";case Ct:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case B:return t.displayName||"Context";case q:return(t._context.displayName||"Context")+".Consumer";case tt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case st:return n=t.displayName||null,n!==null?n:pe(t.type)||"Memo";case ft:n=t._payload,t=t._init;try{return pe(t(n))}catch{}}return null}var Ke=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},Rt=[],ut=-1;function P(t){return{current:t}}function K(t){0>ut||(t.current=Rt[ut],Rt[ut]=null,ut--)}function rt(t,n){ut++,Rt[ut]=t.current,t.current=n}var ot=P(null),ht=P(null),ct=P(null),Mt=P(null);function ae(t,n){switch(rt(ct,n),rt(ht,t),rt(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=iv(n),t=sv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ot),rt(ot,t)}function oe(){K(ot),K(ht),K(ct)}function Li(t){t.memoizedState!==null&&rt(Mt,t);var n=ot.current,a=sv(n,t.type);n!==a&&(rt(ht,t),rt(ot,a))}function os(t){ht.current===t&&(K(ot),K(ht)),Mt.current===t&&(K(Mt),wl._currentValue=et)}var Mi,na;function Ri(t){if(Mi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Mi=n&&n[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mi+t+na}var ia=!1;function sa(t,n){if(!t||ia)return"";ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch($){var G=$}Reflect.construct(t,[],Q)}else{try{Q.call()}catch($){G=$}t.call(Q.prototype)}}else{try{throw Error()}catch($){G=$}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),S=_[0],A=_[1];if(S&&A){var j=S.split(`
`),H=A.split(`
`);for(m=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;m<H.length&&!H[m].includes("DetermineComponentFrameRoot");)m++;if(c===j.length||m===H.length)for(c=j.length-1,m=H.length-1;1<=c&&0<=m&&j[c]!==H[m];)m--;for(;1<=c&&0<=m;c--,m--)if(j[c]!==H[m]){if(c!==1||m!==1)do if(c--,m--,0>m||j[c]!==H[m]){var Y=`
`+j[c].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=c&&0<=m);break}}}finally{ia=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ri(a):""}function yo(t,n){switch(t.tag){case 26:case 27:case 5:return Ri(t.type);case 16:return Ri("Lazy");case 13:return t.child!==n&&n!==null?Ri("Suspense Fallback"):Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return sa(t.type,!1);case 11:return sa(t.type.render,!1);case 1:return sa(t.type,!0);case 31:return Ri("Activity");default:return""}}function Js(t){try{var n="",a=null;do n+=yo(t,a),a=t,t=t.return;while(t);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var bo=Object.prototype.hasOwnProperty,ra=i.unstable_scheduleCallback,Qs=i.unstable_cancelCallback,su=i.unstable_shouldYield,ru=i.unstable_requestPaint,tn=i.unstable_now,Eh=i.unstable_getCurrentPriorityLevel,aa=i.unstable_ImmediatePriority,wo=i.unstable_UserBlockingPriority,tr=i.unstable_NormalPriority,Ch=i.unstable_LowPriority,xo=i.unstable_IdlePriority,au=i.log,Ah=i.unstable_setDisableYieldValue,ls=null,Ve=null;function Kn(t){if(typeof au=="function"&&Ah(t),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(ls,t)}catch{}}var en=Math.clz32?Math.clz32:Lh,er=Math.log,Oh=Math.LN2;function Lh(t){return t>>>=0,t===0?32:31-(er(t)/Oh|0)|0}var nr=256,ir=262144,sr=4194304;function ki(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oa(t,n,a){var c=t.pendingLanes;if(c===0)return 0;var m=0,_=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var A=c&134217727;return A!==0?(c=A&~_,c!==0?m=ki(c):(S&=A,S!==0?m=ki(S):a||(a=A&~t,a!==0&&(m=ki(a))))):(A=c&~_,A!==0?m=ki(A):S!==0?m=ki(S):a||(a=c&~t,a!==0&&(m=ki(a)))),m===0?0:n!==0&&n!==m&&(n&_)===0&&(_=m&-m,a=n&-n,_>=a||_===32&&(a&4194048)!==0)?n:m}function rr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Mh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var t=sr;return sr<<=1,(sr&62914560)===0&&(sr=4194304),t}function So(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ji(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rh(t,n,a,c,m,_){var S=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,j=t.expirationTimes,H=t.hiddenUpdates;for(a=S&~a;0<a;){var Y=31-en(a),Q=1<<Y;A[Y]=0,j[Y]=-1;var G=H[Y];if(G!==null)for(H[Y]=null,Y=0;Y<G.length;Y++){var $=G[Y];$!==null&&($.lane&=-536870913)}a&=~Q}c!==0&&lu(t,c,0),_!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=_&~(S&~n))}function lu(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var c=31-en(n);t.entangledLanes|=n,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function uu(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var c=31-en(a),m=1<<c;m&n|t[c]&n&&(t[c]|=n),a&=~m}}function cu(t,n){var a=n&-n;return a=(a&42)!==0?1:ln(a),(a&(t.suspendedLanes|n))!==0?0:a}function ln(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function To(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:Av(t.type))}function Eo(t,n){var a=it.p;try{return it.p=t,n()}finally{it.p=a}}var Yn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Yn,De="__reactProps$"+Yn,Pi="__reactContainer$"+Yn,ci="__reactEvents$"+Yn,hu="__reactListeners$"+Yn,kh="__reactHandles$"+Yn,fu="__reactResources$"+Yn,ar="__reactMarker$"+Yn;function Co(t){delete t[Se],delete t[De],delete t[ci],delete t[hu],delete t[kh]}function Ni(t){var n=t[Se];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Pi]||a[Se]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=hv(t);t!==null;){if(a=t[Se])return a;t=hv(t)}return n}t=a,a=t.parentNode}return null}function us(t){if(t=t[Se]||t[Pi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function hi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(o(33))}function cs(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(t){t[ar]=!0}var du=new Set,mu={};function Di(t,n){fi(t,n),fi(t+"Capture",n)}function fi(t,n){for(mu[t]=n,t=0;t<n.length;t++)du.add(n[t])}var or=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},Oo={};function lr(t){return bo.call(Oo,t)?!0:bo.call(Ao,t)?!1:or.test(t)?Oo[t]=!0:(Ao[t]=!0,!1)}function kt(t,n,a){if(lr(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Yt(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function un(t,n,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+c)}}function ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Lo(t,n,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,_=c.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return m.call(this)},set:function(S){a=""+S,_.call(this,S)}}),Object.defineProperty(t,n,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Tt(t){if(!t._valueTracker){var n=zi(t)?"checked":"value";t._valueTracker=Lo(t,n,""+t[n])}}function le(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return t&&(c=zi(t)?t.checked?"true":"false":t.value),t=c,t!==a?(n.setValue(t),!0):!1}function hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var la=/[\n"\\]/g;function se(t){return t.replace(la,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Mo(t,n,a,c,m,_,S,A){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),n!=null?S==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ke(n)):t.value!==""+ke(n)&&(t.value=""+ke(n)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),n!=null?Xn(t,S,ke(n)):a!=null?Xn(t,S,ke(a)):c!=null&&t.removeAttribute("value"),m==null&&_!=null&&(t.defaultChecked=!!_),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+ke(A):t.removeAttribute("name")}function ur(t,n,a,c,m,_,S,A){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.type=_),n!=null||a!=null){if(!(_!=="submit"&&_!=="reset"||n!=null)){Tt(t);return}a=a!=null?""+ke(a):"",n=n!=null?""+ke(n):a,A||n===t.value||(t.value=n),t.defaultValue=n}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=A?t.checked:!!c,t.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),Tt(t)}function Xn(t,n,a){n==="number"&&hs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function te(t,n,a,c){if(t=t.options,n){n={};for(var m=0;m<a.length;m++)n["$"+a[m]]=!0;for(a=0;a<t.length;a++)m=n.hasOwnProperty("$"+t[a].value),t[a].selected!==m&&(t[a].selected=m),m&&c&&(t[a].defaultSelected=!0)}else{for(a=""+ke(a),n=null,m=0;m<t.length;m++){if(t[m].value===a){t[m].selected=!0,c&&(t[m].defaultSelected=!0);return}n!==null||t[m].disabled||(n=t[m])}n!==null&&(n.selected=!0)}}function di(t,n,a){if(n!=null&&(n=""+ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ke(a):""}function fs(t,n,a,c){if(n==null){if(c!=null){if(a!=null)throw Error(o(92));if(Ke(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),n=a}a=ke(n),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),Tt(t)}function jn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ds(t,n,a){var c=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":c?t.setProperty(n,a):typeof a!="number"||a===0||Ro.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ua(t,n,a){if(n!=null&&typeof n!="object")throw Error(o(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var m in n)c=n[m],n.hasOwnProperty(m)&&a[m]!==c&&ds(t,m,c)}else for(var _ in n)n.hasOwnProperty(_)&&ds(t,_,n[_])}function cr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ko=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ms(t){return ko.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function cn(){}var ha=null;function hr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ps=null,xt=null;function Sn(t){var n=us(t);if(n&&(t=n.stateNode)){var a=t[De]||null;t:switch(t=n.stateNode,n.type){case"input":if(Mo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+se(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==t&&c.form===t.form){var m=c[De]||null;if(!m)throw Error(o(90));Mo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<a.length;n++)c=a[n],c.form===t.form&&le(c)}break t;case"textarea":di(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&te(t,!!a.multiple,n,!1)}}}var $t=!1;function jo(t,n,a){if($t)return t(n,a);$t=!0;try{var c=t(n);return c}finally{if($t=!1,(ps!==null||xt!==null)&&(cc(),ps&&(n=ps,t=xt,xt=ps=null,Sn(n),t)))for(n=0;n<t.length;n++)Sn(t[n])}}function Bi(t,n){var a=t.stateNode;if(a===null)return null;var c=a[De]||null;if(c===null)return null;a=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fr=!1;if(Tn)try{var En={};Object.defineProperty(En,"passive",{get:function(){fr=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{fr=!1}var Pn=null,Ui=null,ge=null;function mi(){if(ge)return ge;var t,n=Ui,a=n.length,c,m="value"in Pn?Pn.value:Pn.textContent,_=m.length;for(t=0;t<a&&n[t]===m[t];t++);var S=a-t;for(c=1;c<=S&&n[a-c]===m[_-c];c++);return ge=m.slice(t,1<c?1-c:void 0)}function dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function mr(){return!0}function pu(){return!1}function Ie(t){function n(a,c,m,_,S){this._reactName=a,this._targetInst=m,this.type=c,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(_):_[A]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?mr:pu,this.isPropagationStopped=pu,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),n}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Ie(Wn),gs=w({},Wn,{view:0,detail:0}),Dt=Ie(gs),Po,nn,Jn,pr=w({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(Po=t.screenX-Jn.screenX,nn=t.screenY-Jn.screenY):nn=Po=0,Jn=t),Po)},movementY:function(t){return"movementY"in t?t.movementY:nn}}),gu=Ie(pr),No=w({},pr,{dataTransfer:0}),jh=Ie(No),_u=w({},gs,{relatedTarget:0}),Do=Ie(_u),Ph=w({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=Ie(Ph),Nh=w({},Wn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nn=Ie(Nh),Dh=w({},Wn,{data:0}),Bo=Ie(Dh),pi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=yu[t])?!!n[t]:!1}function Vo(){return Uo}var bu=w({},gs,{key:function(t){if(t.key){var n=pi[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(t){return t.type==="keypress"?dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=Ie(bu),zh=w({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=Ie(zh),Io=w({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),Bh=Ie(Io),Su=w({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=Ie(Su),da=w({},pr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vi=Ie(da),Uh=w({},Wn,{newState:0,oldState:0}),gr=Ie(Uh),hn=[9,13,27,32],ma=Tn&&"CompositionEvent"in window,_s=null;Tn&&"documentMode"in document&&(_s=document.documentMode);var Vh=Tn&&"TextEvent"in window&&!_s,pa=Tn&&(!ma||_s&&8<_s&&11>=_s),ga=" ",Eu=!1;function Cu(t,n){switch(t){case"keyup":return hn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ho(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function Cn(t,n){switch(t){case"compositionend":return Ho(n);case"keypress":return n.which!==32?null:(Eu=!0,ga);case"textInput":return t=n.data,t===ga&&Eu?null:t;default:return null}}function ys(t,n){if(vs)return t==="compositionend"||!ma&&Cu(t,n)?(t=mi(),ge=Ui=Pn=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pa&&n.locale!=="ko"?null:n.data;default:return null}}var Ih={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ih[t.type]:n==="textarea"}function Au(t,n,a,c){ps?xt?xt.push(c):xt=[c]:ps=c,n=_c(n,"onChange"),0<n.length&&(a=new fa("onChange","change",null,a,c),t.push({event:a,listeners:n}))}var zn=null,_r=null;function vr(t){W_(t,0)}function yr(t){var n=hi(t);if(le(n))return t}function br(t,n){if(t==="change")return n}var Ou=!1;if(Tn){var Bn;if(Tn){var bs="oninput"in document;if(!bs){var Lu=document.createElement("div");Lu.setAttribute("oninput","return;"),bs=typeof Lu.oninput=="function"}Bn=bs}else Bn=!1;Ou=Bn&&(!document.documentMode||9<document.documentMode)}function _a(){zn&&(zn.detachEvent("onpropertychange",Mu),_r=zn=null)}function Mu(t){if(t.propertyName==="value"&&yr(_r)){var n=[];Au(n,_r,t,hr(t)),jo(vr,n)}}function Qn(t,n,a){t==="focusin"?(_a(),zn=n,_r=a,zn.attachEvent("onpropertychange",Mu)):t==="focusout"&&_a()}function Hh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yr(_r)}function ws(t,n){if(t==="click")return yr(n)}function qh(t,n){if(t==="input"||t==="change")return yr(n)}function ti(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ze=typeof Object.is=="function"?Object.is:ti;function xs(t,n){if(ze(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var m=a[c];if(!bo.call(n,m)||!ze(t[m],n[m]))return!1}return!0}function va(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wr(t,n){var a=va(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=n&&c>=n)return{node:a,offset:n-t};t=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=va(a)}}function ya(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?ya(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xr(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hs(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=hs(t.document)}return n}function gi(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ba=Tn&&"documentMode"in document&&11>=document.documentMode,_i=null,wa=null,Sr=null,Ss=!1;function Ru(t,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ss||_i==null||_i!==hs(c)||(c=_i,"selectionStart"in c&&gi(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Sr&&xs(Sr,c)||(Sr=c,c=_c(wa,"onSelect"),0<c.length&&(n=new fa("onSelect","select",null,n,a),t.push({event:n,listeners:c}),n.target=_i)))}function vi(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ts={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},xa={},ku={};Tn&&(ku=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Be(t){if(xa[t])return xa[t];if(!Ts[t])return t;var n=Ts[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ku)return xa[t]=n[a];return t}var Tr=Be("animationend"),ju=Be("animationiteration"),Er=Be("animationstart"),Zh=Be("transitionrun"),Pu=Be("transitionstart"),Gh=Be("transitioncancel"),Es=Be("transitionend"),Nu=new Map,yi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yi.push("scrollEnd");function fn(t,n){Nu.set(t,n),Di(n,[t])}var Cr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},dn=[],Ye=0,Sa=0;function Ar(){for(var t=Ye,n=Sa=Ye=0;n<t;){var a=dn[n];dn[n++]=null;var c=dn[n];dn[n++]=null;var m=dn[n];dn[n++]=null;var _=dn[n];if(dn[n++]=null,c!==null&&m!==null){var S=c.pending;S===null?m.next=m:(m.next=S.next,S.next=m),c.pending=m}_!==0&&Cs(a,m,_)}}function bi(t,n,a,c){dn[Ye++]=t,dn[Ye++]=n,dn[Ye++]=a,dn[Ye++]=c,Sa|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function qo(t,n,a,c){return bi(t,n,a,c),Or(t)}function Un(t,n){return bi(t,null,null,n),Or(t)}function Cs(t,n,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var m=!1,_=t.return;_!==null;)_.childLanes|=a,c=_.alternate,c!==null&&(c.childLanes|=a),_.tag===22&&(t=_.stateNode,t===null||t._visibility&1||(m=!0)),t=_,_=_.return;return t.tag===3?(_=t.stateNode,m&&n!==null&&(m=31-en(a),t=_.hiddenUpdates,c=t[m],c===null?t[m]=[n]:c.push(n),n.lane=a|536870912),_):null}function Or(t){if(50<ml)throw ml=0,Kf=null,Error(o(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ii={};function $h(t,n,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(t,n,a,c){return new $h(t,n,a,c)}function Ta(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vn(t,n){var a=t.alternate;return a===null?(a=Xe(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zo(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lr(t,n,a,c,m,_){var S=0;if(c=t,typeof t=="function")Ta(t)&&(S=1);else if(typeof t=="string")S=KS(t,a,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Ct:return t=Xe(31,a,n,m),t.elementType=Ct,t.lanes=_,t;case R:return Hi(a.children,m,_,n);case N:S=8,m|=24;break;case z:return t=Xe(12,a,n,m|2),t.elementType=z,t.lanes=_,t;case nt:return t=Xe(13,a,n,m),t.elementType=nt,t.lanes=_,t;case at:return t=Xe(19,a,n,m),t.elementType=at,t.lanes=_,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:S=10;break t;case q:S=9;break t;case tt:S=11;break t;case st:S=14;break t;case ft:S=16,c=null;break t}S=29,a=Error(o(130,t===null?"null":typeof t,"")),c=null}return n=Xe(S,a,n,m),n.elementType=t,n.type=c,n.lanes=_,n}function Hi(t,n,a,c){return t=Xe(7,t,c,n),t.lanes=a,t}function Ea(t,n,a){return t=Xe(6,t,null,n),t.lanes=a,t}function Go(t){var n=Xe(18,null,null,0);return n.stateNode=t,n}function $o(t,n,a){return n=Xe(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var s=new WeakMap;function u(t,n){if(typeof t=="object"&&t!==null){var a=s.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Js(n)},s.set(t,n),n)}return{value:t,source:n,stack:Js(n)}}var d=[],y=0,x=null,C=0,k=[],V=0,Z=null,J=1,lt="";function vt(t,n){d[y++]=C,d[y++]=x,x=t,C=n}function Ot(t,n,a){k[V++]=J,k[V++]=lt,k[V++]=Z,Z=t;var c=J;t=lt;var m=32-en(c)-1;c&=~(1<<m),a+=1;var _=32-en(n)+m;if(30<_){var S=m-m%5;_=(c&(1<<S)-1).toString(32),c>>=S,m-=S,J=1<<32-en(n)+m|a<<m|c,lt=_+t}else J=1<<_|a<<m|c,lt=t}function je(t){t.return!==null&&(vt(t,1),Ot(t,1,0))}function _e(t){for(;t===x;)x=d[--y],d[y]=null,C=d[--y],d[y]=null;for(;t===Z;)Z=k[--V],k[V]=null,lt=k[--V],k[V]=null,J=k[--V],k[V]=null}function sn(t,n){k[V++]=J,k[V++]=lt,k[V++]=Z,J=n.id,lt=n.overflow,Z=t}var Vt=null,It=null,jt=!1,wi=null,mn=!1,Ca=Error(o(519));function xi(t){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mr(u(n,t)),Ca}function Fo(t){var n=t.stateNode,a=t.type,c=t.memoizedProps;switch(n[Se]=t,n[De]=c,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<gl.length;a++)Nt(gl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),ur(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),fs(n,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||c.suppressHydrationWarning===!0||ev(n.textContent,a)?(c.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),c.onScroll!=null&&Nt("scroll",n),c.onScrollEnd!=null&&Nt("scrollend",n),c.onClick!=null&&(n.onclick=cn),n=!0):n=!1,n||xi(t,!0)}function de(t){for(Vt=t.return;Vt;)switch(Vt.tag){case 5:case 31:case 13:mn=!1;return;case 27:case 3:mn=!0;return;default:Vt=Vt.return}}function ei(t){if(t!==Vt)return!1;if(!jt)return de(t),jt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ud(t.type,t.memoizedProps)),a=!a),a&&It&&xi(t),de(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));It=cv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));It=cv(t)}else n===27?(n=It,Vs(t.type)?(t=md,md=null,It=t):It=n):It=Vt?Hn(t.stateNode.nextSibling):null;return!0}function qi(){It=Vt=null,jt=!1}function Ko(){var t=wi;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),wi=null),t}function Mr(t){wi===null?wi=[t]:wi.push(t)}var Rr=P(null),Si=null,ni=null;function As(t,n,a){rt(Rr,n._currentValue),n._currentValue=a}function Zi(t){t._currentValue=Rr.current,K(Rr)}function Fh(t,n,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),t===a)break;t=t.return}}function Kh(t,n,a,c){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var _=m.dependencies;if(_!==null){var S=m.child;_=_.firstContext;t:for(;_!==null;){var A=_;_=m;for(var j=0;j<n.length;j++)if(A.context===n[j]){_.lanes|=a,A=_.alternate,A!==null&&(A.lanes|=a),Fh(_.return,a,t),c||(S=null);break t}_=A.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(o(341));S.lanes|=a,_=S.alternate,_!==null&&(_.lanes|=a),Fh(S,a,t),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===t){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Aa(t,n,a,c){t=null;for(var m=n,_=!1;m!==null;){if(!_){if((m.flags&524288)!==0)_=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var A=m.type;ze(m.pendingProps.value,S.value)||(t!==null?t.push(A):t=[A])}}else if(m===Mt.current){if(S=m.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}m=m.return}t!==null&&Kh(n,t,a,c),n.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!ze(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function kr(t){Si=t,ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Vp(Si,t)}function zu(t,n){return Si===null&&kr(t),Vp(t,n)}function Vp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ni===null){if(t===null)throw Error(o(308));ni=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ni=ni.next=n;return a}var Zx=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Gx=i.unstable_scheduleCallback,$x=i.unstable_NormalPriority,Ee={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new Zx,data:new Map,refCount:0}}function Yo(t){t.refCount--,t.refCount===0&&Gx($x,function(){t.controller.abort()})}var Xo=null,Xh=0,Oa=0,La=null;function Fx(t,n){if(Xo===null){var a=Xo=[];Xh=0,Oa=td(),La={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Xh++,n.then(Ip,Ip),n}function Ip(){if(--Xh===0&&Xo!==null){La!==null&&(La.status="fulfilled");var t=Xo;Xo=null,Oa=0,La=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Kx(t,n){var a=[],c={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return t.then(function(){c.status="fulfilled",c.value=n;for(var m=0;m<a.length;m++)(0,a[m])(n)},function(m){for(c.status="rejected",c.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),c}var Hp=F.S;F.S=function(t,n){E_=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Fx(t,n),Hp!==null&&Hp(t,n)};var jr=P(null);function Wh(){var t=jr.current;return t!==null?t:ee.pooledCache}function Bu(t,n){n===null?rt(jr,jr.current):rt(jr,n.pool)}function qp(){var t=Wh();return t===null?null:{parent:Ee._currentValue,pool:t}}var Ma=Error(o(460)),Jh=Error(o(474)),Uu=Error(o(542)),Vu={then:function(){}};function Zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(cn,cn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fp(t),t;default:if(typeof n.status=="string")n.then(cn,cn);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=n,t.status="pending",t.then(function(c){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=c}},function(c){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Fp(t),t}throw Nr=n,Ma}}function Pr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Nr=a,Ma):a}}var Nr=null;function $p(){if(Nr===null)throw Error(o(459));var t=Nr;return Nr=null,t}function Fp(t){if(t===Ma||t===Uu)throw Error(o(483))}var Ra=null,Wo=0;function Iu(t){var n=Wo;return Wo+=1,Ra===null&&(Ra=[]),Gp(Ra,t,n)}function Jo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Hu(t,n){throw n.$$typeof===T?Error(o(525)):(t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Kp(t){function n(U,D){if(t){var I=U.deletions;I===null?(U.deletions=[D],U.flags|=16):I.push(D)}}function a(U,D){if(!t)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function c(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function m(U,D){return U=Vn(U,D),U.index=0,U.sibling=null,U}function _(U,D,I){return U.index=I,t?(I=U.alternate,I!==null?(I=I.index,I<D?(U.flags|=67108866,D):I):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function S(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function A(U,D,I,X){return D===null||D.tag!==6?(D=Ea(I,U.mode,X),D.return=U,D):(D=m(D,I),D.return=U,D)}function j(U,D,I,X){var yt=I.type;return yt===R?Y(U,D,I.props.children,X,I.key):D!==null&&(D.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===ft&&Pr(yt)===D.type)?(D=m(D,I.props),Jo(D,I),D.return=U,D):(D=Lr(I.type,I.key,I.props,null,U.mode,X),Jo(D,I),D.return=U,D)}function H(U,D,I,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==I.containerInfo||D.stateNode.implementation!==I.implementation?(D=$o(I,U.mode,X),D.return=U,D):(D=m(D,I.children||[]),D.return=U,D)}function Y(U,D,I,X,yt){return D===null||D.tag!==7?(D=Hi(I,U.mode,X,yt),D.return=U,D):(D=m(D,I),D.return=U,D)}function Q(U,D,I){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Ea(""+D,U.mode,I),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return I=Lr(D.type,D.key,D.props,null,U.mode,I),Jo(I,D),I.return=U,I;case M:return D=$o(D,U.mode,I),D.return=U,D;case ft:return D=Pr(D),Q(U,D,I)}if(Ke(D)||Gt(D))return D=Hi(D,U.mode,I,null),D.return=U,D;if(typeof D.then=="function")return Q(U,Iu(D),I);if(D.$$typeof===B)return Q(U,zu(U,D),I);Hu(U,D)}return null}function G(U,D,I,X){var yt=D!==null?D.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return yt!==null?null:A(U,D,""+I,X);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case E:return I.key===yt?j(U,D,I,X):null;case M:return I.key===yt?H(U,D,I,X):null;case ft:return I=Pr(I),G(U,D,I,X)}if(Ke(I)||Gt(I))return yt!==null?null:Y(U,D,I,X,null);if(typeof I.then=="function")return G(U,D,Iu(I),X);if(I.$$typeof===B)return G(U,D,zu(U,I),X);Hu(U,I)}return null}function $(U,D,I,X,yt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(I)||null,A(D,U,""+X,yt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return U=U.get(X.key===null?I:X.key)||null,j(D,U,X,yt);case M:return U=U.get(X.key===null?I:X.key)||null,H(D,U,X,yt);case ft:return X=Pr(X),$(U,D,I,X,yt)}if(Ke(X)||Gt(X))return U=U.get(I)||null,Y(D,U,X,yt,null);if(typeof X.then=="function")return $(U,D,I,Iu(X),yt);if(X.$$typeof===B)return $(U,D,I,zu(D,X),yt);Hu(D,X)}return null}function mt(U,D,I,X){for(var yt=null,Ht=null,pt=D,Lt=D=0,Bt=null;pt!==null&&Lt<I.length;Lt++){pt.index>Lt?(Bt=pt,pt=null):Bt=pt.sibling;var qt=G(U,pt,I[Lt],X);if(qt===null){pt===null&&(pt=Bt);break}t&&pt&&qt.alternate===null&&n(U,pt),D=_(qt,D,Lt),Ht===null?yt=qt:Ht.sibling=qt,Ht=qt,pt=Bt}if(Lt===I.length)return a(U,pt),jt&&vt(U,Lt),yt;if(pt===null){for(;Lt<I.length;Lt++)pt=Q(U,I[Lt],X),pt!==null&&(D=_(pt,D,Lt),Ht===null?yt=pt:Ht.sibling=pt,Ht=pt);return jt&&vt(U,Lt),yt}for(pt=c(pt);Lt<I.length;Lt++)Bt=$(pt,U,Lt,I[Lt],X),Bt!==null&&(t&&Bt.alternate!==null&&pt.delete(Bt.key===null?Lt:Bt.key),D=_(Bt,D,Lt),Ht===null?yt=Bt:Ht.sibling=Bt,Ht=Bt);return t&&pt.forEach(function(Gs){return n(U,Gs)}),jt&&vt(U,Lt),yt}function bt(U,D,I,X){if(I==null)throw Error(o(151));for(var yt=null,Ht=null,pt=D,Lt=D=0,Bt=null,qt=I.next();pt!==null&&!qt.done;Lt++,qt=I.next()){pt.index>Lt?(Bt=pt,pt=null):Bt=pt.sibling;var Gs=G(U,pt,qt.value,X);if(Gs===null){pt===null&&(pt=Bt);break}t&&pt&&Gs.alternate===null&&n(U,pt),D=_(Gs,D,Lt),Ht===null?yt=Gs:Ht.sibling=Gs,Ht=Gs,pt=Bt}if(qt.done)return a(U,pt),jt&&vt(U,Lt),yt;if(pt===null){for(;!qt.done;Lt++,qt=I.next())qt=Q(U,qt.value,X),qt!==null&&(D=_(qt,D,Lt),Ht===null?yt=qt:Ht.sibling=qt,Ht=qt);return jt&&vt(U,Lt),yt}for(pt=c(pt);!qt.done;Lt++,qt=I.next())qt=$(pt,U,Lt,qt.value,X),qt!==null&&(t&&qt.alternate!==null&&pt.delete(qt.key===null?Lt:qt.key),D=_(qt,D,Lt),Ht===null?yt=qt:Ht.sibling=qt,Ht=qt);return t&&pt.forEach(function(rT){return n(U,rT)}),jt&&vt(U,Lt),yt}function Jt(U,D,I,X){if(typeof I=="object"&&I!==null&&I.type===R&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case E:t:{for(var yt=I.key;D!==null;){if(D.key===yt){if(yt=I.type,yt===R){if(D.tag===7){a(U,D.sibling),X=m(D,I.props.children),X.return=U,U=X;break t}}else if(D.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===ft&&Pr(yt)===D.type){a(U,D.sibling),X=m(D,I.props),Jo(X,I),X.return=U,U=X;break t}a(U,D);break}else n(U,D);D=D.sibling}I.type===R?(X=Hi(I.props.children,U.mode,X,I.key),X.return=U,U=X):(X=Lr(I.type,I.key,I.props,null,U.mode,X),Jo(X,I),X.return=U,U=X)}return S(U);case M:t:{for(yt=I.key;D!==null;){if(D.key===yt)if(D.tag===4&&D.stateNode.containerInfo===I.containerInfo&&D.stateNode.implementation===I.implementation){a(U,D.sibling),X=m(D,I.children||[]),X.return=U,U=X;break t}else{a(U,D);break}else n(U,D);D=D.sibling}X=$o(I,U.mode,X),X.return=U,U=X}return S(U);case ft:return I=Pr(I),Jt(U,D,I,X)}if(Ke(I))return mt(U,D,I,X);if(Gt(I)){if(yt=Gt(I),typeof yt!="function")throw Error(o(150));return I=yt.call(I),bt(U,D,I,X)}if(typeof I.then=="function")return Jt(U,D,Iu(I),X);if(I.$$typeof===B)return Jt(U,D,zu(U,I),X);Hu(U,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,D!==null&&D.tag===6?(a(U,D.sibling),X=m(D,I),X.return=U,U=X):(a(U,D),X=Ea(I,U.mode,X),X.return=U,U=X),S(U)):a(U,D)}return function(U,D,I,X){try{Wo=0;var yt=Jt(U,D,I,X);return Ra=null,yt}catch(pt){if(pt===Ma||pt===Uu)throw pt;var Ht=Xe(29,pt,null,U.mode);return Ht.lanes=X,Ht.return=U,Ht}finally{}}}var Dr=Kp(!0),Yp=Kp(!1),Os=!1;function Qh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(t,n,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Zt&2)!==0){var m=c.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),c.pending=n,n=Or(t),Cs(t,null,a),n}return bi(t,c,n,a),Or(t)}function Qo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var c=n.lanes;c&=t.pendingLanes,a|=c,n.lanes=a,uu(t,a)}}function ef(t,n){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var m=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};_===null?m=_=S:_=_.next=S,a=a.next}while(a!==null);_===null?m=_=n:_=_.next=n}else m=_=n;a={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var nf=!1;function tl(){if(nf){var t=La;if(t!==null)throw t}}function el(t,n,a,c){nf=!1;var m=t.updateQueue;Os=!1;var _=m.firstBaseUpdate,S=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var j=A,H=j.next;j.next=null,S===null?_=H:S.next=H,S=j;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==S&&(A===null?Y.firstBaseUpdate=H:A.next=H,Y.lastBaseUpdate=j))}if(_!==null){var Q=m.baseState;S=0,Y=H=j=null,A=_;do{var G=A.lane&-536870913,$=G!==A.lane;if($?(zt&G)===G:(c&G)===G){G!==0&&G===Oa&&(nf=!0),Y!==null&&(Y=Y.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var mt=t,bt=A;G=n;var Jt=a;switch(bt.tag){case 1:if(mt=bt.payload,typeof mt=="function"){Q=mt.call(Jt,Q,G);break t}Q=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=bt.payload,G=typeof mt=="function"?mt.call(Jt,Q,G):mt,G==null)break t;Q=w({},Q,G);break t;case 2:Os=!0}}G=A.callback,G!==null&&(t.flags|=64,$&&(t.flags|=8192),$=m.callbacks,$===null?m.callbacks=[G]:$.push(G))}else $={lane:G,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(H=Y=$,j=Q):Y=Y.next=$,S|=G;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;$=A,A=$.next,$.next=null,m.lastBaseUpdate=$,m.shared.pending=null}}while(!0);Y===null&&(j=Q),m.baseState=j,m.firstBaseUpdate=H,m.lastBaseUpdate=Y,_===null&&(m.shared.lanes=0),Ns|=S,t.lanes=S,t.memoizedState=Q}}function Xp(t,n){if(typeof t!="function")throw Error(o(191,t));t.call(n)}function Wp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xp(a[t],n)}var ka=P(null),qu=P(0);function Jp(t,n){t=Qi,rt(qu,t),rt(ka,n),Qi=t|n.baseLanes}function sf(){rt(qu,Qi),rt(ka,ka.current)}function rf(){Qi=qu.current,K(ka),K(qu)}var An=P(null),In=null;function Rs(t){var n=t.alternate;rt(we,we.current&1),rt(An,t),In===null&&(n===null||ka.current!==null||n.memoizedState!==null)&&(In=t)}function af(t){rt(we,we.current),rt(An,t),In===null&&(In=t)}function Qp(t){t.tag===22?(rt(we,we.current),rt(An,t),In===null&&(In=t)):ks()}function ks(){rt(we,we.current),rt(An,An.current)}function On(t){K(An),In===t&&(In=null),K(we)}var we=P(0);function Zu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fd(a)||dd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gi=0,At=null,Xt=null,Ce=null,Gu=!1,ja=!1,zr=!1,$u=0,nl=0,Pa=null,Yx=0;function ve(){throw Error(o(321))}function of(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ze(t[a],n[a]))return!1;return!0}function lf(t,n,a,c,m,_){return Gi=_,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Dg:Sf,zr=!1,_=a(c,m),zr=!1,ja&&(_=eg(n,a,c,m)),tg(t),_}function tg(t){F.H=rl;var n=Xt!==null&&Xt.next!==null;if(Gi=0,Ce=Xt=At=null,Gu=!1,nl=0,Pa=null,n)throw Error(o(300));t===null||Ae||(t=t.dependencies,t!==null&&Du(t)&&(Ae=!0))}function eg(t,n,a,c){At=t;var m=0;do{if(ja&&(Pa=null),nl=0,ja=!1,25<=m)throw Error(o(301));if(m+=1,Ce=Xt=null,t.updateQueue!=null){var _=t.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}F.H=zg,_=n(a,c)}while(ja);return _}function Xx(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(At.flags|=1024),n}function uf(){var t=$u!==0;return $u=0,t}function cf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function hf(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}Gi=0,Ce=Xt=At=null,ja=!1,nl=$u=0,Pa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?At.memoizedState=Ce=t:Ce=Ce.next=t,Ce}function xe(){if(Xt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Ce===null?At.memoizedState:Ce.next;if(n!==null)Ce=n,Xt=t;else{if(t===null)throw At.alternate===null?Error(o(467)):Error(o(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ce===null?At.memoizedState=Ce=t:Ce=Ce.next=t}return Ce}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var n=nl;return nl+=1,Pa===null&&(Pa=[]),t=Gp(Pa,t,n),n=At,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Dg:Sf),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===B)return He(t)}throw Error(o(438,String(t)))}function ff(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var c=At.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fu(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),c=0;c<t;c++)a[c]=ie;return n.index++,a}function $i(t,n){return typeof n=="function"?n(t):n}function Yu(t){var n=xe();return df(n,Xt,t)}function df(t,n,a){var c=t.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=a;var m=t.baseQueue,_=c.pending;if(_!==null){if(m!==null){var S=m.next;m.next=_.next,_.next=S}n.baseQueue=m=_,c.pending=null}if(_=t.baseState,m===null)t.memoizedState=_;else{n=m.next;var A=S=null,j=null,H=n,Y=!1;do{var Q=H.lane&-536870913;if(Q!==H.lane?(zt&Q)===Q:(Gi&Q)===Q){var G=H.revertLane;if(G===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Q===Oa&&(Y=!0);else if((Gi&G)===G){H=H.next,G===Oa&&(Y=!0);continue}else Q={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(A=j=Q,S=_):j=j.next=Q,At.lanes|=G,Ns|=G;Q=H.action,zr&&a(_,Q),_=H.hasEagerState?H.eagerState:a(_,Q)}else G={lane:Q,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},j===null?(A=j=G,S=_):j=j.next=G,At.lanes|=Q,Ns|=Q;H=H.next}while(H!==null&&H!==n);if(j===null?S=_:j.next=A,!ze(_,t.memoizedState)&&(Ae=!0,Y&&(a=La,a!==null)))throw a;t.memoizedState=_,t.baseState=S,t.baseQueue=j,c.lastRenderedState=_}return m===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function mf(t){var n=xe(),a=n.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var c=a.dispatch,m=a.pending,_=n.memoizedState;if(m!==null){a.pending=null;var S=m=m.next;do _=t(_,S.action),S=S.next;while(S!==m);ze(_,n.memoizedState)||(Ae=!0),n.memoizedState=_,n.baseQueue===null&&(n.baseState=_),a.lastRenderedState=_}return[_,c]}function ng(t,n,a){var c=At,m=xe(),_=jt;if(_){if(a===void 0)throw Error(o(407));a=a()}else a=n();var S=!ze((Xt||m).memoizedState,a);if(S&&(m.memoizedState=a,Ae=!0),m=m.queue,_f(rg.bind(null,c,m,t),[t]),m.getSnapshot!==n||S||Ce!==null&&Ce.memoizedState.tag&1){if(c.flags|=2048,Na(9,{destroy:void 0},sg.bind(null,c,m,a,n),null),ee===null)throw Error(o(349));_||(Gi&127)!==0||ig(c,n,a)}return a}function ig(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=Fu(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function sg(t,n,a,c){n.value=a,n.getSnapshot=c,ag(n)&&og(t)}function rg(t,n,a){return a(function(){ag(n)&&og(t)})}function ag(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ze(t,a)}catch{return!0}}function og(t){var n=Un(t,2);n!==null&&yn(n,t,2)}function pf(t){var n=rn();if(typeof t=="function"){var a=t;if(t=a(),zr){Kn(!0);try{a()}finally{Kn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},n}function lg(t,n,a,c){return t.baseState=a,df(t,Xt,typeof c=="function"?c:$i)}function Wx(t,n,a,c,m){if(Ju(t))throw Error(o(485));if(t=n.action,t!==null){var _={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){_.listeners.push(S)}};F.T!==null?a(!0):_.isTransition=!1,c(_),a=n.pending,a===null?(_.next=n.pending=_,ug(n,_)):(_.next=a.next,n.pending=a.next=_)}}function ug(t,n){var a=n.action,c=n.payload,m=t.state;if(n.isTransition){var _=F.T,S={};F.T=S;try{var A=a(m,c),j=F.S;j!==null&&j(S,A),cg(t,n,A)}catch(H){gf(t,n,H)}finally{_!==null&&S.types!==null&&(_.types=S.types),F.T=_}}else try{_=a(m,c),cg(t,n,_)}catch(H){gf(t,n,H)}}function cg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){hg(t,n,c)},function(c){return gf(t,n,c)}):hg(t,n,a)}function hg(t,n,a){n.status="fulfilled",n.value=a,fg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,ug(t,a)))}function gf(t,n,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=a,fg(n),n=n.next;while(n!==c)}t.action=null}function fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dg(t,n){return n}function mg(t,n){if(jt){var a=ee.formState;if(a!==null){t:{var c=At;if(jt){if(It){e:{for(var m=It,_=mn;m.nodeType!==8;){if(!_){m=null;break e}if(m=Hn(m.nextSibling),m===null){m=null;break e}}_=m.data,m=_==="F!"||_==="F"?m:null}if(m){It=Hn(m.nextSibling),c=m.data==="F!";break t}}xi(c)}c=!1}c&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},a.queue=c,a=jg.bind(null,At,c),c.dispatch=a,c=pf(!1),_=xf.bind(null,At,!1,c.queue),c=rn(),m={state:n,dispatch:null,action:t,pending:null},c.queue=m,a=Wx.bind(null,At,m,_,a),m.dispatch=a,c.memoizedState=t,[n,a,!1]}function pg(t){var n=xe();return gg(n,Xt,t)}function gg(t,n,a){if(n=df(t,n,dg)[0],t=Yu($i)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=il(n)}catch(S){throw S===Ma?Uu:S}else c=n;n=xe();var m=n.queue,_=m.dispatch;return a!==n.memoizedState&&(At.flags|=2048,Na(9,{destroy:void 0},Jx.bind(null,m,a),null)),[c,_,t]}function Jx(t,n){t.action=n}function _g(t){var n=xe(),a=Xt;if(a!==null)return gg(n,a,t);xe(),n=n.memoizedState,a=xe();var c=a.queue.dispatch;return a.memoizedState=t,[n,c,!1]}function Na(t,n,a,c){return t={tag:t,create:a,deps:c,inst:n,next:null},n=At.updateQueue,n===null&&(n=Fu(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,n.lastEffect=t),t}function vg(){return xe().memoizedState}function Xu(t,n,a,c){var m=rn();At.flags|=t,m.memoizedState=Na(1|n,{destroy:void 0},a,c===void 0?null:c)}function Wu(t,n,a,c){var m=xe();c=c===void 0?null:c;var _=m.memoizedState.inst;Xt!==null&&c!==null&&of(c,Xt.memoizedState.deps)?m.memoizedState=Na(n,_,a,c):(At.flags|=t,m.memoizedState=Na(1|n,_,a,c))}function yg(t,n){Xu(8390656,8,t,n)}function _f(t,n){Wu(2048,8,t,n)}function Qx(t){At.flags|=4;var n=At.updateQueue;if(n===null)n=Fu(),At.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function bg(t){var n=xe().memoizedState;return Qx({ref:n,nextImpl:t}),function(){if((Zt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function wg(t,n){return Wu(4,2,t,n)}function xg(t,n){return Wu(4,4,t,n)}function Sg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Tg(t,n,a){a=a!=null?a.concat([t]):null,Wu(4,4,Sg.bind(null,n,t),a)}function vf(){}function Eg(t,n){var a=xe();n=n===void 0?null:n;var c=a.memoizedState;return n!==null&&of(n,c[1])?c[0]:(a.memoizedState=[t,n],t)}function Cg(t,n){var a=xe();n=n===void 0?null:n;var c=a.memoizedState;if(n!==null&&of(n,c[1]))return c[0];if(c=t(),zr){Kn(!0);try{t()}finally{Kn(!1)}}return a.memoizedState=[c,n],c}function yf(t,n,a){return a===void 0||(Gi&1073741824)!==0&&(zt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=A_(),At.lanes|=t,Ns|=t,a)}function Ag(t,n,a,c){return ze(a,n)?a:ka.current!==null?(t=yf(t,a,c),ze(t,n)||(Ae=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(zt&261930)===0?(Ae=!0,t.memoizedState=a):(t=A_(),At.lanes|=t,Ns|=t,n)}function Og(t,n,a,c,m){var _=it.p;it.p=_!==0&&8>_?_:8;var S=F.T,A={};F.T=A,xf(t,!1,n,a);try{var j=m(),H=F.S;if(H!==null&&H(A,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Y=Kx(j,c);sl(t,n,Y,Rn(t))}else sl(t,n,c,Rn(t))}catch(Q){sl(t,n,{then:function(){},status:"rejected",reason:Q},Rn())}finally{it.p=_,S!==null&&A.types!==null&&(S.types=A.types),F.T=S}}function tS(){}function bf(t,n,a,c){if(t.tag!==5)throw Error(o(476));var m=Lg(t).queue;Og(t,m,n,et,a===null?tS:function(){return Mg(t),a(c)})}function Lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:et},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mg(t){var n=Lg(t);n.next===null&&(n=t.alternate.memoizedState),sl(t,n.next.queue,{},Rn())}function wf(){return He(wl)}function Rg(){return xe().memoizedState}function kg(){return xe().memoizedState}function eS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Rn();t=Ls(a);var c=Ms(n,t,a);c!==null&&(yn(c,n,a),Qo(c,n,a)),n={cache:Yh()},t.payload=n;return}n=n.return}}function nS(t,n,a){var c=Rn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(t)?Pg(n,a):(a=qo(t,n,a,c),a!==null&&(yn(a,t,c),Ng(a,n,c)))}function jg(t,n,a){var c=Rn();sl(t,n,a,c)}function sl(t,n,a,c){var m={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))Pg(n,m);else{var _=t.alternate;if(t.lanes===0&&(_===null||_.lanes===0)&&(_=n.lastRenderedReducer,_!==null))try{var S=n.lastRenderedState,A=_(S,a);if(m.hasEagerState=!0,m.eagerState=A,ze(A,S))return bi(t,n,m,0),ee===null&&Ar(),!1}catch{}finally{}if(a=qo(t,n,m,c),a!==null)return yn(a,t,c),Ng(a,n,c),!0}return!1}function xf(t,n,a,c){if(c={lane:2,revertLane:td(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(n)throw Error(o(479))}else n=qo(t,a,c,2),n!==null&&yn(n,t,2)}function Ju(t){var n=t.alternate;return t===At||n!==null&&n===At}function Pg(t,n){ja=Gu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ng(t,n,a){if((a&4194048)!==0){var c=n.lanes;c&=t.pendingLanes,a|=c,n.lanes=a,uu(t,a)}}var rl={readContext:He,use:Ku,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};rl.useEffectEvent=ve;var Dg={readContext:He,use:Ku,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:yg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Xu(4194308,4,Sg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var a=rn();n=n===void 0?null:n;var c=t();if(zr){Kn(!0);try{t()}finally{Kn(!1)}}return a.memoizedState=[c,n],c},useReducer:function(t,n,a){var c=rn();if(a!==void 0){var m=a(n);if(zr){Kn(!0);try{a(n)}finally{Kn(!1)}}}else m=n;return c.memoizedState=c.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},c.queue=t,t=t.dispatch=nS.bind(null,At,t),[c.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=pf(t);var n=t.queue,a=jg.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:vf,useDeferredValue:function(t,n){var a=rn();return yf(a,t,n)},useTransition:function(){var t=pf(!1);return t=Og.bind(null,At,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var c=At,m=rn();if(jt){if(a===void 0)throw Error(o(407));a=a()}else{if(a=n(),ee===null)throw Error(o(349));(zt&127)!==0||ig(c,n,a)}m.memoizedState=a;var _={value:a,getSnapshot:n};return m.queue=_,yg(rg.bind(null,c,_,t),[t]),c.flags|=2048,Na(9,{destroy:void 0},sg.bind(null,c,_,a,n),null),a},useId:function(){var t=rn(),n=ee.identifierPrefix;if(jt){var a=lt,c=J;a=(c&~(1<<32-en(c)-1)).toString(32)+a,n="_"+n+"R_"+a,a=$u++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Yx++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:wf,useFormState:mg,useActionState:mg,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=xf.bind(null,At,!0,a),a.dispatch=n,[t,n]},useMemoCache:ff,useCacheRefresh:function(){return rn().memoizedState=eS.bind(null,At)},useEffectEvent:function(t){var n=rn(),a={impl:t};return n.memoizedState=a,function(){if((Zt&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Sf={readContext:He,use:Ku,useCallback:Eg,useContext:He,useEffect:_f,useImperativeHandle:Tg,useInsertionEffect:wg,useLayoutEffect:xg,useMemo:Cg,useReducer:Yu,useRef:vg,useState:function(){return Yu($i)},useDebugValue:vf,useDeferredValue:function(t,n){var a=xe();return Ag(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Yu($i)[0],n=xe().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:ng,useId:Rg,useHostTransitionStatus:wf,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var a=xe();return lg(a,Xt,t,n)},useMemoCache:ff,useCacheRefresh:kg};Sf.useEffectEvent=bg;var zg={readContext:He,use:Ku,useCallback:Eg,useContext:He,useEffect:_f,useImperativeHandle:Tg,useInsertionEffect:wg,useLayoutEffect:xg,useMemo:Cg,useReducer:mf,useRef:vg,useState:function(){return mf($i)},useDebugValue:vf,useDeferredValue:function(t,n){var a=xe();return Xt===null?yf(a,t,n):Ag(a,Xt.memoizedState,t,n)},useTransition:function(){var t=mf($i)[0],n=xe().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:ng,useId:Rg,useHostTransitionStatus:wf,useFormState:_g,useActionState:_g,useOptimistic:function(t,n){var a=xe();return Xt!==null?lg(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ff,useCacheRefresh:kg};zg.useEffectEvent=bg;function Tf(t,n,a,c){n=t.memoizedState,a=a(c,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ef={enqueueSetState:function(t,n,a){t=t._reactInternals;var c=Rn(),m=Ls(c);m.payload=n,a!=null&&(m.callback=a),n=Ms(t,m,c),n!==null&&(yn(n,t,c),Qo(n,t,c))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var c=Rn(),m=Ls(c);m.tag=1,m.payload=n,a!=null&&(m.callback=a),n=Ms(t,m,c),n!==null&&(yn(n,t,c),Qo(n,t,c))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Rn(),c=Ls(a);c.tag=2,n!=null&&(c.callback=n),n=Ms(t,c,a),n!==null&&(yn(n,t,a),Qo(n,t,a))}};function Bg(t,n,a,c,m,_,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,_,S):n.prototype&&n.prototype.isPureReactComponent?!xs(a,c)||!xs(m,_):!0}function Ug(t,n,a,c){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==t&&Ef.enqueueReplaceState(n,n.state,null)}function Br(t,n){var a=n;if("ref"in n){a={};for(var c in n)c!=="ref"&&(a[c]=n[c])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var m in t)a[m]===void 0&&(a[m]=t[m])}return a}function Vg(t){Cr(t)}function Ig(t){console.error(t)}function Hg(t){Cr(t)}function Qu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function qg(t,n,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Cf(t,n,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(t,n)},a}function Zg(t){return t=Ls(t),t.tag=3,t}function Gg(t,n,a,c){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var _=c.value;t.payload=function(){return m(_)},t.callback=function(){qg(n,a,c)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){qg(n,a,c),typeof m!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function iS(t,n,a,c,m){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=a.alternate,n!==null&&Aa(n,a,m,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return In===null?hc():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=m,c===Vu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([c]):n.add(c),Wf(t,c,m)),!1;case 22:return a.flags|=65536,c===Vu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([c]):a.add(c)),Wf(t,c,m)),!1}throw Error(o(435,a.tag))}return Wf(t,c,m),hc(),!1}if(jt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,c!==Ca&&(t=Error(o(422),{cause:c}),Mr(u(t,a)))):(c!==Ca&&(n=Error(o(423),{cause:c}),Mr(u(n,a))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,c=u(c,a),m=Cf(t.stateNode,c,m),ef(t,m),ye!==4&&(ye=2)),!1;var _=Error(o(520),{cause:c});if(_=u(_,a),dl===null?dl=[_]:dl.push(_),ye!==4&&(ye=2),n===null)return!0;c=u(c,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=m&-m,a.lanes|=t,t=Cf(a.stateNode,c,t),ef(a,t),!1;case 1:if(n=a.type,_=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ds===null||!Ds.has(_))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Zg(m),Gg(m,t,a,c),ef(a,m),!1}a=a.return}while(a!==null);return!1}var Af=Error(o(461)),Ae=!1;function qe(t,n,a,c){n.child=t===null?Yp(n,null,a,c):Dr(n,t.child,a,c)}function $g(t,n,a,c,m){a=a.render;var _=n.ref;if("ref"in c){var S={};for(var A in c)A!=="ref"&&(S[A]=c[A])}else S=c;return kr(n),c=lf(t,n,a,S,_,m),A=uf(),t!==null&&!Ae?(cf(t,n,m),Fi(t,n,m)):(jt&&A&&je(n),n.flags|=1,qe(t,n,c,m),n.child)}function Fg(t,n,a,c,m){if(t===null){var _=a.type;return typeof _=="function"&&!Ta(_)&&_.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=_,Kg(t,n,_,c,m)):(t=Lr(a.type,null,c,n,n.mode,m),t.ref=n.ref,t.return=n,n.child=t)}if(_=t.child,!Nf(t,m)){var S=_.memoizedProps;if(a=a.compare,a=a!==null?a:xs,a(S,c)&&t.ref===n.ref)return Fi(t,n,m)}return n.flags|=1,t=Vn(_,c),t.ref=n.ref,t.return=n,n.child=t}function Kg(t,n,a,c,m){if(t!==null){var _=t.memoizedProps;if(xs(_,c)&&t.ref===n.ref)if(Ae=!1,n.pendingProps=c=_,Nf(t,m))(t.flags&131072)!==0&&(Ae=!0);else return n.lanes=t.lanes,Fi(t,n,m)}return Of(t,n,a,c,m)}function Yg(t,n,a,c){var m=c.children,_=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(_=_!==null?_.baseLanes|a:a,t!==null){for(c=n.child=t.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~_}else c=0,n.child=null;return Xg(t,n,_,a,c)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,_!==null?_.cachePool:null),_!==null?Jp(n,_):sf(),Qp(n);else return c=n.lanes=536870912,Xg(t,n,_!==null?_.baseLanes|a:a,a,c)}else _!==null?(Bu(n,_.cachePool),Jp(n,_),ks(),n.memoizedState=null):(t!==null&&Bu(n,null),sf(),ks());return qe(t,n,m,a),n.child}function al(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Xg(t,n,a,c,m){var _=Wh();return _=_===null?null:{parent:Ee._currentValue,pool:_},n.memoizedState={baseLanes:a,cachePool:_},t!==null&&Bu(n,null),sf(),Qp(n),t!==null&&Aa(t,n,c,!0),n.childLanes=m,null}function tc(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Wg(t,n,a){return Dr(n,t.child,null,a),t=tc(n,n.pendingProps),t.flags|=2,On(n),n.memoizedState=null,t}function sS(t,n,a){var c=n.pendingProps,m=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(jt){if(c.mode==="hidden")return t=tc(n,c),n.lanes=536870912,al(null,t);if(af(n),(t=It)?(t=uv(t,mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Z!==null?{id:J,overflow:lt}:null,retryLane:536870912,hydrationErrors:null},a=Go(t),a.return=n,n.child=a,Vt=n,It=null)):t=null,t===null)throw xi(n);return n.lanes=536870912,null}return tc(n,c)}var _=t.memoizedState;if(_!==null){var S=_.dehydrated;if(af(n),m)if(n.flags&256)n.flags&=-257,n=Wg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(o(558));else if(Ae||Aa(t,n,a,!1),m=(a&t.childLanes)!==0,Ae||m){if(c=ee,c!==null&&(S=cu(c,a),S!==0&&S!==_.retryLane))throw _.retryLane=S,Un(t,S),yn(c,t,S),Af;hc(),n=Wg(t,n,a)}else t=_.treeContext,It=Hn(S.nextSibling),Vt=n,jt=!0,wi=null,mn=!1,t!==null&&sn(n,t),n=tc(n,c),n.flags|=4096;return n}return t=Vn(t.child,{mode:c.mode,children:c.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ec(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Of(t,n,a,c,m){return kr(n),a=lf(t,n,a,c,void 0,m),c=uf(),t!==null&&!Ae?(cf(t,n,m),Fi(t,n,m)):(jt&&c&&je(n),n.flags|=1,qe(t,n,a,m),n.child)}function Jg(t,n,a,c,m,_){return kr(n),n.updateQueue=null,a=eg(n,c,a,m),tg(t),c=uf(),t!==null&&!Ae?(cf(t,n,_),Fi(t,n,_)):(jt&&c&&je(n),n.flags|=1,qe(t,n,a,_),n.child)}function Qg(t,n,a,c,m){if(kr(n),n.stateNode===null){var _=Ii,S=a.contextType;typeof S=="object"&&S!==null&&(_=He(S)),_=new a(c,_),n.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Ef,n.stateNode=_,_._reactInternals=n,_=n.stateNode,_.props=c,_.state=n.memoizedState,_.refs={},Qh(n),S=a.contextType,_.context=typeof S=="object"&&S!==null?He(S):Ii,_.state=n.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Tf(n,a,S,c),_.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(S=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),S!==_.state&&Ef.enqueueReplaceState(_,_.state,null),el(n,c,_,m),tl(),_.state=n.memoizedState),typeof _.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(t===null){_=n.stateNode;var A=n.memoizedProps,j=Br(a,A);_.props=j;var H=_.context,Y=a.contextType;S=Ii,typeof Y=="object"&&Y!==null&&(S=He(Y));var Q=a.getDerivedStateFromProps;Y=typeof Q=="function"||typeof _.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,Y||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A||H!==S)&&Ug(n,_,c,S),Os=!1;var G=n.memoizedState;_.state=G,el(n,c,_,m),tl(),H=n.memoizedState,A||G!==H||Os?(typeof Q=="function"&&(Tf(n,a,Q,c),H=n.memoizedState),(j=Os||Bg(n,a,j,c,G,H,S))?(Y||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(n.flags|=4194308)):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=H),_.props=c,_.state=H,_.context=S,c=j):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{_=n.stateNode,tf(t,n),S=n.memoizedProps,Y=Br(a,S),_.props=Y,Q=n.pendingProps,G=_.context,H=a.contextType,j=Ii,typeof H=="object"&&H!==null&&(j=He(H)),A=a.getDerivedStateFromProps,(H=typeof A=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==Q||G!==j)&&Ug(n,_,c,j),Os=!1,G=n.memoizedState,_.state=G,el(n,c,_,m),tl();var $=n.memoizedState;S!==Q||G!==$||Os||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof A=="function"&&(Tf(n,a,A,c),$=n.memoizedState),(Y=Os||Bg(n,a,Y,c,G,$,j)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,$,j),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,$,j)),typeof _.componentDidUpdate=="function"&&(n.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=$),_.props=c,_.state=$,_.context=j,c=Y):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),c=!1)}return _=c,ec(t,n),c=(n.flags&128)!==0,_||c?(_=n.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:_.render(),n.flags|=1,t!==null&&c?(n.child=Dr(n,t.child,null,m),n.child=Dr(n,null,a,m)):qe(t,n,a,m),n.memoizedState=_.state,t=n.child):t=Fi(t,n,m),t}function t_(t,n,a,c){return qi(),n.flags|=256,qe(t,n,a,c),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(t){return{baseLanes:t,cachePool:qp()}}function Rf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Mn),t}function e_(t,n,a){var c=n.pendingProps,m=!1,_=(n.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(we.current&2)!==0),S&&(m=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(m?Rs(n):ks(),(t=It)?(t=uv(t,mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Z!==null?{id:J,overflow:lt}:null,retryLane:536870912,hydrationErrors:null},a=Go(t),a.return=n,n.child=a,Vt=n,It=null)):t=null,t===null)throw xi(n);return dd(t)?n.lanes=32:n.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(ks(),m=n.mode,A=nc({mode:"hidden",children:A},m),c=Hi(c,m,a,null),A.return=n,c.return=n,A.sibling=c,n.child=A,c=n.child,c.memoizedState=Mf(a),c.childLanes=Rf(t,S,a),n.memoizedState=Lf,al(null,c)):(Rs(n),kf(n,A))}var j=t.memoizedState;if(j!==null&&(A=j.dehydrated,A!==null)){if(_)n.flags&256?(Rs(n),n.flags&=-257,n=jf(t,n,a)):n.memoizedState!==null?(ks(),n.child=t.child,n.flags|=128,n=null):(ks(),A=c.fallback,m=n.mode,c=nc({mode:"visible",children:c.children},m),A=Hi(A,m,a,null),A.flags|=2,c.return=n,A.return=n,c.sibling=A,n.child=c,Dr(n,t.child,null,a),c=n.child,c.memoizedState=Mf(a),c.childLanes=Rf(t,S,a),n.memoizedState=Lf,n=al(null,c));else if(Rs(n),dd(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var H=S.dgst;S=H,c=Error(o(419)),c.stack="",c.digest=S,Mr({value:c,source:null,stack:null}),n=jf(t,n,a)}else if(Ae||Aa(t,n,a,!1),S=(a&t.childLanes)!==0,Ae||S){if(S=ee,S!==null&&(c=cu(S,a),c!==0&&c!==j.retryLane))throw j.retryLane=c,Un(t,c),yn(S,t,c),Af;fd(A)||hc(),n=jf(t,n,a)}else fd(A)?(n.flags|=192,n.child=t.child,n=null):(t=j.treeContext,It=Hn(A.nextSibling),Vt=n,jt=!0,wi=null,mn=!1,t!==null&&sn(n,t),n=kf(n,c.children),n.flags|=4096);return n}return m?(ks(),A=c.fallback,m=n.mode,j=t.child,H=j.sibling,c=Vn(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,H!==null?A=Vn(H,A):(A=Hi(A,m,a,null),A.flags|=2),A.return=n,c.return=n,c.sibling=A,n.child=c,al(null,c),c=n.child,A=t.child.memoizedState,A===null?A=Mf(a):(m=A.cachePool,m!==null?(j=Ee._currentValue,m=m.parent!==j?{parent:j,pool:j}:m):m=qp(),A={baseLanes:A.baseLanes|a,cachePool:m}),c.memoizedState=A,c.childLanes=Rf(t,S,a),n.memoizedState=Lf,al(t.child,c)):(Rs(n),a=t.child,t=a.sibling,a=Vn(a,{mode:"visible",children:c.children}),a.return=n,a.sibling=null,t!==null&&(S=n.deletions,S===null?(n.deletions=[t],n.flags|=16):S.push(t)),n.child=a,n.memoizedState=null,a)}function kf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=Xe(22,t,null,n),t.lanes=0,t}function jf(t,n,a){return Dr(n,t.child,null,a),t=kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function n_(t,n,a){t.lanes|=n;var c=t.alternate;c!==null&&(c.lanes|=n),Fh(t.return,n,a)}function Pf(t,n,a,c,m,_){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:m,treeForkCount:_}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=c,S.tail=a,S.tailMode=m,S.treeForkCount=_)}function i_(t,n,a){var c=n.pendingProps,m=c.revealOrder,_=c.tail;c=c.children;var S=we.current,A=(S&2)!==0;if(A?(S=S&1|2,n.flags|=128):S&=1,rt(we,S),qe(t,n,c,a),c=jt?C:0,!A&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,a,n);else if(t.tag===19)n_(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(a=n.child,m=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(m=a),a=a.sibling;a=m,a===null?(m=n.child,n.child=null):(m=a.sibling,a.sibling=null),Pf(n,!1,m,a,_,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=n.child,n.child=null;m!==null;){if(t=m.alternate,t!==null&&Zu(t)===null){n.child=m;break}t=m.sibling,m.sibling=a,a=m,m=t}Pf(n,!0,a,null,_,c);break;case"together":Pf(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Fi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ns|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Aa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,a=Vn(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Vn(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Nf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function rS(t,n,a){switch(n.tag){case 3:ae(n,n.stateNode.containerInfo),As(n,Ee,t.memoizedState.cache),qi();break;case 27:case 5:Li(n);break;case 4:ae(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Rs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?e_(t,n,a):(Rs(n),t=Fi(t,n,a),t!==null?t.sibling:null);Rs(n);break;case 19:var m=(t.flags&128)!==0;if(c=(a&n.childLanes)!==0,c||(Aa(t,n,a,!1),c=(a&n.childLanes)!==0),m){if(c)return i_(t,n,a);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(we,we.current),c)break;return null;case 22:return n.lanes=0,Yg(t,n,a,n.pendingProps);case 24:As(n,Ee,t.memoizedState.cache)}return Fi(t,n,a)}function s_(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Nf(t,a)&&(n.flags&128)===0)return Ae=!1,rS(t,n,a);Ae=(t.flags&131072)!==0}else Ae=!1,jt&&(n.flags&1048576)!==0&&Ot(n,C,n.index);switch(n.lanes=0,n.tag){case 16:t:{var c=n.pendingProps;if(t=Pr(n.elementType),n.type=t,typeof t=="function")Ta(t)?(c=Br(t,c),n.tag=1,n=Qg(null,n,t,c,a)):(n.tag=0,n=Of(null,n,t,c,a));else{if(t!=null){var m=t.$$typeof;if(m===tt){n.tag=11,n=$g(null,n,t,c,a);break t}else if(m===st){n.tag=14,n=Fg(null,n,t,c,a);break t}}throw n=pe(t)||t,Error(o(306,n,""))}}return n;case 0:return Of(t,n,n.type,n.pendingProps,a);case 1:return c=n.type,m=Br(c,n.pendingProps),Qg(t,n,c,m,a);case 3:t:{if(ae(n,n.stateNode.containerInfo),t===null)throw Error(o(387));c=n.pendingProps;var _=n.memoizedState;m=_.element,tf(t,n),el(n,c,null,a);var S=n.memoizedState;if(c=S.cache,As(n,Ee,c),c!==_.cache&&Kh(n,[Ee],a,!0),tl(),c=S.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=_,n.memoizedState=_,n.flags&256){n=t_(t,n,c,a);break t}else if(c!==m){m=u(Error(o(424)),n),Mr(m),n=t_(t,n,c,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(It=Hn(t.firstChild),Vt=n,jt=!0,wi=null,mn=!0,a=Yp(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qi(),c===m){n=Fi(t,n,a);break t}qe(t,n,c,a)}n=n.child}return n;case 26:return ec(t,n),t===null?(a=pv(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,t=n.pendingProps,c=vc(ct.current).createElement(a),c[Se]=n,c[De]=t,Ze(c,a,t),Te(c),n.stateNode=c):n.memoizedState=pv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Li(n),t===null&&jt&&(c=n.stateNode=fv(n.type,n.pendingProps,ct.current),Vt=n,mn=!0,m=It,Vs(n.type)?(md=m,It=Hn(c.firstChild)):It=m),qe(t,n,n.pendingProps.children,a),ec(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((m=c=It)&&(c=NS(c,n.type,n.pendingProps,mn),c!==null?(n.stateNode=c,Vt=n,It=Hn(c.firstChild),mn=!1,m=!0):m=!1),m||xi(n)),Li(n),m=n.type,_=n.pendingProps,S=t!==null?t.memoizedProps:null,c=_.children,ud(m,_)?c=null:S!==null&&ud(m,S)&&(n.flags|=32),n.memoizedState!==null&&(m=lf(t,n,Xx,null,null,a),wl._currentValue=m),ec(t,n),qe(t,n,c,a),n.child;case 6:return t===null&&jt&&((t=a=It)&&(a=DS(a,n.pendingProps,mn),a!==null?(n.stateNode=a,Vt=n,It=null,t=!0):t=!1),t||xi(n)),null;case 13:return e_(t,n,a);case 4:return ae(n,n.stateNode.containerInfo),c=n.pendingProps,t===null?n.child=Dr(n,null,c,a):qe(t,n,c,a),n.child;case 11:return $g(t,n,n.type,n.pendingProps,a);case 7:return qe(t,n,n.pendingProps,a),n.child;case 8:return qe(t,n,n.pendingProps.children,a),n.child;case 12:return qe(t,n,n.pendingProps.children,a),n.child;case 10:return c=n.pendingProps,As(n,n.type,c.value),qe(t,n,c.children,a),n.child;case 9:return m=n.type._context,c=n.pendingProps.children,kr(n),m=He(m),c=c(m),n.flags|=1,qe(t,n,c,a),n.child;case 14:return Fg(t,n,n.type,n.pendingProps,a);case 15:return Kg(t,n,n.type,n.pendingProps,a);case 19:return i_(t,n,a);case 31:return sS(t,n,a);case 22:return Yg(t,n,a,n.pendingProps);case 24:return kr(n),c=He(Ee),t===null?(m=Wh(),m===null&&(m=ee,_=Yh(),m.pooledCache=_,_.refCount++,_!==null&&(m.pooledCacheLanes|=a),m=_),n.memoizedState={parent:c,cache:m},Qh(n),As(n,Ee,m)):((t.lanes&a)!==0&&(tf(t,n),el(n,null,null,a),tl()),m=t.memoizedState,_=n.memoizedState,m.parent!==c?(m={parent:c,cache:c},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),As(n,Ee,c)):(c=_.cache,As(n,Ee,c),c!==m.cache&&Kh(n,[Ee],a,!0))),qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Ki(t){t.flags|=4}function Df(t,n,a,c,m){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(R_())t.flags|=8192;else throw Nr=Vu,Jh}else t.flags&=-16777217}function r_(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bv(n))if(R_())t.flags|=8192;else throw Nr=Vu,Jh}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ou():536870912,t.lanes|=n,Ua|=n)}function ol(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(n)for(var m=t.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=c,t.childLanes=a,n}function aS(t,n,a){var c=n.pendingProps;switch(_e(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return a=n.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Zi(Ee),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ei(n)?Ki(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ko())),re(n),null;case 26:var m=n.type,_=n.memoizedState;return t===null?(Ki(n),_!==null?(re(n),r_(n,_)):(re(n),Df(n,m,null,c,a))):_?_!==t.memoizedState?(Ki(n),re(n),r_(n,_)):(re(n),n.flags&=-16777217):(t=t.memoizedProps,t!==c&&Ki(n),re(n),Df(n,m,t,c,a)),null;case 27:if(os(n),a=ct.current,m=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==c&&Ki(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return re(n),null}t=ot.current,ei(n)?Fo(n):(t=fv(m,c,a),n.stateNode=t,Ki(n))}return re(n),null;case 5:if(os(n),m=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==c&&Ki(n);else{if(!c){if(n.stateNode===null)throw Error(o(166));return re(n),null}if(_=ot.current,ei(n))Fo(n);else{var S=vc(ct.current);switch(_){case 1:_=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:_=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":_=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":_=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":_=S.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?S.createElement("select",{is:c.is}):S.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?S.createElement(m,{is:c.is}):S.createElement(m)}}_[Se]=n,_[De]=c;t:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)_.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break t;for(;S.sibling===null;){if(S.return===null||S.return===n)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=_;t:switch(Ze(_,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Ki(n)}}return re(n),Df(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==c&&Ki(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(o(166));if(t=ct.current,ei(n)){if(t=n.stateNode,a=n.memoizedProps,c=null,m=Vt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}t[Se]=n,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||ev(t.nodeValue,a)),t||xi(n,!0)}else t=vc(t).createTextNode(c),t[Se]=n,n.stateNode=t}return re(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(c=ei(n),a!==null){if(t===null){if(!c)throw Error(o(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[Se]=n}else qi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),t=!1}else a=Ko(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(o(558))}return re(n),null;case 13:if(c=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=ei(n),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(o(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[Se]=n}else qi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),m=!1}else m=Ko(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=a,n):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=n.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==m&&(c.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ic(n,n.updateQueue),re(n),null);case 4:return oe(),t===null&&sd(n.stateNode.containerInfo),re(n),null;case 10:return Zi(n.type),re(n),null;case 19:if(K(we),c=n.memoizedState,c===null)return re(n),null;if(m=(n.flags&128)!==0,_=c.rendering,_===null)if(m)ol(c,!1);else{if(ye!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(_=Zu(t),_!==null){for(n.flags|=128,ol(c,!1),t=_.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Zo(a,t),a=a.sibling;return rt(we,we.current&1|2),jt&&vt(n,c.treeForkCount),n.child}t=t.sibling}c.tail!==null&&tn()>lc&&(n.flags|=128,m=!0,ol(c,!1),n.lanes=4194304)}else{if(!m)if(t=Zu(_),t!==null){if(n.flags|=128,m=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),ol(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!jt)return re(n),null}else 2*tn()-c.renderingStartTime>lc&&a!==536870912&&(n.flags|=128,m=!0,ol(c,!1),n.lanes=4194304);c.isBackwards?(_.sibling=n.child,n.child=_):(t=c.last,t!==null?t.sibling=_:n.child=_,c.last=_)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=tn(),t.sibling=null,a=we.current,rt(we,m?a&1|2:a&1),jt&&vt(n,c.treeForkCount),t):(re(n),null);case 22:case 23:return On(n),rf(),c=n.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(a&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),a=n.updateQueue,a!==null&&ic(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==a&&(n.flags|=2048),t!==null&&K(jr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Zi(Ee),re(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function oS(t,n){switch(_e(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Zi(Ee),oe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return os(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(o(340));qi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(On(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));qi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(we),null;case 4:return oe(),null;case 10:return Zi(n.type),null;case 22:case 23:return On(n),rf(),t!==null&&K(jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Zi(Ee),null;case 25:return null;default:return null}}function a_(t,n){switch(_e(n),n.tag){case 3:Zi(Ee),oe();break;case 26:case 27:case 5:os(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:K(we);break;case 10:Zi(n.type);break;case 22:case 23:On(n),rf(),t!==null&&K(jr);break;case 24:Zi(Ee)}}function ll(t,n){try{var a=n.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var m=c.next;a=m;do{if((a.tag&t)===t){c=void 0;var _=a.create,S=a.inst;c=_(),S.destroy=c}a=a.next}while(a!==m)}}catch(A){Kt(n,n.return,A)}}function js(t,n,a){try{var c=n.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var _=m.next;c=_;do{if((c.tag&t)===t){var S=c.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,m=n;var j=a,H=A;try{H()}catch(Y){Kt(m,j,Y)}}}c=c.next}while(c!==_)}}catch(Y){Kt(n,n.return,Y)}}function o_(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Wp(n,a)}catch(c){Kt(t,t.return,c)}}}function l_(t,n,a){a.props=Br(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){Kt(t,n,c)}}function ul(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(m){Kt(t,n,m)}}function Ti(t,n){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(m){Kt(t,n,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Kt(t,n,m)}else a.current=null}function u_(t){var n=t.type,a=t.memoizedProps,c=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(m){Kt(t,t.return,m)}}function zf(t,n,a){try{var c=t.stateNode;LS(c,t.type,a,n),c[De]=n}catch(m){Kt(t,t.return,m)}}function c_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vs(t.type)||t.tag===4}function Bf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||c_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,n,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=cn));else if(c!==4&&(c===27&&Vs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Uf(t,n,a),t=t.sibling;t!==null;)Uf(t,n,a),t=t.sibling}function sc(t,n,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(c!==4&&(c===27&&Vs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(sc(t,n,a),t=t.sibling;t!==null;)sc(t,n,a),t=t.sibling}function h_(t){var n=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);Ze(n,c,a),n[Se]=t,n[De]=a}catch(_){Kt(t,t.return,_)}}var Yi=!1,Oe=!1,Vf=!1,f_=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function lS(t,n){if(t=t.containerInfo,od=Ec,t=xr(t),gi(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var m=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break t}var S=0,A=-1,j=-1,H=0,Y=0,Q=t,G=null;e:for(;;){for(var $;Q!==a||m!==0&&Q.nodeType!==3||(A=S+m),Q!==_||c!==0&&Q.nodeType!==3||(j=S+c),Q.nodeType===3&&(S+=Q.nodeValue.length),($=Q.firstChild)!==null;)G=Q,Q=$;for(;;){if(Q===t)break e;if(G===a&&++H===m&&(A=S),G===_&&++Y===c&&(j=S),($=Q.nextSibling)!==null)break;Q=G,G=Q.parentNode}Q=$}a=A===-1||j===-1?null:{start:A,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(ld={focusedElem:t,selectionRange:a},Ec=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,_=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)m=t[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&_!==null){t=void 0,a=n,m=_.memoizedProps,_=_.memoizedState,c=a.stateNode;try{var mt=Br(a.type,m);t=c.getSnapshotBeforeUpdate(mt,_),c.__reactInternalSnapshotBeforeUpdate=t}catch(bt){Kt(a,a.return,bt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function d_(t,n,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),c&4&&ll(5,a);break;case 1:if(Wi(t,a),c&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(S){Kt(a,a.return,S)}else{var m=Br(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(m,n,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Kt(a,a.return,S)}}c&64&&o_(a),c&512&&ul(a,a.return);break;case 3:if(Wi(t,a),c&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Wp(t,n)}catch(S){Kt(a,a.return,S)}}break;case 27:n===null&&c&4&&h_(a);case 26:case 5:Wi(t,a),n===null&&c&4&&u_(a),c&512&&ul(a,a.return);break;case 12:Wi(t,a);break;case 31:Wi(t,a),c&4&&g_(t,a);break;case 13:Wi(t,a),c&4&&__(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_S.bind(null,a),zS(t,a))));break;case 22:if(c=a.memoizedState!==null||Yi,!c){n=n!==null&&n.memoizedState!==null||Oe,m=Yi;var _=Oe;Yi=c,(Oe=n)&&!_?Ji(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),Yi=m,Oe=_}break;case 30:break;default:Wi(t,a)}}function m_(t){var n=t.alternate;n!==null&&(t.alternate=null,m_(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Co(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,pn=!1;function Xi(t,n,a){for(a=a.child;a!==null;)p_(t,n,a),a=a.sibling}function p_(t,n,a){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(ls,a)}catch{}switch(a.tag){case 26:Oe||Ti(a,n),Xi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Oe||Ti(a,n);var c=ue,m=pn;Vs(a.type)&&(ue=a.stateNode,pn=!1),Xi(t,n,a),vl(a.stateNode),ue=c,pn=m;break;case 5:Oe||Ti(a,n);case 6:if(c=ue,m=pn,ue=null,Xi(t,n,a),ue=c,pn=m,ue!==null)if(pn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(_){Kt(a,n,_)}else try{ue.removeChild(a.stateNode)}catch(_){Kt(a,n,_)}break;case 18:ue!==null&&(pn?(t=ue,ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fa(t)):ov(ue,a.stateNode));break;case 4:c=ue,m=pn,ue=a.stateNode.containerInfo,pn=!0,Xi(t,n,a),ue=c,pn=m;break;case 0:case 11:case 14:case 15:js(2,a,n),Oe||js(4,a,n),Xi(t,n,a);break;case 1:Oe||(Ti(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"&&l_(a,n,c)),Xi(t,n,a);break;case 21:Xi(t,n,a);break;case 22:Oe=(c=Oe)||a.memoizedState!==null,Xi(t,n,a),Oe=c;break;default:Xi(t,n,a)}}function g_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fa(t)}catch(a){Kt(n,n.return,a)}}}function __(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fa(t)}catch(a){Kt(n,n.return,a)}}function uS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new f_),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new f_),n;default:throw Error(o(435,t.tag))}}function rc(t,n){var a=uS(t);n.forEach(function(c){if(!a.has(c)){a.add(c);var m=vS.bind(null,t,c);c.then(m,m)}})}function gn(t,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var m=a[c],_=t,S=n,A=S;t:for(;A!==null;){switch(A.tag){case 27:if(Vs(A.type)){ue=A.stateNode,pn=!1;break t}break;case 5:ue=A.stateNode,pn=!1;break t;case 3:case 4:ue=A.stateNode.containerInfo,pn=!0;break t}A=A.return}if(ue===null)throw Error(o(160));p_(_,S,m),ue=null,pn=!1,_=m.alternate,_!==null&&(_.return=null),m.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)v_(n,t),n=n.sibling}var ii=null;function v_(t,n){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(n,t),_n(t),c&4&&(js(3,t,t.return),ll(3,t),js(5,t,t.return));break;case 1:gn(n,t),_n(t),c&512&&(Oe||a===null||Ti(a,a.return)),c&64&&Yi&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var m=ii;if(gn(n,t),_n(t),c&512&&(Oe||a===null||Ti(a,a.return)),c&4){var _=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){t:{c=t.type,a=t.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":_=m.getElementsByTagName("title")[0],(!_||_[ar]||_[Se]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=m.createElement(c),m.head.insertBefore(_,m.querySelector("head > title"))),Ze(_,c,a),_[Se]=t,Te(_),c=_;break t;case"link":var S=vv("link","href",m).get(c+(a.href||""));if(S){for(var A=0;A<S.length;A++)if(_=S[A],_.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&_.getAttribute("rel")===(a.rel==null?null:a.rel)&&_.getAttribute("title")===(a.title==null?null:a.title)&&_.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(A,1);break e}}_=m.createElement(c),Ze(_,c,a),m.head.appendChild(_);break;case"meta":if(S=vv("meta","content",m).get(c+(a.content||""))){for(A=0;A<S.length;A++)if(_=S[A],_.getAttribute("content")===(a.content==null?null:""+a.content)&&_.getAttribute("name")===(a.name==null?null:a.name)&&_.getAttribute("property")===(a.property==null?null:a.property)&&_.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&_.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(A,1);break e}}_=m.createElement(c),Ze(_,c,a),m.head.appendChild(_);break;default:throw Error(o(468,c))}_[Se]=t,Te(_),c=_}t.stateNode=c}else yv(m,t.type,t.stateNode);else t.stateNode=_v(m,c,t.memoizedProps);else _!==c?(_===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):_.count--,c===null?yv(m,t.type,t.stateNode):_v(m,c,t.memoizedProps)):c===null&&t.stateNode!==null&&zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(n,t),_n(t),c&512&&(Oe||a===null||Ti(a,a.return)),a!==null&&c&4&&zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(n,t),_n(t),c&512&&(Oe||a===null||Ti(a,a.return)),t.flags&32){m=t.stateNode;try{jn(m,"")}catch(mt){Kt(t,t.return,mt)}}c&4&&t.stateNode!=null&&(m=t.memoizedProps,zf(t,m,a!==null?a.memoizedProps:m)),c&1024&&(Vf=!0);break;case 6:if(gn(n,t),_n(t),c&4){if(t.stateNode===null)throw Error(o(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(mt){Kt(t,t.return,mt)}}break;case 3:if(wc=null,m=ii,ii=yc(n.containerInfo),gn(n,t),ii=m,_n(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(n.containerInfo)}catch(mt){Kt(t,t.return,mt)}Vf&&(Vf=!1,y_(t));break;case 4:c=ii,ii=yc(t.stateNode.containerInfo),gn(n,t),_n(t),ii=c;break;case 12:gn(n,t),_n(t);break;case 31:gn(n,t),_n(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,rc(t,c)));break;case 13:gn(n,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=tn()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,rc(t,c)));break;case 22:m=t.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,H=Yi,Y=Oe;if(Yi=H||m,Oe=Y||j,gn(n,t),Oe=Y,Yi=H,_n(t),c&8192)t:for(n=t.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(a===null||j||Yi||Oe||Ur(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){j=a=n;try{if(_=j.stateNode,m)S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=j.stateNode;var Q=j.memoizedProps.style,G=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;A.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(mt){Kt(j,j.return,mt)}}}else if(n.tag===6){if(a===null){j=n;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(mt){Kt(j,j.return,mt)}}}else if(n.tag===18){if(a===null){j=n;try{var $=j.stateNode;m?lv($,!0):lv(j.stateNode,!1)}catch(mt){Kt(j,j.return,mt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,rc(t,a))));break;case 19:gn(n,t),_n(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,rc(t,c)));break;case 30:break;case 21:break;default:gn(n,t),_n(t)}}function _n(t){var n=t.flags;if(n&2){try{for(var a,c=t.return;c!==null;){if(c_(c)){a=c;break}c=c.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var m=a.stateNode,_=Bf(t);sc(t,_,m);break;case 5:var S=a.stateNode;a.flags&32&&(jn(S,""),a.flags&=-33);var A=Bf(t);sc(t,A,S);break;case 3:case 4:var j=a.stateNode.containerInfo,H=Bf(t);Uf(t,H,j);break;default:throw Error(o(161))}}catch(Y){Kt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function y_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;y_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)d_(t,n.alternate,n),n=n.sibling}function Ur(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:js(4,n,n.return),Ur(n);break;case 1:Ti(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&l_(n,n.return,a),Ur(n);break;case 27:vl(n.stateNode);case 26:case 5:Ti(n,n.return),Ur(n);break;case 22:n.memoizedState===null&&Ur(n);break;case 30:Ur(n);break;default:Ur(n)}t=t.sibling}}function Ji(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,m=t,_=n,S=_.flags;switch(_.tag){case 0:case 11:case 15:Ji(m,_,a),ll(4,_);break;case 1:if(Ji(m,_,a),c=_,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(H){Kt(c,c.return,H)}if(c=_,m=c.updateQueue,m!==null){var A=c.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)Xp(j[m],A)}catch(H){Kt(c,c.return,H)}}a&&S&64&&o_(_),ul(_,_.return);break;case 27:h_(_);case 26:case 5:Ji(m,_,a),a&&c===null&&S&4&&u_(_),ul(_,_.return);break;case 12:Ji(m,_,a);break;case 31:Ji(m,_,a),a&&S&4&&g_(m,_);break;case 13:Ji(m,_,a),a&&S&4&&__(m,_);break;case 22:_.memoizedState===null&&Ji(m,_,a),ul(_,_.return);break;case 30:break;default:Ji(m,_,a)}n=n.sibling}}function If(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Yo(a))}function Hf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yo(t))}function si(t,n,a,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)b_(t,n,a,c),n=n.sibling}function b_(t,n,a,c){var m=n.flags;switch(n.tag){case 0:case 11:case 15:si(t,n,a,c),m&2048&&ll(9,n);break;case 1:si(t,n,a,c);break;case 3:si(t,n,a,c),m&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Yo(t)));break;case 12:if(m&2048){si(t,n,a,c),t=n.stateNode;try{var _=n.memoizedProps,S=_.id,A=_.onPostCommit;typeof A=="function"&&A(S,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(j){Kt(n,n.return,j)}}else si(t,n,a,c);break;case 31:si(t,n,a,c);break;case 13:si(t,n,a,c);break;case 23:break;case 22:_=n.stateNode,S=n.alternate,n.memoizedState!==null?_._visibility&2?si(t,n,a,c):cl(t,n):_._visibility&2?si(t,n,a,c):(_._visibility|=2,Da(t,n,a,c,(n.subtreeFlags&10256)!==0||!1)),m&2048&&If(S,n);break;case 24:si(t,n,a,c),m&2048&&Hf(n.alternate,n);break;default:si(t,n,a,c)}}function Da(t,n,a,c,m){for(m=m&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var _=t,S=n,A=a,j=c,H=S.flags;switch(S.tag){case 0:case 11:case 15:Da(_,S,A,j,m),ll(8,S);break;case 23:break;case 22:var Y=S.stateNode;S.memoizedState!==null?Y._visibility&2?Da(_,S,A,j,m):cl(_,S):(Y._visibility|=2,Da(_,S,A,j,m)),m&&H&2048&&If(S.alternate,S);break;case 24:Da(_,S,A,j,m),m&&H&2048&&Hf(S.alternate,S);break;default:Da(_,S,A,j,m)}n=n.sibling}}function cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,c=n,m=c.flags;switch(c.tag){case 22:cl(a,c),m&2048&&If(c.alternate,c);break;case 24:cl(a,c),m&2048&&Hf(c.alternate,c);break;default:cl(a,c)}n=n.sibling}}var hl=8192;function za(t,n,a){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)w_(t,n,a),t=t.sibling}function w_(t,n,a){switch(t.tag){case 26:za(t,n,a),t.flags&hl&&t.memoizedState!==null&&YS(a,ii,t.memoizedState,t.memoizedProps);break;case 5:za(t,n,a);break;case 3:case 4:var c=ii;ii=yc(t.stateNode.containerInfo),za(t,n,a),ii=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=hl,hl=16777216,za(t,n,a),hl=c):za(t,n,a));break;default:za(t,n,a)}}function x_(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];Ue=c,T_(c,t)}x_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S_(t),t=t.sibling}function S_(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&js(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):fl(t);break;default:fl(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];Ue=c,T_(c,t)}x_(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:js(8,n,n.return),ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function T_(t,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:js(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Ue=c;else t:for(a=t;Ue!==null;){c=Ue;var m=c.sibling,_=c.return;if(m_(c),c===a){Ue=null;break t}if(m!==null){m.return=_,Ue=m;break t}Ue=_}}}var cS={getCacheForType:function(t){var n=He(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return He(Ee).controller.signal}},hS=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ee=null,Pt=null,zt=0,Ft=0,Ln=null,Ps=!1,Ba=!1,qf=!1,Qi=0,ye=0,Ns=0,Vr=0,Zf=0,Mn=0,Ua=0,dl=null,vn=null,Gf=!1,oc=0,E_=0,lc=1/0,uc=null,Ds=null,Pe=0,zs=null,Va=null,ts=0,$f=0,Ff=null,C_=null,ml=0,Kf=null;function Rn(){return(Zt&2)!==0&&zt!==0?zt&-zt:F.T!==null?td():To()}function A_(){if(Mn===0)if((zt&536870912)===0||jt){var t=ir;ir<<=1,(ir&3932160)===0&&(ir=262144),Mn=t}else Mn=536870912;return t=An.current,t!==null&&(t.flags|=32),Mn}function yn(t,n,a){(t===ee&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(Ia(t,0),Bs(t,zt,Mn,!1)),ji(t,a),((Zt&2)===0||t!==ee)&&(t===ee&&((Zt&2)===0&&(Vr|=a),ye===4&&Bs(t,zt,Mn,!1)),Ei(t))}function O_(t,n,a){if((Zt&6)!==0)throw Error(o(327));var c=!a&&(n&127)===0&&(n&t.expiredLanes)===0||rr(t,n),m=c?mS(t,n):Xf(t,n,!0),_=c;do{if(m===0){Ba&&!c&&Bs(t,n,0,!1);break}else{if(a=t.current.alternate,_&&!fS(a)){m=Xf(t,n,!1),_=!1;continue}if(m===2){if(_=n,t.errorRecoveryDisabledLanes&_)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;t:{var A=t;m=dl;var j=A.current.memoizedState.isDehydrated;if(j&&(Ia(A,S).flags|=256),S=Xf(A,S,!1),S!==2){if(qf&&!j){A.errorRecoveryDisabledLanes|=_,Vr|=_,m=4;break t}_=vn,vn=m,_!==null&&(vn===null?vn=_:vn.push.apply(vn,_))}m=S}if(_=!1,m!==2)continue}}if(m===1){Ia(t,0),Bs(t,n,0,!0);break}t:{switch(c=t,_=m,_){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:Bs(c,n,Mn,!Ps);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(m=oc+300-tn(),10<m)){if(Bs(c,n,Mn,!Ps),oa(c,0,!0)!==0)break t;ts=n,c.timeoutHandle=rv(L_.bind(null,c,a,vn,uc,Gf,n,Mn,Vr,Ua,Ps,_,"Throttled",-0,0),m);break t}L_(c,a,vn,uc,Gf,n,Mn,Vr,Ua,Ps,_,null,-0,0)}}break}while(!0);Ei(t)}function L_(t,n,a,c,m,_,S,A,j,H,Y,Q,G,$){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},w_(n,_,Q);var mt=(_&62914560)===_?oc-tn():(_&4194048)===_?E_-tn():0;if(mt=XS(Q,mt),mt!==null){ts=_,t.cancelPendingCommit=mt(z_.bind(null,t,n,_,a,c,m,S,A,j,Y,Q,null,G,$)),Bs(t,_,S,!H);return}}z_(t,n,_,a,c,m,S,A,j)}function fS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var m=a[c],_=m.getSnapshot;m=m.value;try{if(!ze(_(),m))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bs(t,n,a,c){n&=~Zf,n&=~Vr,t.suspendedLanes|=n,t.pingedLanes&=~n,c&&(t.warmLanes|=n),c=t.expirationTimes;for(var m=n;0<m;){var _=31-en(m),S=1<<_;c[_]=-1,m&=~S}a!==0&&lu(t,a,n)}function cc(){return(Zt&6)===0?(pl(0),!1):!0}function Yf(){if(Pt!==null){if(Ft===0)var t=Pt.return;else t=Pt,ni=Si=null,hf(t),Ra=null,Wo=0,t=Pt;for(;t!==null;)a_(t.alternate,t),t=t.return;Pt=null}}function Ia(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,kS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ts=0,Yf(),ee=t,Pt=a=Vn(t.current,null),zt=n,Ft=0,Ln=null,Ps=!1,Ba=rr(t,n),qf=!1,Ua=Mn=Zf=Vr=Ns=ye=0,vn=dl=null,Gf=!1,(n&8)!==0&&(n|=n&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=n;0<c;){var m=31-en(c),_=1<<m;n|=t[m],c&=~_}return Qi=n,Ar(),a}function M_(t,n){At=null,F.H=rl,n===Ma||n===Uu?(n=$p(),Ft=3):n===Jh?(n=$p(),Ft=4):Ft=n===Af?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,Pt===null&&(ye=1,Qu(t,u(n,t.current)))}function R_(){var t=An.current;return t===null?!0:(zt&4194048)===zt?In===null:(zt&62914560)===zt||(zt&536870912)!==0?t===In:!1}function k_(){var t=F.H;return F.H=rl,t===null?rl:t}function j_(){var t=F.A;return F.A=cS,t}function hc(){ye=4,Ps||(zt&4194048)!==zt&&An.current!==null||(Ba=!0),(Ns&134217727)===0&&(Vr&134217727)===0||ee===null||Bs(ee,zt,Mn,!1)}function Xf(t,n,a){var c=Zt;Zt|=2;var m=k_(),_=j_();(ee!==t||zt!==n)&&(uc=null,Ia(t,n)),n=!1;var S=ye;t:do try{if(Ft!==0&&Pt!==null){var A=Pt,j=Ln;switch(Ft){case 8:Yf(),S=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var H=Ft;if(Ft=0,Ln=null,Ha(t,A,j,H),a&&Ba){S=0;break t}break;default:H=Ft,Ft=0,Ln=null,Ha(t,A,j,H)}}dS(),S=ye;break}catch(Y){M_(t,Y)}while(!0);return n&&t.shellSuspendCounter++,ni=Si=null,Zt=c,F.H=m,F.A=_,Pt===null&&(ee=null,zt=0,Ar()),S}function dS(){for(;Pt!==null;)P_(Pt)}function mS(t,n){var a=Zt;Zt|=2;var c=k_(),m=j_();ee!==t||zt!==n?(uc=null,lc=tn()+500,Ia(t,n)):Ba=rr(t,n);t:do try{if(Ft!==0&&Pt!==null){n=Pt;var _=Ln;e:switch(Ft){case 1:Ft=0,Ln=null,Ha(t,n,_,1);break;case 2:case 9:if(Zp(_)){Ft=0,Ln=null,N_(n);break}n=function(){Ft!==2&&Ft!==9||ee!==t||(Ft=7),Ei(t)},_.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Zp(_)?(Ft=0,Ln=null,N_(n)):(Ft=0,Ln=null,Ha(t,n,_,7));break;case 5:var S=null;switch(Pt.tag){case 26:S=Pt.memoizedState;case 5:case 27:var A=Pt;if(S?bv(S):A.stateNode.complete){Ft=0,Ln=null;var j=A.sibling;if(j!==null)Pt=j;else{var H=A.return;H!==null?(Pt=H,fc(H)):Pt=null}break e}}Ft=0,Ln=null,Ha(t,n,_,5);break;case 6:Ft=0,Ln=null,Ha(t,n,_,6);break;case 8:Yf(),ye=6;break t;default:throw Error(o(462))}}pS();break}catch(Y){M_(t,Y)}while(!0);return ni=Si=null,F.H=c,F.A=m,Zt=a,Pt!==null?0:(ee=null,zt=0,Ar(),ye)}function pS(){for(;Pt!==null&&!su();)P_(Pt)}function P_(t){var n=s_(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,n===null?fc(t):Pt=n}function N_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Jg(a,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=Jg(a,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:hf(n);default:a_(a,n),n=Pt=Zo(n,Qi),n=s_(a,n,Qi)}t.memoizedProps=t.pendingProps,n===null?fc(t):Pt=n}function Ha(t,n,a,c){ni=Si=null,hf(n),Ra=null,Wo=0;var m=n.return;try{if(iS(t,m,n,a,zt)){ye=1,Qu(t,u(a,t.current)),Pt=null;return}}catch(_){if(m!==null)throw Pt=m,_;ye=1,Qu(t,u(a,t.current)),Pt=null;return}n.flags&32768?(jt||c===1?t=!0:Ba||(zt&536870912)!==0?t=!1:(Ps=t=!0,(c===2||c===9||c===3||c===6)&&(c=An.current,c!==null&&c.tag===13&&(c.flags|=16384))),D_(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){D_(n,Ps);return}t=n.return;var a=aS(n.alternate,n,Qi);if(a!==null){Pt=a;return}if(n=n.sibling,n!==null){Pt=n;return}Pt=n=t}while(n!==null);ye===0&&(ye=5)}function D_(t,n){do{var a=oS(t.alternate,t);if(a!==null){a.flags&=32767,Pt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Pt=t;return}Pt=t=a}while(t!==null);ye=6,Pt=null}function z_(t,n,a,c,m,_,S,A,j){t.cancelPendingCommit=null;do dc();while(Pe!==0);if((Zt&6)!==0)throw Error(o(327));if(n!==null){if(n===t.current)throw Error(o(177));if(_=n.lanes|n.childLanes,_|=Sa,Rh(t,a,_,S,A,j),t===ee&&(Pt=ee=null,zt=0),Va=n,zs=t,ts=a,$f=_,Ff=m,C_=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yS(tr,function(){return H_(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,m=it.p,it.p=2,S=Zt,Zt|=4;try{lS(t,n,a)}finally{Zt=S,it.p=m,F.T=c}}Pe=1,B_(),U_(),V_()}}function B_(){if(Pe===1){Pe=0;var t=zs,n=Va,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var c=it.p;it.p=2;var m=Zt;Zt|=4;try{v_(n,t);var _=ld,S=xr(t.containerInfo),A=_.focusedElem,j=_.selectionRange;if(S!==A&&A&&A.ownerDocument&&ya(A.ownerDocument.documentElement,A)){if(j!==null&&gi(A)){var H=j.start,Y=j.end;if(Y===void 0&&(Y=H),"selectionStart"in A)A.selectionStart=H,A.selectionEnd=Math.min(Y,A.value.length);else{var Q=A.ownerDocument||document,G=Q&&Q.defaultView||window;if(G.getSelection){var $=G.getSelection(),mt=A.textContent.length,bt=Math.min(j.start,mt),Jt=j.end===void 0?bt:Math.min(j.end,mt);!$.extend&&bt>Jt&&(S=Jt,Jt=bt,bt=S);var U=wr(A,bt),D=wr(A,Jt);if(U&&D&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==D.node||$.focusOffset!==D.offset)){var I=Q.createRange();I.setStart(U.node,U.offset),$.removeAllRanges(),bt>Jt?($.addRange(I),$.extend(D.node,D.offset)):(I.setEnd(D.node,D.offset),$.addRange(I))}}}}for(Q=[],$=A;$=$.parentNode;)$.nodeType===1&&Q.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Q.length;A++){var X=Q[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ec=!!od,ld=od=null}finally{Zt=m,it.p=c,F.T=a}}t.current=n,Pe=2}}function U_(){if(Pe===2){Pe=0;var t=zs,n=Va,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var c=it.p;it.p=2;var m=Zt;Zt|=4;try{d_(t,n.alternate,n)}finally{Zt=m,it.p=c,F.T=a}}Pe=3}}function V_(){if(Pe===4||Pe===3){Pe=0,ru();var t=zs,n=Va,a=ts,c=C_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Va=zs=null,I_(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(Ds=null),gt(a),n=n.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(ls,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=F.T,m=it.p,it.p=2,F.T=null;try{for(var _=t.onRecoverableError,S=0;S<c.length;S++){var A=c[S];_(A.value,{componentStack:A.stack})}}finally{F.T=n,it.p=m}}(ts&3)!==0&&dc(),Ei(t),m=t.pendingLanes,(a&261930)!==0&&(m&42)!==0?t===Kf?ml++:(ml=0,Kf=t):ml=0,pl(0)}}function I_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Yo(n)))}function dc(){return B_(),U_(),V_(),H_()}function H_(){if(Pe!==5)return!1;var t=zs,n=$f;$f=0;var a=gt(ts),c=F.T,m=it.p;try{it.p=32>a?32:a,F.T=null,a=Ff,Ff=null;var _=zs,S=ts;if(Pe=0,Va=zs=null,ts=0,(Zt&6)!==0)throw Error(o(331));var A=Zt;if(Zt|=4,S_(_.current),b_(_,_.current,S,a),Zt=A,pl(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(ls,_)}catch{}return!0}finally{it.p=m,F.T=c,I_(t,n)}}function q_(t,n,a){n=u(a,n),n=Cf(t.stateNode,n,2),t=Ms(t,n,2),t!==null&&(ji(t,2),Ei(t))}function Kt(t,n,a){if(t.tag===3)q_(t,t,a);else for(;n!==null;){if(n.tag===3){q_(n,t,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ds===null||!Ds.has(c))){t=u(a,t),a=Zg(2),c=Ms(n,a,2),c!==null&&(Gg(a,c,n,t),ji(c,2),Ei(c));break}}n=n.return}}function Wf(t,n,a){var c=t.pingCache;if(c===null){c=t.pingCache=new hS;var m=new Set;c.set(n,m)}else m=c.get(n),m===void 0&&(m=new Set,c.set(n,m));m.has(a)||(qf=!0,m.add(a),t=gS.bind(null,t,n,a),n.then(t,t))}function gS(t,n,a){var c=t.pingCache;c!==null&&c.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ee===t&&(zt&a)===a&&(ye===4||ye===3&&(zt&62914560)===zt&&300>tn()-oc?(Zt&2)===0&&Ia(t,0):Zf|=a,Ua===zt&&(Ua=0)),Ei(t)}function Z_(t,n){n===0&&(n=ou()),t=Un(t,n),t!==null&&(ji(t,n),Ei(t))}function _S(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Z_(t,a)}function vS(t,n){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,m=t.memoizedState;m!==null&&(a=m.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(n),Z_(t,a)}function yS(t,n){return ra(t,n)}var mc=null,qa=null,Jf=!1,pc=!1,Qf=!1,Us=0;function Ei(t){t!==qa&&t.next===null&&(qa===null?mc=qa=t:qa=qa.next=t),pc=!0,Jf||(Jf=!0,wS())}function pl(t,n){if(!Qf&&pc){Qf=!0;do for(var a=!1,c=mc;c!==null;){if(t!==0){var m=c.pendingLanes;if(m===0)var _=0;else{var S=c.suspendedLanes,A=c.pingedLanes;_=(1<<31-en(42|t)+1)-1,_&=m&~(S&~A),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(a=!0,K_(c,_))}else _=zt,_=oa(c,c===ee?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||rr(c,_)||(a=!0,K_(c,_));c=c.next}while(a);Qf=!1}}function bS(){G_()}function G_(){pc=Jf=!1;var t=0;Us!==0&&RS()&&(t=Us);for(var n=tn(),a=null,c=mc;c!==null;){var m=c.next,_=$_(c,n);_===0?(c.next=null,a===null?mc=m:a.next=m,m===null&&(qa=a)):(a=c,(t!==0||(_&3)!==0)&&(pc=!0)),c=m}Pe!==0&&Pe!==5||pl(t),Us!==0&&(Us=0)}function $_(t,n){for(var a=t.suspendedLanes,c=t.pingedLanes,m=t.expirationTimes,_=t.pendingLanes&-62914561;0<_;){var S=31-en(_),A=1<<S,j=m[S];j===-1?((A&a)===0||(A&c)!==0)&&(m[S]=Mh(A,n)):j<=n&&(t.expiredLanes|=A),_&=~A}if(n=ee,a=zt,a=oa(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Qs(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||rr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(c!==null&&Qs(c),gt(a)){case 2:case 8:a=wo;break;case 32:a=tr;break;case 268435456:a=xo;break;default:a=tr}return c=F_.bind(null,t),a=ra(a,c),t.callbackPriority=n,t.callbackNode=a,n}return c!==null&&c!==null&&Qs(c),t.callbackPriority=2,t.callbackNode=null,2}function F_(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(dc()&&t.callbackNode!==a)return null;var c=zt;return c=oa(t,t===ee?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(O_(t,c,n),$_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?F_.bind(null,t):null)}function K_(t,n){if(dc())return null;O_(t,n,!0)}function wS(){jS(function(){(Zt&6)!==0?ra(aa,bS):G_()})}function td(){if(Us===0){var t=Oa;t===0&&(t=nr,nr<<=1,(nr&261888)===0&&(nr=256)),Us=t}return Us}function Y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ms(""+t)}function X_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function xS(t,n,a,c,m){if(n==="submit"&&a&&a.stateNode===m){var _=Y_((m[De]||null).action),S=c.submitter;S&&(n=(n=S[De]||null)?Y_(n.formAction):S.getAttribute("formAction"),n!==null&&(_=n,S=null));var A=new fa("action","action",null,c,m);t.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Us!==0){var j=S?X_(m,S):new FormData(m);bf(a,{pending:!0,data:j,method:m.method,action:_},null,j)}}else typeof _=="function"&&(A.preventDefault(),j=S?X_(m,S):new FormData(m),bf(a,{pending:!0,data:j,method:m.method,action:_},_,j))},currentTarget:m}]})}}for(var ed=0;ed<yi.length;ed++){var nd=yi[ed],SS=nd.toLowerCase(),TS=nd[0].toUpperCase()+nd.slice(1);fn(SS,"on"+TS)}fn(Tr,"onAnimationEnd"),fn(ju,"onAnimationIteration"),fn(Er,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(Zh,"onTransitionRun"),fn(Pu,"onTransitionStart"),fn(Gh,"onTransitionCancel"),fn(Es,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ES=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function W_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],m=c.event;c=c.listeners;t:{var _=void 0;if(n)for(var S=c.length-1;0<=S;S--){var A=c[S],j=A.instance,H=A.currentTarget;if(A=A.listener,j!==_&&m.isPropagationStopped())break t;_=A,m.currentTarget=H;try{_(m)}catch(Y){Cr(Y)}m.currentTarget=null,_=j}else for(S=0;S<c.length;S++){if(A=c[S],j=A.instance,H=A.currentTarget,A=A.listener,j!==_&&m.isPropagationStopped())break t;_=A,m.currentTarget=H;try{_(m)}catch(Y){Cr(Y)}m.currentTarget=null,_=j}}}}function Nt(t,n){var a=n[ci];a===void 0&&(a=n[ci]=new Set);var c=t+"__bubble";a.has(c)||(J_(n,t,2,!1),a.add(c))}function id(t,n,a){var c=0;n&&(c|=4),J_(a,t,c,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[gc]){t[gc]=!0,du.forEach(function(a){a!=="selectionchange"&&(ES.has(a)||id(a,!1,t),id(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,id("selectionchange",!1,n))}}function J_(t,n,a,c){switch(Av(n)){case 2:var m=QS;break;case 8:m=tT;break;default:m=yd}a=m.bind(null,n,a,t),m=void 0,!fr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),c?m!==void 0?t.addEventListener(n,a,{capture:!0,passive:m}):t.addEventListener(n,a,!0):m!==void 0?t.addEventListener(n,a,{passive:m}):t.addEventListener(n,a,!1)}function rd(t,n,a,c,m){var _=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var A=c.stateNode.containerInfo;if(A===m)break;if(S===4)for(S=c.return;S!==null;){var j=S.tag;if((j===3||j===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;A!==null;){if(S=Ni(A),S===null)return;if(j=S.tag,j===5||j===6||j===26||j===27){c=_=S;continue t}A=A.parentNode}}c=c.return}jo(function(){var H=_,Y=hr(a),Q=[];t:{var G=Nu.get(t);if(G!==void 0){var $=fa,mt=t;switch(t){case"keypress":if(dr(a)===0)break t;case"keydown":case"keyup":$=wu;break;case"focusin":mt="focus",$=Do;break;case"focusout":mt="blur",$=Do;break;case"beforeblur":case"afterblur":$=Do;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Bh;break;case Tr:case ju:case Er:$=zo;break;case Es:$=Tu;break;case"scroll":case"scrollend":$=Dt;break;case"wheel":$=Vi;break;case"copy":case"cut":case"paste":$=Nn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=xu;break;case"toggle":case"beforetoggle":$=gr}var bt=(n&4)!==0,Jt=!bt&&(t==="scroll"||t==="scrollend"),U=bt?G!==null?G+"Capture":null:G;bt=[];for(var D=H,I;D!==null;){var X=D;if(I=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||I===null||U===null||(X=Bi(D,U),X!=null&&bt.push(_l(D,X,I))),Jt)break;D=D.return}0<bt.length&&(G=new $(G,mt,null,a,Y),Q.push({event:G,listeners:bt}))}}if((n&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",G&&a!==ha&&(mt=a.relatedTarget||a.fromElement)&&(Ni(mt)||mt[Pi]))break t;if(($||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,$?(mt=a.relatedTarget||a.toElement,$=H,mt=mt?Ni(mt):null,mt!==null&&(Jt=l(mt),bt=mt.tag,mt!==Jt||bt!==5&&bt!==27&&bt!==6)&&(mt=null)):($=null,mt=H),$!==mt)){if(bt=gu,X="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(bt=xu,X="onPointerLeave",U="onPointerEnter",D="pointer"),Jt=$==null?G:hi($),I=mt==null?G:hi(mt),G=new bt(X,D+"leave",$,a,Y),G.target=Jt,G.relatedTarget=I,X=null,Ni(Y)===H&&(bt=new bt(U,D+"enter",mt,a,Y),bt.target=I,bt.relatedTarget=Jt,X=bt),Jt=X,$&&mt)e:{for(bt=CS,U=$,D=mt,I=0,X=U;X;X=bt(X))I++;X=0;for(var yt=D;yt;yt=bt(yt))X++;for(;0<I-X;)U=bt(U),I--;for(;0<X-I;)D=bt(D),X--;for(;I--;){if(U===D||D!==null&&U===D.alternate){bt=U;break e}U=bt(U),D=bt(D)}bt=null}else bt=null;$!==null&&Q_(Q,G,$,bt,!1),mt!==null&&Jt!==null&&Q_(Q,Jt,mt,bt,!0)}}t:{if(G=H?hi(H):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var Ht=br;else if(Dn(G))if(Ou)Ht=qh;else{Ht=Hh;var pt=Qn}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&cr(H.elementType)&&(Ht=br):Ht=ws;if(Ht&&(Ht=Ht(t,H))){Au(Q,Ht,a,Y);break t}pt&&pt(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Xn(G,"number",G.value)}switch(pt=H?hi(H):window,t){case"focusin":(Dn(pt)||pt.contentEditable==="true")&&(_i=pt,wa=H,Sr=null);break;case"focusout":Sr=wa=_i=null;break;case"mousedown":Ss=!0;break;case"contextmenu":case"mouseup":case"dragend":Ss=!1,Ru(Q,a,Y);break;case"selectionchange":if(ba)break;case"keydown":case"keyup":Ru(Q,a,Y)}var Lt;if(ma)t:{switch(t){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else vs?Cu(t,a)&&(Bt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Bt="onCompositionStart");Bt&&(pa&&a.locale!=="ko"&&(vs||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&vs&&(Lt=mi()):(Pn=Y,Ui="value"in Pn?Pn.value:Pn.textContent,vs=!0)),pt=_c(H,Bt),0<pt.length&&(Bt=new Bo(Bt,t,null,a,Y),Q.push({event:Bt,listeners:pt}),Lt?Bt.data=Lt:(Lt=Ho(a),Lt!==null&&(Bt.data=Lt)))),(Lt=Vh?Cn(t,a):ys(t,a))&&(Bt=_c(H,"onBeforeInput"),0<Bt.length&&(pt=new Bo("onBeforeInput","beforeinput",null,a,Y),Q.push({event:pt,listeners:Bt}),pt.data=Lt)),xS(Q,t,H,a,Y)}W_(Q,n)})}function _l(t,n,a){return{instance:t,listener:n,currentTarget:a}}function _c(t,n){for(var a=n+"Capture",c=[];t!==null;){var m=t,_=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||_===null||(m=Bi(t,a),m!=null&&c.unshift(_l(t,m,_)),m=Bi(t,n),m!=null&&c.push(_l(t,m,_))),t.tag===3)return c;t=t.return}return[]}function CS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Q_(t,n,a,c,m){for(var _=n._reactName,S=[];a!==null&&a!==c;){var A=a,j=A.alternate,H=A.stateNode;if(A=A.tag,j!==null&&j===c)break;A!==5&&A!==26&&A!==27||H===null||(j=H,m?(H=Bi(a,_),H!=null&&S.unshift(_l(a,H,j))):m||(H=Bi(a,_),H!=null&&S.push(_l(a,H,j)))),a=a.return}S.length!==0&&t.push({event:n,listeners:S})}var AS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function tv(t){return(typeof t=="string"?t:""+t).replace(AS,`
`).replace(OS,"")}function ev(t,n){return n=tv(n),tv(t)===n}function Wt(t,n,a,c,m,_){switch(a){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||jn(t,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&jn(t,""+c);break;case"className":Yt(t,"class",c);break;case"tabIndex":Yt(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Yt(t,a,c);break;case"style":ua(t,c,_);break;case"data":if(n!=="object"){Yt(t,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=ms(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(a==="formAction"?(n!=="input"&&Wt(t,n,"name",m.name,m,null),Wt(t,n,"formEncType",m.formEncType,m,null),Wt(t,n,"formMethod",m.formMethod,m,null),Wt(t,n,"formTarget",m.formTarget,m,null)):(Wt(t,n,"encType",m.encType,m,null),Wt(t,n,"method",m.method,m,null),Wt(t,n,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=ms(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=cn);break;case"onScroll":c!=null&&Nt("scroll",t);break;case"onScrollEnd":c!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=ms(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),kt(t,"popover",c);break;case"xlinkActuate":un(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":un(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":un(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":un(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":un(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":un(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":un(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":un(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":un(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":kt(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ca.get(a)||a,kt(t,a,c))}}function ad(t,n,a,c,m,_){switch(a){case"style":ua(t,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof c=="string"?jn(t,c):(typeof c=="number"||typeof c=="bigint")&&jn(t,""+c);break;case"onScroll":c!=null&&Nt("scroll",t);break;case"onScrollEnd":c!=null&&Nt("scrollend",t);break;case"onClick":c!=null&&(t.onclick=cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mu.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),n=a.slice(2,m?a.length-7:void 0),_=t[De]||null,_=_!=null?_[a]:null,typeof _=="function"&&t.removeEventListener(n,_,m),typeof c=="function")){typeof _!="function"&&_!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,c,m);break t}a in t?t[a]=c:c===!0?t.setAttribute(a,""):kt(t,a,c)}}}function Ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var c=!1,m=!1,_;for(_ in a)if(a.hasOwnProperty(_)){var S=a[_];if(S!=null)switch(_){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Wt(t,n,_,S,a,null)}}m&&Wt(t,n,"srcSet",a.srcSet,a,null),c&&Wt(t,n,"src",a.src,a,null);return;case"input":Nt("invalid",t);var A=_=S=m=null,j=null,H=null;for(c in a)if(a.hasOwnProperty(c)){var Y=a[c];if(Y!=null)switch(c){case"name":m=Y;break;case"type":S=Y;break;case"checked":j=Y;break;case"defaultChecked":H=Y;break;case"value":_=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,n));break;default:Wt(t,n,c,Y,a,null)}}ur(t,_,A,j,H,S,m,!1);return;case"select":Nt("invalid",t),c=S=_=null;for(m in a)if(a.hasOwnProperty(m)&&(A=a[m],A!=null))switch(m){case"value":_=A;break;case"defaultValue":S=A;break;case"multiple":c=A;default:Wt(t,n,m,A,a,null)}n=_,a=S,t.multiple=!!c,n!=null?te(t,!!c,n,!1):a!=null&&te(t,!!c,a,!0);return;case"textarea":Nt("invalid",t),_=m=c=null;for(S in a)if(a.hasOwnProperty(S)&&(A=a[S],A!=null))switch(S){case"value":c=A;break;case"defaultValue":m=A;break;case"children":_=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(o(91));break;default:Wt(t,n,S,A,a,null)}fs(t,c,m,_);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(c=a[j],c!=null))switch(j){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Wt(t,n,j,c,a,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(c=0;c<gl.length;c++)Nt(gl[c],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(c=a[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:Wt(t,n,H,c,a,null)}return;default:if(cr(n)){for(Y in a)a.hasOwnProperty(Y)&&(c=a[Y],c!==void 0&&ad(t,n,Y,c,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(c=a[A],c!=null&&Wt(t,n,A,c,a,null))}function LS(t,n,a,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,_=null,S=null,A=null,j=null,H=null,Y=null;for($ in a){var Q=a[$];if(a.hasOwnProperty($)&&Q!=null)switch($){case"checked":break;case"value":break;case"defaultValue":j=Q;default:c.hasOwnProperty($)||Wt(t,n,$,null,c,Q)}}for(var G in c){var $=c[G];if(Q=a[G],c.hasOwnProperty(G)&&($!=null||Q!=null))switch(G){case"type":_=$;break;case"name":m=$;break;case"checked":H=$;break;case"defaultChecked":Y=$;break;case"value":S=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,n));break;default:$!==Q&&Wt(t,n,G,$,c,Q)}}Mo(t,S,A,j,H,Y,_,m);return;case"select":$=S=A=G=null;for(_ in a)if(j=a[_],a.hasOwnProperty(_)&&j!=null)switch(_){case"value":break;case"multiple":$=j;default:c.hasOwnProperty(_)||Wt(t,n,_,null,c,j)}for(m in c)if(_=c[m],j=a[m],c.hasOwnProperty(m)&&(_!=null||j!=null))switch(m){case"value":G=_;break;case"defaultValue":A=_;break;case"multiple":S=_;default:_!==j&&Wt(t,n,m,_,c,j)}n=A,a=S,c=$,G!=null?te(t,!!a,G,!1):!!c!=!!a&&(n!=null?te(t,!!a,n,!0):te(t,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(A in a)if(m=a[A],a.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Wt(t,n,A,null,c,m)}for(S in c)if(m=c[S],_=a[S],c.hasOwnProperty(S)&&(m!=null||_!=null))switch(S){case"value":G=m;break;case"defaultValue":$=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==_&&Wt(t,n,S,m,c,_)}di(t,G,$);return;case"option":for(var mt in a)if(G=a[mt],a.hasOwnProperty(mt)&&G!=null&&!c.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Wt(t,n,mt,null,c,G)}for(j in c)if(G=c[j],$=a[j],c.hasOwnProperty(j)&&G!==$&&(G!=null||$!=null))switch(j){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Wt(t,n,j,G,c,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)G=a[bt],a.hasOwnProperty(bt)&&G!=null&&!c.hasOwnProperty(bt)&&Wt(t,n,bt,null,c,G);for(H in c)if(G=c[H],$=a[H],c.hasOwnProperty(H)&&G!==$&&(G!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,n));break;default:Wt(t,n,H,G,c,$)}return;default:if(cr(n)){for(var Jt in a)G=a[Jt],a.hasOwnProperty(Jt)&&G!==void 0&&!c.hasOwnProperty(Jt)&&ad(t,n,Jt,void 0,c,G);for(Y in c)G=c[Y],$=a[Y],!c.hasOwnProperty(Y)||G===$||G===void 0&&$===void 0||ad(t,n,Y,G,c,$);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!c.hasOwnProperty(U)&&Wt(t,n,U,null,c,G);for(Q in c)G=c[Q],$=a[Q],!c.hasOwnProperty(Q)||G===$||G==null&&$==null||Wt(t,n,Q,G,c,$)}function nv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var m=a[c],_=m.transferSize,S=m.initiatorType,A=m.duration;if(_&&A&&nv(S)){for(S=0,A=m.responseEnd,c+=1;c<a.length;c++){var j=a[c],H=j.startTime;if(H>A)break;var Y=j.transferSize,Q=j.initiatorType;Y&&nv(Q)&&(j=j.responseEnd,S+=Y*(j<A?1:(A-H)/(j-H)))}if(--c,n+=8*(_+S)/(m.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var od=null,ld=null;function vc(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ud(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function RS(){var t=window.event;return t&&t.type==="popstate"?t===cd?!1:(cd=t,!0):(cd=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,kS=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(PS)}:rv;function PS(t){setTimeout(function(){throw t})}function Vs(t){return t==="head"}function ov(t,n){var a=n,c=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(m),Fa(n);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vl(a);for(var _=a.firstChild;_;){var S=_.nextSibling,A=_.nodeName;_[ar]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=S}}else a==="body"&&vl(t.ownerDocument.body);a=m}while(a);Fa(n)}function lv(t,n){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function hd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hd(a),Co(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function NS(t,n,a,c){for(;t.nodeType===1;){var m=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[ar])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(_=t.getAttribute("rel"),_==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(_!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(_=t.getAttribute("src"),(_!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&_&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var _=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===_)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function DS(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function uv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Hn(t.nextSibling),t===null))return null;return t}function fd(t){return t.data==="$?"||t.data==="$~"}function dd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function zS(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var c=function(){n(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var md=null;function cv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Hn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function hv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function fv(t,n,a){switch(n=vc(a),t){case"html":if(t=n.documentElement,!t)throw Error(o(452));return t;case"head":if(t=n.head,!t)throw Error(o(453));return t;case"body":if(t=n.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Co(t)}var qn=new Map,dv=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=it.d;it.d={f:BS,r:US,D:VS,C:IS,L:HS,m:qS,X:GS,S:ZS,M:$S};function BS(){var t=es.f(),n=cc();return t||n}function US(t){var n=us(t);n!==null&&n.tag===5&&n.type==="form"?Mg(n):es.r(t)}var Za=typeof document>"u"?null:document;function mv(t,n,a){var c=Za;if(c&&typeof n=="string"&&n){var m=se(n);m='link[rel="'+t+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),dv.has(m)||(dv.add(m),t={rel:t,crossOrigin:a,href:n},c.querySelector(m)===null&&(n=c.createElement("link"),Ze(n,"link",t),Te(n),c.head.appendChild(n)))}}function VS(t){es.D(t),mv("dns-prefetch",t,null)}function IS(t,n){es.C(t,n),mv("preconnect",t,n)}function HS(t,n,a){es.L(t,n,a);var c=Za;if(c&&t&&n){var m='link[rel="preload"][as="'+se(n)+'"]';n==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+se(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+se(a.imageSizes)+'"]')):m+='[href="'+se(t)+'"]';var _=m;switch(n){case"style":_=Ga(t);break;case"script":_=$a(t)}qn.has(_)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),qn.set(_,t),c.querySelector(m)!==null||n==="style"&&c.querySelector(yl(_))||n==="script"&&c.querySelector(bl(_))||(n=c.createElement("link"),Ze(n,"link",t),Te(n),c.head.appendChild(n)))}}function qS(t,n){es.m(t,n);var a=Za;if(a&&t){var c=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+se(c)+'"][href="'+se(t)+'"]',_=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=$a(t)}if(!qn.has(_)&&(t=w({rel:"modulepreload",href:t},n),qn.set(_,t),a.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(_)))return}c=a.createElement("link"),Ze(c,"link",t),Te(c),a.head.appendChild(c)}}}function ZS(t,n,a){es.S(t,n,a);var c=Za;if(c&&t){var m=cs(c).hoistableStyles,_=Ga(t);n=n||"default";var S=m.get(_);if(!S){var A={loading:0,preload:null};if(S=c.querySelector(yl(_)))A.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=qn.get(_))&&pd(t,a);var j=S=c.createElement("link");Te(j),Ze(j,"link",t),j._p=new Promise(function(H,Y){j.onload=H,j.onerror=Y}),j.addEventListener("load",function(){A.loading|=1}),j.addEventListener("error",function(){A.loading|=2}),A.loading|=4,bc(S,n,c)}S={type:"stylesheet",instance:S,count:1,state:A},m.set(_,S)}}}function GS(t,n){es.X(t,n);var a=Za;if(a&&t){var c=cs(a).hoistableScripts,m=$a(t),_=c.get(m);_||(_=a.querySelector(bl(m)),_||(t=w({src:t,async:!0},n),(n=qn.get(m))&&gd(t,n),_=a.createElement("script"),Te(_),Ze(_,"link",t),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(m,_))}}function $S(t,n){es.M(t,n);var a=Za;if(a&&t){var c=cs(a).hoistableScripts,m=$a(t),_=c.get(m);_||(_=a.querySelector(bl(m)),_||(t=w({src:t,async:!0,type:"module"},n),(n=qn.get(m))&&gd(t,n),_=a.createElement("script"),Te(_),Ze(_,"link",t),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(m,_))}}function pv(t,n,a,c){var m=(m=ct.current)?yc(m):null;if(!m)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ga(a.href),a=cs(m).hoistableStyles,c=a.get(n),c||(c={type:"style",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var _=cs(m).hoistableStyles,S=_.get(t);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(t,S),(_=m.querySelector(yl(t)))&&!_._p&&(S.instance=_,S.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),_||FS(m,t,a,S.state))),n&&c===null)throw Error(o(528,""));return S}if(n&&c!==null)throw Error(o(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(a),a=cs(m).hoistableScripts,c=a.get(n),c||(c={type:"script",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Ga(t){return'href="'+se(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function gv(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function FS(t,n,a,c){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=t.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Ze(n,"link",a),Te(n),t.head.appendChild(n))}function $a(t){return'[src="'+se(t)+'"]'}function bl(t){return"script[async]"+t}function _v(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var c=t.querySelector('style[data-href~="'+se(a.href)+'"]');if(c)return n.instance=c,Te(c),c;var m=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Te(c),Ze(c,"style",m),bc(c,a.precedence,t),n.instance=c;case"stylesheet":m=Ga(a.href);var _=t.querySelector(yl(m));if(_)return n.state.loading|=4,n.instance=_,Te(_),_;c=gv(a),(m=qn.get(m))&&pd(c,m),_=(t.ownerDocument||t).createElement("link"),Te(_);var S=_;return S._p=new Promise(function(A,j){S.onload=A,S.onerror=j}),Ze(_,"link",c),n.state.loading|=4,bc(_,a.precedence,t),n.instance=_;case"script":return _=$a(a.src),(m=t.querySelector(bl(_)))?(n.instance=m,Te(m),m):(c=a,(m=qn.get(_))&&(c=w({},a),gd(c,m)),t=t.ownerDocument||t,m=t.createElement("script"),Te(m),Ze(m,"link",c),t.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,bc(c,a.precedence,t));return n.instance}function bc(t,n,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,_=m,S=0;S<c.length;S++){var A=c[S];if(A.dataset.precedence===n)_=A;else if(_!==m)break}_?_.parentNode.insertBefore(t,_.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function pd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wc=null;function vv(t,n,a){if(wc===null){var c=new Map,m=wc=new Map;m.set(a,c)}else m=wc,c=m.get(a),c||(c=new Map,m.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),m=0;m<a.length;m++){var _=a[m];if(!(_[ar]||_[Se]||t==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var S=_.getAttribute(n)||"";S=t+S;var A=c.get(S);A?A.push(_):c.set(S,[_])}}return c}function yv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function KS(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function bv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function YS(t,n,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Ga(c.href),_=n.querySelector(yl(m));if(_){n=_._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=xc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=_,Te(_);return}_=n.ownerDocument||n,c=gv(c),(m=qn.get(m))&&pd(c,m),_=_.createElement("link"),Te(_);var S=_;S._p=new Promise(function(A,j){S.onload=A,S.onerror=j}),Ze(_,"link",c),a.instance=_}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=xc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var _d=0;function XS(t,n){return t.stylesheets&&t.count===0&&Tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend){var _=t.unsuspend;t.unsuspend=null,_()}},6e4+n);0<t.imgBytes&&_d===0&&(_d=62500*MS());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend)){var _=t.unsuspend;t.unsuspend=null,_()}},(t.imgBytes>_d?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function Tc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,n.forEach(WS,t),Sc=null,xc.call(t))}function WS(t,n){if(!(n.state.loading&4)){var a=Sc.get(t);if(a)var c=a.get(null);else{a=new Map,Sc.set(t,a);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<m.length;_++){var S=m[_];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),c=S)}c&&a.set(null,c)}m=n.instance,S=m.getAttribute("data-precedence"),_=a.get(S)||c,_===c&&a.set(null,m),a.set(S,m),this.count++,c=xc.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),_?_.parentNode.insertBefore(m,_.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),n.state.loading|=4}}var wl={$$typeof:B,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function JS(t,n,a,c,m,_,S,A,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=So(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=So(0),this.hiddenUpdates=So(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=_,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function wv(t,n,a,c,m,_,S,A,j,H,Y,Q){return t=new JS(t,n,a,S,j,H,Y,Q,A),n=1,_===!0&&(n|=24),_=Xe(3,null,null,n),t.current=_,_.stateNode=t,n=Yh(),n.refCount++,t.pooledCache=n,n.refCount++,_.memoizedState={element:c,isDehydrated:a,cache:n},Qh(_),t}function xv(t){return t?(t=Ii,t):Ii}function Sv(t,n,a,c,m,_){m=xv(m),c.context===null?c.context=m:c.pendingContext=m,c=Ls(n),c.payload={element:a},_=_===void 0?null:_,_!==null&&(c.callback=_),a=Ms(t,c,n),a!==null&&(yn(a,t,n),Qo(a,t,n))}function Tv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function vd(t,n){Tv(t,n),(t=t.alternate)&&Tv(t,n)}function Ev(t){if(t.tag===13||t.tag===31){var n=Un(t,67108864);n!==null&&yn(n,t,67108864),vd(t,67108864)}}function Cv(t){if(t.tag===13||t.tag===31){var n=Rn();n=ln(n);var a=Un(t,n);a!==null&&yn(a,t,n),vd(t,n)}}var Ec=!0;function QS(t,n,a,c){var m=F.T;F.T=null;var _=it.p;try{it.p=2,yd(t,n,a,c)}finally{it.p=_,F.T=m}}function tT(t,n,a,c){var m=F.T;F.T=null;var _=it.p;try{it.p=8,yd(t,n,a,c)}finally{it.p=_,F.T=m}}function yd(t,n,a,c){if(Ec){var m=bd(c);if(m===null)rd(t,n,c,Cc,a),Ov(t,c);else if(nT(m,t,n,a,c))c.stopPropagation();else if(Ov(t,c),n&4&&-1<eT.indexOf(t)){for(;m!==null;){var _=us(m);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=ki(_.pendingLanes);if(S!==0){var A=_;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var j=1<<31-en(S);A.entanglements[1]|=j,S&=~j}Ei(_),(Zt&6)===0&&(lc=tn()+500,pl(0))}}break;case 31:case 13:A=Un(_,2),A!==null&&yn(A,_,2),cc(),vd(_,2)}if(_=bd(c),_===null&&rd(t,n,c,Cc,a),_===m)break;m=_}m!==null&&c.stopPropagation()}else rd(t,n,c,null,a)}}function bd(t){return t=hr(t),wd(t)}var Cc=null;function wd(t){if(Cc=null,t=Ni(t),t!==null){var n=l(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=h(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cc=t,null}function Av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eh()){case aa:return 2;case wo:return 8;case tr:case Ch:return 32;case xo:return 268435456;default:return 32}default:return 32}}var xd=!1,Is=null,Hs=null,qs=null,xl=new Map,Sl=new Map,Zs=[],eT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ov(t,n){switch(t){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function Tl(t,n,a,c,m,_){return t===null||t.nativeEvent!==_?(t={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:_,targetContainers:[m]},n!==null&&(n=us(n),n!==null&&Ev(n)),t):(t.eventSystemFlags|=c,n=t.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),t)}function nT(t,n,a,c,m){switch(n){case"focusin":return Is=Tl(Is,t,n,a,c,m),!0;case"dragenter":return Hs=Tl(Hs,t,n,a,c,m),!0;case"mouseover":return qs=Tl(qs,t,n,a,c,m),!0;case"pointerover":var _=m.pointerId;return xl.set(_,Tl(xl.get(_)||null,t,n,a,c,m)),!0;case"gotpointercapture":return _=m.pointerId,Sl.set(_,Tl(Sl.get(_)||null,t,n,a,c,m)),!0}return!1}function Lv(t){var n=Ni(t.target);if(n!==null){var a=l(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){t.blockedOn=n,Eo(t.priority,function(){Cv(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Eo(t.priority,function(){Cv(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=bd(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);ha=c,a.target.dispatchEvent(c),ha=null}else return n=us(a),n!==null&&Ev(n),t.blockedOn=a,!1;n.shift()}return!0}function Mv(t,n,a){Ac(t)&&a.delete(n)}function iT(){xd=!1,Is!==null&&Ac(Is)&&(Is=null),Hs!==null&&Ac(Hs)&&(Hs=null),qs!==null&&Ac(qs)&&(qs=null),xl.forEach(Mv),Sl.forEach(Mv)}function Oc(t,n){t.blockedOn===n&&(t.blockedOn=null,xd||(xd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,iT)))}var Lc=null;function Rv(t){Lc!==t&&(Lc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var n=0;n<t.length;n+=3){var a=t[n],c=t[n+1],m=t[n+2];if(typeof c!="function"){if(wd(c||a)===null)continue;break}var _=us(a);_!==null&&(t.splice(n,3),n-=3,bf(_,{pending:!0,data:m,method:a.method,action:c},c,m))}}))}function Fa(t){function n(j){return Oc(j,t)}Is!==null&&Oc(Is,t),Hs!==null&&Oc(Hs,t),qs!==null&&Oc(qs,t),xl.forEach(n),Sl.forEach(n);for(var a=0;a<Zs.length;a++){var c=Zs[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Zs.length&&(a=Zs[0],a.blockedOn===null);)Lv(a),a.blockedOn===null&&Zs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var m=a[c],_=a[c+1],S=m[De]||null;if(typeof _=="function")S||Rv(a);else if(S){var A=null;if(_&&_.hasAttribute("formAction")){if(m=_,S=_[De]||null)A=S.formAction;else if(wd(m)!==null)continue}else A=S.action;typeof A=="function"?a[c+1]=A:(a.splice(c,3),c-=3),Rv(a)}}}function kv(){function t(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(S){return m=S})},focusReset:"manual",scroll:"manual"})}function n(){m!==null&&(m(),m=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),m!==null&&(m(),m=null)}}}function Sd(t){this._internalRoot=t}Mc.prototype.render=Sd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));var a=n.current,c=Rn();Sv(a,c,t,n,null,null)},Mc.prototype.unmount=Sd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Sv(t.current,2,null,t,null,null),cc(),n[Pi]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var n=To();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Zs.length&&n!==0&&n<Zs[a].priority;a++);Zs.splice(a,0,t),a===0&&Lv(t)}};var jv=e.version;if(jv!=="19.2.1")throw Error(o(527,jv,"19.2.1"));it.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=v(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var sT={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{ls=Rc.inject(sT),Ve=Rc}catch{}}return Cl.createRoot=function(t,n){if(!f(t))throw Error(o(299));var a=!1,c="",m=Vg,_=Ig,S=Hg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(_=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=wv(t,1,!1,null,null,a,c,null,m,_,S,kv),t[Pi]=n.current,sd(t),new Sd(n)},Cl.hydrateRoot=function(t,n,a){if(!f(t))throw Error(o(299));var c=!1,m="",_=Vg,S=Ig,A=Hg,j=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),n=wv(t,1,!0,n,a??null,c,m,j,_,S,A,kv),n.context=xv(null),a=n.current,c=Rn(),c=ln(c),m=Ls(c),m.callback=null,Ms(a,m,c),a=c,n.current.lanes=a,ji(n,a),Ei(n),t[Pi]=n.current,sd(t),new Mc(n)},Cl.version="19.2.1",Cl}var qv;function mT(){if(qv)return Cd.exports;qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Cd.exports=dT(),Cd.exports}var pT=mT();function gT(i){return i<=7?1:i<=10?2:i<=13?3:4}const V0=W.createContext(null);function _T({children:i}){const[e,r]=W.useState(null),[o,f]=W.useState(null),[l,h]=W.useState({sector:null,search:""}),[p,g]=W.useState("map"),[v,b]=W.useState(5);return O.jsx(V0.Provider,{value:{selectedCompany:e,setSelectedCompany:r,hoveredCompany:o,setHoveredCompany:f,filters:l,setFilters:h,viewMode:p,setViewMode:g,zoomLevel:v,setZoomLevel:b,markerDisplayLevel:gT(v)},children:i})}function ea(){const i=W.useContext(V0);if(!i)throw new Error("useMapContext must be used within MapProvider");return i}function I0(i,e){const r=W.useRef(e);W.useEffect(function(){e!==r.current&&i.attributionControl!=null&&(r.current!=null&&i.attributionControl.removeAttribution(r.current),e!=null&&i.attributionControl.addAttribution(e)),r.current=e},[i,e])}var vT=U0();const yT=1;function bT(i){return Object.freeze({__version:yT,map:i})}function H0(i,e){return Object.freeze({...i,...e})}const $m=W.createContext(null);function Yl(){const i=W.use($m);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function q0(i){function e(r,o){const{instance:f,context:l}=i(r).current;W.useImperativeHandle(o,()=>f);const{children:h}=r;return h==null?null:nm.createElement($m,{value:l},h)}return W.forwardRef(e)}function wT(i){function e(r,o){const[f,l]=W.useState(!1),{instance:h}=i(r,l).current;W.useImperativeHandle(o,()=>h),W.useEffect(function(){f&&h.update()},[h,f,r.children]);const p=h._contentNode;return p?vT.createPortal(r.children,p):null}return W.forwardRef(e)}function Z0(i){function e(r,o){const{instance:f}=i(r).current;return W.useImperativeHandle(o,()=>f),null}return W.forwardRef(e)}function xT(i){return function(r){const o=Yl(),f=i(r,o),{instance:l}=f.current,h=W.useRef(r.position),{position:p}=r;return W.useEffect(function(){return l.addTo(o.map),function(){l.remove()}},[o.map,l]),W.useEffect(function(){p!=null&&p!==h.current&&(l.setPosition(p),h.current=p)},[l,p]),f}}function Fm(i,e){const r=W.useRef(void 0);W.useEffect(function(){return e!=null&&i.instance.on(e),r.current=e,function(){r.current!=null&&i.instance.off(r.current),r.current=null}},[i,e])}function gh(i,e){const r=i.pane??e.pane;return r?{...i,pane:r}:i}function ST(i,e){return function(o,f){const l=Yl(),h=i(gh(o,l),l);return I0(l.map,o.attribution),Fm(h.current,o.eventHandlers),e(h.current,l,o,f),h}}var Ml={exports:{}};var TT=Ml.exports,Zv;function ET(){return Zv||(Zv=1,(function(i,e){(function(r,o){o(e)})(TT,(function(r){var o="1.9.4";function f(s){var u,d,y,x;for(d=1,y=arguments.length;d<y;d++){x=arguments[d];for(u in x)s[u]=x[u]}return s}var l=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function h(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var y=d.call(arguments,2);return function(){return s.apply(u,y.length?y.concat(d.call(arguments)):arguments)}}var p=0;function g(s){return"_leaflet_id"in s||(s._leaflet_id=++p),s._leaflet_id}function v(s,u,d){var y,x,C,k;return k=function(){y=!1,x&&(C.apply(d,x),x=!1)},C=function(){y?x=arguments:(s.apply(d,arguments),setTimeout(k,u),y=!0)},C}function b(s,u,d){var y=u[1],x=u[0],C=y-x;return s===y&&d?s:((s-x)%C+C)%C+x}function w(){return!1}function T(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function E(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function M(s){return E(s).split(/\s+/)}function R(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?l(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function N(s,u,d){var y=[];for(var x in s)y.push(encodeURIComponent(d?x.toUpperCase():x)+"="+encodeURIComponent(s[x]));return(!u||u.indexOf("?")===-1?"?":"&")+y.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function q(s,u){return s.replace(z,function(d,y){var x=u[y];if(x===void 0)throw new Error("No value provided for variable "+d);return typeof x=="function"&&(x=x(u)),x})}var B=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function tt(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var nt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function at(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var st=0;function ft(s){var u=+new Date,d=Math.max(0,16-(u-st));return st=u+d,window.setTimeout(s,d)}var Ct=window.requestAnimationFrame||at("RequestAnimationFrame")||ft,ie=window.cancelAnimationFrame||at("CancelAnimationFrame")||at("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Ut(s,u,d){if(d&&Ct===ft)s.call(u);else return Ct.call(window,h(s,u))}function Gt(s){s&&ie.call(window,s)}var Fn={__proto__:null,extend:f,create:l,bind:h,get lastId(){return p},stamp:g,throttle:v,wrapNum:b,falseFn:w,formatNum:T,trim:E,splitWords:M,setOptions:R,getParamString:N,template:q,isArray:B,indexOf:tt,emptyImageUrl:nt,requestFn:Ct,cancelFn:ie,requestAnimFrame:Ut,cancelAnimFrame:Gt};function pe(){}pe.extend=function(s){var u=function(){R(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,y=l(d);y.constructor=u,u.prototype=y;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(u[x]=this[x]);return s.statics&&f(u,s.statics),s.includes&&(Ke(s.includes),f.apply(null,[y].concat(s.includes))),f(y,s),delete y.statics,delete y.includes,y.options&&(y.options=d.options?l(d.options):{},f(y.options,s.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var C=0,k=y._initHooks.length;C<k;C++)y._initHooks[C].call(this)}},u},pe.include=function(s){var u=this.prototype.options;return f(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},pe.mergeOptions=function(s){return f(this.prototype.options,s),this},pe.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Ke(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=B(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var F={on:function(s,u,d){if(typeof s=="object")for(var y in s)this._on(y,s[y],u);else{s=M(s);for(var x=0,C=s.length;x<C;x++)this._on(s[x],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var y in s)this._off(y,s[y],u);else{s=M(s);for(var x=arguments.length===1,C=0,k=s.length;C<k;C++)x?this._off(s[C]):this._off(s[C],u,d)}return this},_on:function(s,u,d,y){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var x={fn:u,ctx:d};y&&(x.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(x)}},_off:function(s,u,d){var y,x,C;if(this._events&&(y=this._events[s],!!y)){if(arguments.length===1){if(this._firingCount)for(x=0,C=y.length;x<C;x++)y[x].fn=w;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var k=this._listens(s,u,d);if(k!==!1){var V=y[k];this._firingCount&&(V.fn=w,this._events[s]=y=y.slice()),y.splice(k,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var y=f({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var x=this._events[s];if(x){this._firingCount=this._firingCount+1||1;for(var C=0,k=x.length;C<k;C++){var V=x[C],Z=V.fn;V.once&&this.off(s,Z,V.ctx),Z.call(V.ctx||this,y)}this._firingCount--}}return d&&this._propagateEvent(y),this},listens:function(s,u,d,y){typeof s!="string"&&console.warn('"string" type argument expected');var x=u;typeof u!="function"&&(y=!!u,x=void 0,d=void 0);var C=this._events&&this._events[s];if(C&&C.length&&this._listens(s,x,d)!==!1)return!0;if(y){for(var k in this._eventParents)if(this._eventParents[k].listens(s,u,d,y))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var y=this._events[s]||[];if(!u)return!!y.length;d===this&&(d=void 0);for(var x=0,C=y.length;x<C;x++)if(y[x].fn===u&&y[x].ctx===d)return x;return!1},once:function(s,u,d){if(typeof s=="object")for(var y in s)this._on(y,s[y],u,!0);else{s=M(s);for(var x=0,C=s.length;x<C;x++)this._on(s[x],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[g(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[g(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,f({layer:s.target,propagatedFrom:s.target},s),!0)}};F.addEventListener=F.on,F.removeEventListener=F.clearAllEventListeners=F.off,F.addOneTimeEventListener=F.once,F.fireEvent=F.fire,F.hasEventListeners=F.listens;var it=pe.extend(F);function et(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var Rt=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};et.prototype={clone:function(){return new et(this.x,this.y)},add:function(s){return this.clone()._add(ut(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ut(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new et(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new et(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Rt(this.x),this.y=Rt(this.y),this},distanceTo:function(s){s=ut(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=ut(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ut(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function ut(s,u,d){return s instanceof et?s:B(s)?new et(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new et(s.x,s.y):new et(s,u,d)}function P(s,u){if(s)for(var d=u?[s,u]:s,y=0,x=d.length;y<x;y++)this.extend(d[y])}P.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof et||typeof s[0]=="number"||"x"in s)u=d=ut(s);else if(s=K(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return ut((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ut(this.min.x,this.max.y)},getTopRight:function(){return ut(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof et?s=ut(s):s=K(s),s instanceof P?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=K(s);var u=this.min,d=this.max,y=s.min,x=s.max,C=x.x>=u.x&&y.x<=d.x,k=x.y>=u.y&&y.y<=d.y;return C&&k},overlaps:function(s){s=K(s);var u=this.min,d=this.max,y=s.min,x=s.max,C=x.x>u.x&&y.x<d.x,k=x.y>u.y&&y.y<d.y;return C&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,y=Math.abs(u.x-d.x)*s,x=Math.abs(u.y-d.y)*s;return K(ut(u.x-y,u.y-x),ut(d.x+y,d.y+x))},equals:function(s){return s?(s=K(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function K(s,u){return!s||s instanceof P?s:new P(s,u)}function rt(s,u){if(s)for(var d=u?[s,u]:s,y=0,x=d.length;y<x;y++)this.extend(d[y])}rt.prototype={extend:function(s){var u=this._southWest,d=this._northEast,y,x;if(s instanceof ht)y=s,x=s;else if(s instanceof rt){if(y=s._southWest,x=s._northEast,!y||!x)return this}else return s?this.extend(ct(s)||ot(s)):this;return!u&&!d?(this._southWest=new ht(y.lat,y.lng),this._northEast=new ht(x.lat,x.lng)):(u.lat=Math.min(y.lat,u.lat),u.lng=Math.min(y.lng,u.lng),d.lat=Math.max(x.lat,d.lat),d.lng=Math.max(x.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,y=Math.abs(u.lat-d.lat)*s,x=Math.abs(u.lng-d.lng)*s;return new rt(new ht(u.lat-y,u.lng-x),new ht(d.lat+y,d.lng+x))},getCenter:function(){return new ht((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ht(this.getNorth(),this.getWest())},getSouthEast:function(){return new ht(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ht||"lat"in s?s=ct(s):s=ot(s);var u=this._southWest,d=this._northEast,y,x;return s instanceof rt?(y=s.getSouthWest(),x=s.getNorthEast()):y=x=s,y.lat>=u.lat&&x.lat<=d.lat&&y.lng>=u.lng&&x.lng<=d.lng},intersects:function(s){s=ot(s);var u=this._southWest,d=this._northEast,y=s.getSouthWest(),x=s.getNorthEast(),C=x.lat>=u.lat&&y.lat<=d.lat,k=x.lng>=u.lng&&y.lng<=d.lng;return C&&k},overlaps:function(s){s=ot(s);var u=this._southWest,d=this._northEast,y=s.getSouthWest(),x=s.getNorthEast(),C=x.lat>u.lat&&y.lat<d.lat,k=x.lng>u.lng&&y.lng<d.lng;return C&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=ot(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ot(s,u){return s instanceof rt?s:new rt(s,u)}function ht(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}ht.prototype={equals:function(s,u){if(!s)return!1;s=ct(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+T(this.lat,s)+", "+T(this.lng,s)+")"},distanceTo:function(s){return ae.distance(this,ct(s))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return ot([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new ht(this.lat,this.lng,this.alt)}};function ct(s,u,d){return s instanceof ht?s:B(s)&&typeof s[0]!="object"?s.length===3?new ht(s[0],s[1],s[2]):s.length===2?new ht(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ht(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new ht(s,u,d)}var Mt={latLngToPoint:function(s,u){var d=this.projection.project(s),y=this.scale(u);return this.transformation._transform(d,y)},pointToLatLng:function(s,u){var d=this.scale(u),y=this.transformation.untransform(s,d);return this.projection.unproject(y)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),y=this.transformation.transform(u.min,d),x=this.transformation.transform(u.max,d);return new P(y,x)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?b(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?b(s.lat,this.wrapLat,!0):s.lat,y=s.alt;return new ht(d,u,y)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),y=u.lat-d.lat,x=u.lng-d.lng;if(y===0&&x===0)return s;var C=s.getSouthWest(),k=s.getNorthEast(),V=new ht(C.lat-y,C.lng-x),Z=new ht(k.lat-y,k.lng-x);return new rt(V,Z)}},ae=f({},Mt,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,y=s.lat*d,x=u.lat*d,C=Math.sin((u.lat-s.lat)*d/2),k=Math.sin((u.lng-s.lng)*d/2),V=C*C+Math.cos(y)*Math.cos(x)*k*k,Z=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*Z}}),oe=6378137,Li={R:oe,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,y=Math.max(Math.min(d,s.lat),-d),x=Math.sin(y*u);return new et(this.R*s.lng*u,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(s){var u=180/Math.PI;return new ht((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=oe*Math.PI;return new P([-s,-s],[s,s])})()};function os(s,u,d,y){if(B(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=y}os.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new et((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Mi(s,u,d,y){return new os(s,u,d,y)}var na=f({},ae,{code:"EPSG:3857",projection:Li,transformation:(function(){var s=.5/(Math.PI*Li.R);return Mi(s,.5,-s,.5)})()}),Ri=f({},na,{code:"EPSG:900913"});function ia(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function sa(s,u){var d="",y,x,C,k,V,Z;for(y=0,C=s.length;y<C;y++){for(V=s[y],x=0,k=V.length;x<k;x++)Z=V[x],d+=(x?"L":"M")+Z.x+" "+Z.y;d+=u?gt.svg?"z":"x":""}return d||"M0 0"}var yo=document.documentElement.style,Js="ActiveXObject"in window,bo=Js&&!document.addEventListener,ra="msLaunchUri"in navigator&&!("documentMode"in document),Qs=ln("webkit"),su=ln("android"),ru=ln("android 2")||ln("android 3"),tn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Eh=su&&ln("Google")&&tn<537&&!("AudioNode"in window),aa=!!window.opera,wo=!ra&&ln("chrome"),tr=ln("gecko")&&!Qs&&!aa&&!Js,Ch=!wo&&ln("safari"),xo=ln("phantom"),au="OTransition"in yo,Ah=navigator.platform.indexOf("Win")===0,ls=Js&&"transition"in yo,Ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ru,Kn="MozPerspective"in yo,en=!window.L_DISABLE_3D&&(ls||Ve||Kn)&&!au&&!xo,er=typeof orientation<"u"||ln("mobile"),Oh=er&&Qs,Lh=er&&Ve,nr=!window.PointerEvent&&window.MSPointerEvent,ir=!!(window.PointerEvent||nr),sr="ontouchstart"in window||!!window.TouchEvent,ki=!window.L_NO_TOUCH&&(sr||ir),oa=er&&aa,rr=er&&tr,Mh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ou=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",w,u),window.removeEventListener("testPassiveEventSupport",w,u)}catch{}return s})(),So=(function(){return!!document.createElement("canvas").getContext})(),ji=!!(document.createElementNS&&ia("svg").createSVGRect),Rh=!!ji&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),lu=!ji&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),uu=navigator.platform.indexOf("Mac")===0,cu=navigator.platform.indexOf("Linux")===0;function ln(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var gt={ie:Js,ielt9:bo,edge:ra,webkit:Qs,android:su,android23:ru,androidStock:Eh,opera:aa,chrome:wo,gecko:tr,safari:Ch,phantom:xo,opera12:au,win:Ah,ie3d:ls,webkit3d:Ve,gecko3d:Kn,any3d:en,mobile:er,mobileWebkit:Oh,mobileWebkit3d:Lh,msPointer:nr,pointer:ir,touch:ki,touchNative:sr,mobileOpera:oa,mobileGecko:rr,retina:Mh,passiveEvents:ou,canvas:So,svg:ji,vml:lu,inlineSvg:Rh,mac:uu,linux:cu},To=gt.msPointer?"MSPointerDown":"pointerdown",Eo=gt.msPointer?"MSPointerMove":"pointermove",Yn=gt.msPointer?"MSPointerUp":"pointerup",Se=gt.msPointer?"MSPointerCancel":"pointercancel",De={touchstart:To,touchmove:Eo,touchend:Yn,touchcancel:Se},Pi={touchstart:cs,touchmove:hi,touchend:hi,touchcancel:hi},ci={},hu=!1;function kh(s,u,d){return u==="touchstart"&&us(),Pi[u]?(d=Pi[u].bind(this,d),s.addEventListener(De[u],d,!1),d):(console.warn("wrong event specified:",u),w)}function fu(s,u,d){if(!De[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(De[u],d,!1)}function ar(s){ci[s.pointerId]=s}function Co(s){ci[s.pointerId]&&(ci[s.pointerId]=s)}function Ni(s){delete ci[s.pointerId]}function us(){hu||(document.addEventListener(To,ar,!0),document.addEventListener(Eo,Co,!0),document.addEventListener(Yn,Ni,!0),document.addEventListener(Se,Ni,!0),hu=!0)}function hi(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in ci)u.touches.push(ci[d]);u.changedTouches=[u],s(u)}}function cs(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&ge(u),hi(s,u)}function Te(s){var u={},d,y;for(y in s)d=s[y],u[y]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var du=200;function mu(s,u){s.addEventListener("dblclick",u);var d=0,y;function x(C){if(C.detail!==1){y=C.detail;return}if(!(C.pointerType==="mouse"||C.sourceCapabilities&&!C.sourceCapabilities.firesTouchEvents)){var k=dr(C);if(!(k.some(function(Z){return Z instanceof HTMLLabelElement&&Z.attributes.for})&&!k.some(function(Z){return Z instanceof HTMLInputElement||Z instanceof HTMLSelectElement}))){var V=Date.now();V-d<=du?(y++,y===2&&u(Te(C))):y=1,d=V}}}return s.addEventListener("click",x),{dblclick:u,simDblclick:x}}function Di(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var fi=ur(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),or=ur(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ao=or==="webkitTransition"||or==="OTransition"?or+"End":"transitionend";function Oo(s){return typeof s=="string"?document.getElementById(s):s}function lr(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(s,null);d=y?y[u]:null}return d==="auto"?null:d}function kt(s,u,d){var y=document.createElement(s);return y.className=u||"",d&&d.appendChild(y),y}function Yt(s){var u=s.parentNode;u&&u.removeChild(s)}function un(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ke(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function zi(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Lo(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=la(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function Tt(s,u){if(s.classList!==void 0)for(var d=M(u),y=0,x=d.length;y<x;y++)s.classList.add(d[y]);else if(!Lo(s,u)){var C=la(s);hs(s,(C?C+" ":"")+u)}}function le(s,u){s.classList!==void 0?s.classList.remove(u):hs(s,E((" "+la(s)+" ").replace(" "+u+" "," ")))}function hs(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function la(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function se(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Mo(s,u)}function Mo(s,u){var d=!1,y="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(y)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+y+"(opacity="+u+")"}function ur(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function Xn(s,u,d){var y=u||new et(0,0);s.style[fi]=(gt.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(d?" scale("+d+")":"")}function te(s,u){s._leaflet_pos=u,gt.any3d?Xn(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function di(s){return s._leaflet_pos||new et(0,0)}var fs,jn,Ro;if("onselectstart"in document)fs=function(){xt(window,"selectstart",ge)},jn=function(){$t(window,"selectstart",ge)};else{var ds=ur(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fs=function(){if(ds){var s=document.documentElement.style;Ro=s[ds],s[ds]="none"}},jn=function(){ds&&(document.documentElement.style[ds]=Ro,Ro=void 0)}}function ua(){xt(window,"dragstart",ge)}function cr(){$t(window,"dragstart",ge)}var ca,ko;function ms(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(cn(),ca=s,ko=s.style.outlineStyle,s.style.outlineStyle="none",xt(window,"keydown",cn))}function cn(){ca&&(ca.style.outlineStyle=ko,ca=void 0,ko=void 0,$t(window,"keydown",cn))}function ha(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function hr(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var ps={__proto__:null,TRANSFORM:fi,TRANSITION:or,TRANSITION_END:Ao,get:Oo,getStyle:lr,create:kt,remove:Yt,empty:un,toFront:ke,toBack:zi,hasClass:Lo,addClass:Tt,removeClass:le,setClass:hs,getClass:la,setOpacity:se,testProp:ur,setTransform:Xn,setPosition:te,getPosition:di,get disableTextSelection(){return fs},get enableTextSelection(){return jn},disableImageDrag:ua,enableImageDrag:cr,preventOutline:ms,restoreOutline:cn,getSizedParentNode:ha,getScale:hr};function xt(s,u,d,y){if(u&&typeof u=="object")for(var x in u)Tn(s,x,u[x],d);else{u=M(u);for(var C=0,k=u.length;C<k;C++)Tn(s,u[C],d,y)}return this}var Sn="_leaflet_events";function $t(s,u,d,y){if(arguments.length===1)jo(s),delete s[Sn];else if(u&&typeof u=="object")for(var x in u)fr(s,x,u[x],d);else if(u=M(u),arguments.length===2)jo(s,function(V){return tt(u,V)!==-1});else for(var C=0,k=u.length;C<k;C++)fr(s,u[C],d,y);return this}function jo(s,u){for(var d in s[Sn]){var y=d.split(/\d/)[0];(!u||u(y))&&fr(s,y,null,null,d)}}var Bi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Tn(s,u,d,y){var x=u+g(d)+(y?"_"+g(y):"");if(s[Sn]&&s[Sn][x])return this;var C=function(V){return d.call(y||s,V||window.event)},k=C;!gt.touchNative&&gt.pointer&&u.indexOf("touch")===0?C=kh(s,u,C):gt.touch&&u==="dblclick"?C=mu(s,C):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Bi[u]||u,C,gt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(C=function(V){V=V||window.event,Wn(s,V)&&k(V)},s.addEventListener(Bi[u],C,!1)):s.addEventListener(u,k,!1):s.attachEvent("on"+u,C),s[Sn]=s[Sn]||{},s[Sn][x]=C}function fr(s,u,d,y,x){x=x||u+g(d)+(y?"_"+g(y):"");var C=s[Sn]&&s[Sn][x];if(!C)return this;!gt.touchNative&&gt.pointer&&u.indexOf("touch")===0?fu(s,u,C):gt.touch&&u==="dblclick"?Di(s,C):"removeEventListener"in s?s.removeEventListener(Bi[u]||u,C,!1):s.detachEvent("on"+u,C),s[Sn][x]=null}function En(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Pn(s){return Tn(s,"wheel",En),this}function Ui(s){return xt(s,"mousedown touchstart dblclick contextmenu",En),s._leaflet_disable_click=!0,this}function ge(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function mi(s){return ge(s),En(s),this}function dr(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function mr(s,u){if(!u)return new et(s.clientX,s.clientY);var d=hr(u),y=d.boundingClientRect;return new et((s.clientX-y.left)/d.x-u.clientLeft,(s.clientY-y.top)/d.y-u.clientTop)}var pu=gt.linux&&gt.chrome?window.devicePixelRatio:gt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ie(s){return gt.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/pu:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Wn(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var fa={__proto__:null,on:xt,off:$t,stopPropagation:En,disableScrollPropagation:Pn,disableClickPropagation:Ui,preventDefault:ge,stop:mi,getPropagationPath:dr,getMousePosition:mr,getWheelDelta:Ie,isExternalTarget:Wn,addListener:xt,removeListener:$t},gs=it.extend({run:function(s,u,d,y){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=di(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ut(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),te(this._el,d),this.fire("step")},_complete:function(){Gt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Dt=it.extend({options:{crs:na,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=R(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(ct(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=or&&gt.any3d&&!gt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),xt(this._proxy,Ao,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(ct(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=f({animate:d.animate},d.zoom),d.pan=f({animate:d.animate,duration:d.duration},d.pan));var y=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var y=this.getZoomScale(u),x=this.getSize().divideBy(2),C=s instanceof et?s:this.latLngToContainerPoint(s),k=C.subtract(x).multiplyBy(1-1/y),V=this.containerPointToLatLng(x.add(k));return this.setView(V,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():ot(s);var d=ut(u.paddingTopLeft||u.padding||[0,0]),y=ut(u.paddingBottomRight||u.padding||[0,0]),x=this.getBoundsZoom(s,!1,d.add(y));if(x=typeof u.maxZoom=="number"?Math.min(u.maxZoom,x):x,x===1/0)return{center:s.getCenter(),zoom:x};var C=y.subtract(d).divideBy(2),k=this.project(s.getSouthWest(),x),V=this.project(s.getNorthEast(),x),Z=this.unproject(k.add(V).divideBy(2).add(C),x);return{center:Z,zoom:x}},fitBounds:function(s,u){if(s=ot(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=ut(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Tt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!gt.any3d)return this.setView(s,u,d);this._stop();var y=this.project(this.getCenter()),x=this.project(s),C=this.getSize(),k=this._zoom;s=ct(s),u=u===void 0?k:u;var V=Math.max(C.x,C.y),Z=V*this.getZoomScale(k,u),J=x.distanceTo(y)||1,lt=1.42,vt=lt*lt;function Ot(de){var ei=de?-1:1,qi=de?Z:V,Ko=Z*Z-V*V+ei*vt*vt*J*J,Mr=2*qi*vt*J,Rr=Ko/Mr,Si=Math.sqrt(Rr*Rr+1)-Rr,ni=Si<1e-9?-18:Math.log(Si);return ni}function je(de){return(Math.exp(de)-Math.exp(-de))/2}function _e(de){return(Math.exp(de)+Math.exp(-de))/2}function sn(de){return je(de)/_e(de)}var Vt=Ot(0);function It(de){return V*(_e(Vt)/_e(Vt+lt*de))}function jt(de){return V*(_e(Vt)*sn(Vt+lt*de)-je(Vt))/vt}function wi(de){return 1-Math.pow(1-de,1.5)}var mn=Date.now(),Ca=(Ot(1)-Vt)/lt,xi=d.duration?1e3*d.duration:1e3*Ca*.8;function Fo(){var de=(Date.now()-mn)/xi,ei=wi(de)*Ca;de<=1?(this._flyToFrame=Ut(Fo,this),this._move(this.unproject(y.add(x.subtract(y).multiplyBy(jt(ei)/J)),k),this.getScaleZoom(V/It(ei),k),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Fo.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=ot(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),y=this._limitCenter(d,this._zoom,ot(s));return d.equals(y)||this.panTo(y,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=ut(u.paddingTopLeft||u.padding||[0,0]),y=ut(u.paddingBottomRight||u.padding||[0,0]),x=this.project(this.getCenter()),C=this.project(s),k=this.getPixelBounds(),V=K([k.min.add(d),k.max.subtract(y)]),Z=V.getSize();if(!V.contains(C)){this._enforcingBounds=!0;var J=C.subtract(V.getCenter()),lt=V.extend(C).getSize().subtract(Z);x.x+=J.x<0?-lt.x:lt.x,x.y+=J.y<0?-lt.y:lt.y,this.panTo(this.unproject(x),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=f({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),y=u.divideBy(2).round(),x=d.divideBy(2).round(),C=y.subtract(x);return!C.x&&!C.y?this:(s.animate&&s.pan?this.panBy(C):(s.pan&&this._rawPanBy(C),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=f({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=h(this._handleGeolocationResponse,this),d=h(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,y=new ht(u,d),x=y.toBounds(s.coords.accuracy*2),C=this._locateOptions;if(C.setView){var k=this.getBoundsZoom(x);this.setView(y,C.maxZoom?Math.min(k,C.maxZoom):k)}var V={latlng:y,bounds:x,timestamp:s.timestamp};for(var Z in s.coords)typeof s.coords[Z]=="number"&&(V[Z]=s.coords[Z]);this.fire("locationfound",V)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Gt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Yt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),y=kt("div",d,u||this._mapPane);return s&&(this._panes[s]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new rt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=ot(s),d=ut(d||[0,0]);var y=this.getZoom()||0,x=this.getMinZoom(),C=this.getMaxZoom(),k=s.getNorthWest(),V=s.getSouthEast(),Z=this.getSize().subtract(d),J=K(this.project(V,y),this.project(k,y)).getSize(),lt=gt.any3d?this.options.zoomSnap:1,vt=Z.x/J.x,Ot=Z.y/J.y,je=u?Math.max(vt,Ot):Math.min(vt,Ot);return y=this.getScaleZoom(je,y),lt&&(y=Math.round(y/(lt/100))*(lt/100),y=u?Math.ceil(y/lt)*lt:Math.floor(y/lt)*lt),Math.max(x,Math.min(C,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new et(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new P(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var y=d.zoom(s*d.scale(u));return isNaN(y)?1/0:y},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(ct(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(ut(s),u)},layerPointToLatLng:function(s){var u=ut(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(ct(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ct(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ot(s))},distance:function(s,u){return this.options.crs.distance(ct(s),ct(u))},containerPointToLayerPoint:function(s){return ut(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ut(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(ut(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ct(s)))},mouseEventToContainerPoint:function(s){return mr(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=Oo(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");xt(u,"scroll",this._onScroll,this),this._containerId=g(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&gt.any3d,Tt(s,"leaflet-container"+(gt.touch?" leaflet-touch":"")+(gt.retina?" leaflet-retina":"")+(gt.ielt9?" leaflet-oldie":"")+(gt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=lr(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),te(this._mapPane,new et(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Tt(s.markerPane,"leaflet-zoom-hide"),Tt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){te(this._mapPane,new et(0,0));var y=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var x=this._zoom!==u;this._moveStart(x,d)._move(s,u)._moveEnd(x),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,y){u===void 0&&(u=this._zoom);var x=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),y?d&&d.pinch&&this.fire("zoom",d):((x||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Gt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){te(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[g(this._container)]=this;var u=s?$t:xt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),gt.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Gt(this._resizeRequest),this._resizeRequest=Ut(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],y,x=u==="mouseout"||u==="mouseover",C=s.target||s.srcElement,k=!1;C;){if(y=this._targets[g(C)],y&&(u==="click"||u==="preclick")&&this._draggableMoved(y)){k=!0;break}if(y&&y.listens(u,!0)&&(x&&!Wn(C,s)||(d.push(y),x))||C===this._container)break;C=C.parentNode}return!d.length&&!k&&!x&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&ms(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var y=f({},s);y.type="preclick",this._fireDOMEvent(y,y.type,d)}var x=this._findEventTargets(s,u);if(d){for(var C=[],k=0;k<d.length;k++)d[k].listens(u,!0)&&C.push(d[k]);x=C.concat(x)}if(x.length){u==="contextmenu"&&ge(s);var V=x[0],Z={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var J=V.getLatLng&&(!V._radius||V._radius<=10);Z.containerPoint=J?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(s),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=J?V.getLatLng():this.layerPointToLatLng(Z.layerPoint)}for(k=0;k<x.length;k++)if(x[k].fire(u,Z,!0),Z.originalEvent._stopped||x[k].options.bubblingMouseEvents===!1&&tt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return di(this._mapPane)||new et(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var y=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(y)},_latLngBoundsToNewLayerBounds:function(s,u,d){var y=this._getNewPixelOrigin(d,u);return K([this.project(s.getSouthWest(),u)._subtract(y),this.project(s.getNorthWest(),u)._subtract(y),this.project(s.getSouthEast(),u)._subtract(y),this.project(s.getNorthEast(),u)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var y=this.project(s,u),x=this.getSize().divideBy(2),C=new P(y.subtract(x),y.add(x)),k=this._getBoundsOffset(C,d,u);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?s:this.unproject(y.add(k),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),y=new P(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(y,u))},_getBoundsOffset:function(s,u,d){var y=K(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),x=y.min.subtract(s.min),C=y.max.subtract(s.max),k=this._rebound(x.x,-C.x),V=this._rebound(x.y,-C.y);return new et(k,V)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),y=gt.any3d?this.options.zoomSnap:1;return y&&(s=Math.round(s/y)*y),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=fi,y=this._proxy.style[d];Xn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),y===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();Xn(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(u),x=this._getCenterOffset(s)._divideBy(1-1/y);return d.animate!==!0&&!this.getSize().contains(x)?!1:(Ut(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,y){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Tt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Po(s,u){return new Dt(s,u)}var nn=pe.extend({options:{position:"topright"},initialize:function(s){R(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),y=s._controlCorners[d];return Tt(u,"leaflet-control"),d.indexOf("bottom")!==-1?y.insertBefore(u,y.firstChild):y.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Jn=function(s){return new nn(s)};Dt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=kt("div",u+"control-container",this._container);function y(x,C){var k=u+x+" "+u+C;s[x+C]=kt("div",k,d)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Yt(this._controlCorners[s]);Yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pr=nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,y){return d<y?-1:y<d?1:0}},initialize:function(s,u,d){R(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in s)this._addLayer(s[y],y);for(y in u)this._addLayer(u[y],y,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return nn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(g(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Tt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Tt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=kt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ui(u),Pn(u);var y=this._section=kt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),xt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=kt("a",s+"-toggle",u);x.href="#",x.title="Layers",x.setAttribute("role","button"),xt(x,{keydown:function(C){C.keyCode===13&&this._expandSafely()},click:function(C){ge(C),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=kt("div",s+"-base",y),this._separator=kt("div",s+"-separator",y),this._overlaysList=kt("div",s+"-overlays",y),u.appendChild(y)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&g(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(h(function(y,x){return this.options.sortFunction(y.layer,x.layer,y.name,x.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;un(this._baseLayersList),un(this._overlaysList),this._layerControlInputs=[];var s,u,d,y,x=0;for(d=0;d<this._layers.length;d++)y=this._layers[d],this._addItem(y),u=u||y.overlay,s=s||!y.overlay,x+=y.overlay?0:1;return this.options.hideSingleBase&&(s=s&&x>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(g(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=d,y.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),y;s.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=d):y=this._createRadioElement("leaflet-base-layers_"+g(this),d),this._layerControlInputs.push(y),y.layerId=g(s.layer),xt(y,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+s.name;var C=document.createElement("span");u.appendChild(C),C.appendChild(y),C.appendChild(x);var k=s.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,y=[],x=[];this._handlingClick=!0;for(var C=s.length-1;C>=0;C--)u=s[C],d=this._getLayer(u.layerId).layer,u.checked?y.push(d):u.checked||x.push(d);for(C=0;C<x.length;C++)this._map.hasLayer(x[C])&&this._map.removeLayer(x[C]);for(C=0;C<y.length;C++)this._map.hasLayer(y[C])||this._map.addLayer(y[C]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,y=this._map.getZoom(),x=s.length-1;x>=0;x--)u=s[x],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&y<d.options.minZoom||d.options.maxZoom!==void 0&&y>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,xt(s,"click",ge),this.expand();var u=this;setTimeout(function(){$t(s,"click",ge),u._preventClick=!1})}}),gu=function(s,u,d){return new pr(s,u,d)},No=nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=kt("div",u+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,y,x){var C=kt("a",d,y);return C.innerHTML=s,C.href="#",C.title=u,C.setAttribute("role","button"),C.setAttribute("aria-label",u),Ui(C),xt(C,"click",mi),xt(C,"click",x,this),xt(C,"click",this._refocusOnMap,this),C},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";le(this._zoomInButton,u),le(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Tt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Tt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Dt.mergeOptions({zoomControl:!0}),Dt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new No,this.addControl(this.zoomControl))});var jh=function(s){return new No(s)},_u=nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=kt("div",u),y=this.options;return this._addScales(y,u+"-line",d),s.on(y.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=kt("div",u,d)),s.imperial&&(this._iScale=kt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,y,x;u>5280?(d=u/5280,y=this._getRoundNum(d),this._updateScale(this._iScale,y+" mi",y/d)):(x=this._getRoundNum(u),this._updateScale(this._iScale,x+" ft",x/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),Do=function(s){return new _u(s)},Ph='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zo=nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(gt.inlineSvg?Ph+" ":"")+"Leaflet</a>"},initialize:function(s){R(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=kt("div","leaflet-control-attribution"),Ui(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Dt.mergeOptions({attributionControl:!0}),Dt.addInitHook(function(){this.options.attributionControl&&new zo().addTo(this)});var Nh=function(s){return new zo(s)};nn.Layers=pr,nn.Zoom=No,nn.Scale=_u,nn.Attribution=zo,Jn.layers=gu,Jn.zoom=jh,Jn.scale=Do,Jn.attribution=Nh;var Nn=pe.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Nn.addTo=function(s,u){return s.addHandler(u,this),this};var Dh={Events:F},Bo=gt.touch?"touchstart mousedown":"mousedown",pi=it.extend({options:{clickTolerance:3},initialize:function(s,u,d,y){R(this,y),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(xt(this._dragStartTarget,Bo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(pi._dragging===this&&this.finishDrag(!0),$t(this._dragStartTarget,Bo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Lo(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){pi._dragging===this&&this.finishDrag();return}if(!(pi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(pi._dragging=this,this._preventOutline&&ms(this._element),ua(),fs(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=ha(this._element);this._startPoint=new et(u.clientX,u.clientY),this._startPos=di(this._element),this._parentScale=hr(d);var y=s.type==="mousedown";xt(document,y?"mousemove":"touchmove",this._onMove,this),xt(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new et(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,ge(s),this._moved||(this.fire("dragstart"),this._moved=!0,Tt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Tt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),te(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){le(document.body,"leaflet-dragging"),this._lastTarget&&(le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),$t(document,"mousemove touchmove",this._onMove,this),$t(document,"mouseup touchend touchcancel",this._onUp,this),cr(),jn();var u=this._moved&&this._moving;this._moving=!1,pi._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function vu(s,u,d){var y,x=[1,4,2,8],C,k,V,Z,J,lt,vt,Ot;for(C=0,lt=s.length;C<lt;C++)s[C]._code=Vi(s[C],u);for(V=0;V<4;V++){for(vt=x[V],y=[],C=0,lt=s.length,k=lt-1;C<lt;k=C++)Z=s[C],J=s[k],Z._code&vt?J._code&vt||(Ot=da(J,Z,vt,u,d),Ot._code=Vi(Ot,u),y.push(Ot)):(J._code&vt&&(Ot=da(J,Z,vt,u,d),Ot._code=Vi(Ot,u),y.push(Ot)),y.push(Z));s=y}return s}function yu(s,u){var d,y,x,C,k,V,Z,J,lt;if(!s||s.length===0)throw new Error("latlngs not passed");hn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var vt=ct([0,0]),Ot=ot(s),je=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());je<1700&&(vt=Uo(s));var _e=s.length,sn=[];for(d=0;d<_e;d++){var Vt=ct(s[d]);sn.push(u.project(ct([Vt.lat-vt.lat,Vt.lng-vt.lng])))}for(V=Z=J=0,d=0,y=_e-1;d<_e;y=d++)x=sn[d],C=sn[y],k=x.y*C.x-C.y*x.x,Z+=(x.x+C.x)*k,J+=(x.y+C.y)*k,V+=k*3;V===0?lt=sn[0]:lt=[Z/V,J/V];var It=u.unproject(ut(lt));return ct([It.lat+vt.lat,It.lng+vt.lng])}function Uo(s){for(var u=0,d=0,y=0,x=0;x<s.length;x++){var C=ct(s[x]);u+=C.lat,d+=C.lng,y++}return ct([u/y,d/y])}var Vo={__proto__:null,clipPolygon:vu,polygonCenter:yu,centroid:Uo};function bu(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=Bh(s,d),s=xu(s,d),s}function wu(s,u,d){return Math.sqrt(gr(s,u,d,!0))}function zh(s,u,d){return gr(s,u,d)}function xu(s,u){var d=s.length,y=typeof Uint8Array<"u"?Uint8Array:Array,x=new y(d);x[0]=x[d-1]=1,Io(s,x,u,0,d-1);var C,k=[];for(C=0;C<d;C++)x[C]&&k.push(s[C]);return k}function Io(s,u,d,y,x){var C=0,k,V,Z;for(V=y+1;V<=x-1;V++)Z=gr(s[V],s[y],s[x],!0),Z>C&&(k=V,C=Z);C>d&&(u[k]=1,Io(s,u,d,y,k),Io(s,u,d,k,x))}function Bh(s,u){for(var d=[s[0]],y=1,x=0,C=s.length;y<C;y++)Uh(s[y],s[x])>u&&(d.push(s[y]),x=y);return x<C-1&&d.push(s[C-1]),d}var Su;function Tu(s,u,d,y,x){var C=y?Su:Vi(s,d),k=Vi(u,d),V,Z,J;for(Su=k;;){if(!(C|k))return[s,u];if(C&k)return!1;V=C||k,Z=da(s,u,V,d,x),J=Vi(Z,d),V===C?(s=Z,C=J):(u=Z,k=J)}}function da(s,u,d,y,x){var C=u.x-s.x,k=u.y-s.y,V=y.min,Z=y.max,J,lt;return d&8?(J=s.x+C*(Z.y-s.y)/k,lt=Z.y):d&4?(J=s.x+C*(V.y-s.y)/k,lt=V.y):d&2?(J=Z.x,lt=s.y+k*(Z.x-s.x)/C):d&1&&(J=V.x,lt=s.y+k*(V.x-s.x)/C),new et(J,lt,x)}function Vi(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function Uh(s,u){var d=u.x-s.x,y=u.y-s.y;return d*d+y*y}function gr(s,u,d,y){var x=u.x,C=u.y,k=d.x-x,V=d.y-C,Z=k*k+V*V,J;return Z>0&&(J=((s.x-x)*k+(s.y-C)*V)/Z,J>1?(x=d.x,C=d.y):J>0&&(x+=k*J,C+=V*J)),k=s.x-x,V=s.y-C,y?k*k+V*V:new et(x,C)}function hn(s){return!B(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ma(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hn(s)}function _s(s,u){var d,y,x,C,k,V,Z,J;if(!s||s.length===0)throw new Error("latlngs not passed");hn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var lt=ct([0,0]),vt=ot(s),Ot=vt.getNorthWest().distanceTo(vt.getSouthWest())*vt.getNorthEast().distanceTo(vt.getNorthWest());Ot<1700&&(lt=Uo(s));var je=s.length,_e=[];for(d=0;d<je;d++){var sn=ct(s[d]);_e.push(u.project(ct([sn.lat-lt.lat,sn.lng-lt.lng])))}for(d=0,y=0;d<je-1;d++)y+=_e[d].distanceTo(_e[d+1])/2;if(y===0)J=_e[0];else for(d=0,C=0;d<je-1;d++)if(k=_e[d],V=_e[d+1],x=k.distanceTo(V),C+=x,C>y){Z=(C-y)/x,J=[V.x-Z*(V.x-k.x),V.y-Z*(V.y-k.y)];break}var Vt=u.unproject(ut(J));return ct([Vt.lat+lt.lat,Vt.lng+lt.lng])}var Vh={__proto__:null,simplify:bu,pointToSegmentDistance:wu,closestPointOnSegment:zh,clipSegment:Tu,_getEdgeIntersection:da,_getBitCode:Vi,_sqClosestPointOnSegment:gr,isFlat:hn,_flat:ma,polylineCenter:_s},pa={project:function(s){return new et(s.lng,s.lat)},unproject:function(s){return new ht(s.y,s.x)},bounds:new P([-180,-90],[180,90])},ga={R:6378137,R_MINOR:6356752314245179e-9,bounds:new P([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,y=s.lat*u,x=this.R_MINOR/d,C=Math.sqrt(1-x*x),k=C*Math.sin(y),V=Math.tan(Math.PI/4-y/2)/Math.pow((1-k)/(1+k),C/2);return y=-d*Math.log(Math.max(V,1e-10)),new et(s.lng*u*d,y)},unproject:function(s){for(var u=180/Math.PI,d=this.R,y=this.R_MINOR/d,x=Math.sqrt(1-y*y),C=Math.exp(-s.y/d),k=Math.PI/2-2*Math.atan(C),V=0,Z=.1,J;V<15&&Math.abs(Z)>1e-7;V++)J=x*Math.sin(k),J=Math.pow((1-J)/(1+J),x/2),Z=Math.PI/2-2*Math.atan(C*J)-k,k+=Z;return new ht(k*u,s.x*u/d)}},Eu={__proto__:null,LonLat:pa,Mercator:ga,SphericalMercator:Li},Cu=f({},ae,{code:"EPSG:3395",projection:ga,transformation:(function(){var s=.5/(Math.PI*ga.R);return Mi(s,.5,-s,.5)})()}),Ho=f({},ae,{code:"EPSG:4326",projection:pa,transformation:Mi(1/180,1,-1/180,.5)}),vs=f({},Mt,{projection:pa,transformation:Mi(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,y=u.lat-s.lat;return Math.sqrt(d*d+y*y)},infinite:!0});Mt.Earth=ae,Mt.EPSG3395=Cu,Mt.EPSG3857=na,Mt.EPSG900913=Ri,Mt.EPSG4326=Ho,Mt.Simple=vs;var Cn=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[g(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[g(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Dt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=g(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=g(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return g(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?B(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[g(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=g(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var y in this._zoomBoundLayers){var x=this._zoomBoundLayers[y].options;s=x.minZoom===void 0?s:Math.min(s,x.minZoom),u=x.maxZoom===void 0?u:Math.max(u,x.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ys=Cn.extend({initialize:function(s,u){R(this,u),this._layers={};var d,y;if(s)for(d=0,y=s.length;d<y;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,y;for(d in this._layers)y=this._layers[d],y[s]&&y[s].apply(y,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return g(s)}}),Ih=function(s,u){return new ys(s,u)},Dn=ys.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ys.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ys.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new rt;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),Au=function(s,u){return new Dn(s,u)},zn=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){R(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(y,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(s,u){var d=this.options,y=d[u+"Size"];typeof y=="number"&&(y=[y,y]);var x=ut(y),C=ut(u==="shadow"&&d.shadowAnchor||d.iconAnchor||x&&x.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),C&&(s.style.marginLeft=-C.x+"px",s.style.marginTop=-C.y+"px"),x&&(s.style.width=x.x+"px",s.style.height=x.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return gt.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function _r(s){return new zn(s)}var vr=zn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof vr.imagePath!="string"&&(vr.imagePath=this._detectIconPath()),(this.options.imagePath||vr.imagePath)+zn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,y,x){var C=y.exec(d);return C&&C[x]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=kt("div","leaflet-default-icon-path",document.body),u=lr(s,"background-image")||lr(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),yr=Nn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new pi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Tt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,y=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,C=di(u._icon),k=d.getPixelBounds(),V=d.getPixelOrigin(),Z=K(k.min._subtract(V).add(x),k.max._subtract(V).subtract(x));if(!Z.contains(C)){var J=ut((Math.max(Z.max.x,C.x)-Z.max.x)/(k.max.x-Z.max.x)-(Math.min(Z.min.x,C.x)-Z.min.x)/(k.min.x-Z.min.x),(Math.max(Z.max.y,C.y)-Z.max.y)/(k.max.y-Z.max.y)-(Math.min(Z.min.y,C.y)-Z.min.y)/(k.min.y-Z.min.y)).multiplyBy(y);d.panBy(J,{animate:!1}),this._draggable._newPos._add(J),this._draggable._startPos._add(J),te(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Ut(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(Gt(this._panRequest),this._panRequest=Ut(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,y=di(u._icon),x=u._map.layerPointToLatLng(y);d&&te(d,y),u._latlng=x,s.latlng=x,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){Gt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),br=Cn.extend({options:{icon:new vr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){R(this,u),this._latlng=ct(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=ct(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),y=!1;d!==this._icon&&(this._icon&&this._removeIcon(),y=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),Tt(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xt(d,"focus",this._panOnFocus,this);var x=s.icon.createShadow(this._shadow),C=!1;x!==this._shadow&&(this._removeShadow(),C=!0),x&&(Tt(x,u),x.alt=""),this._shadow=x,s.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&C&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$t(this._icon,"focus",this._panOnFocus,this),Yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Yt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&te(this._icon,s),this._shadow&&te(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Tt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yr)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yr(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&se(this._icon,s),this._shadow&&se(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?ut(u.iconSize):ut(0,0),y=u.iconAnchor?ut(u.iconAnchor):ut(0,0);s.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:d.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ou(s,u){return new br(s,u)}var Bn=Cn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return R(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),bs=Bn.extend({options:{fill:!0,radius:10},initialize:function(s,u){R(this,u),this._latlng=ct(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=ct(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Bn.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),y=[s+d,u+d];this._pxBounds=new P(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Lu(s,u){return new bs(s,u)}var _a=bs.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=f({},d,{radius:u})),R(this,u),this._latlng=ct(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new rt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Bn.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,y=d.options.crs;if(y.distance===ae.distance){var x=Math.PI/180,C=this._mRadius/ae.R/x,k=d.project([u+C,s]),V=d.project([u-C,s]),Z=k.add(V).divideBy(2),J=d.unproject(Z).lat,lt=Math.acos((Math.cos(C*x)-Math.sin(u*x)*Math.sin(J*x))/(Math.cos(u*x)*Math.cos(J*x)))/x;(isNaN(lt)||lt===0)&&(lt=C/Math.cos(Math.PI/180*u)),this._point=Z.subtract(d.getPixelOrigin()),this._radius=isNaN(lt)?0:Z.x-d.project([J,s-lt]).x,this._radiusY=Z.y-k.y}else{var vt=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(vt).x}this._updateBounds()}});function Mu(s,u,d){return new _a(s,u,d)}var Qn=Bn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){R(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,y=gr,x,C,k=0,V=this._parts.length;k<V;k++)for(var Z=this._parts[k],J=1,lt=Z.length;J<lt;J++){x=Z[J-1],C=Z[J];var vt=y(s,x,C,!0);vt<u&&(u=vt,d=y(s,x,C))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _s(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=ct(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new rt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return hn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=hn(s),y=0,x=s.length;y<x;y++)d?(u[y]=ct(s[y]),this._bounds.extend(u[y])):u[y]=this._convertLatLngs(s[y]);return u},_project:function(){var s=new P;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new et(s,s);this._rawPxBounds&&(this._pxBounds=new P([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var y=s[0]instanceof ht,x=s.length,C,k;if(y){for(k=[],C=0;C<x;C++)k[C]=this._map.latLngToLayerPoint(s[C]),d.extend(k[C]);u.push(k)}else for(C=0;C<x;C++)this._projectLatlngs(s[C],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,y,x,C,k,V,Z;for(d=0,x=0,C=this._rings.length;d<C;d++)for(Z=this._rings[d],y=0,k=Z.length;y<k-1;y++)V=Tu(Z[y],Z[y+1],s,y,!0),V&&(u[x]=u[x]||[],u[x].push(V[0]),(V[1]!==Z[y+1]||y===k-2)&&(u[x].push(V[1]),x++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,y=s.length;d<y;d++)s[d]=bu(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,y,x,C,k,V,Z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,C=this._parts.length;d<C;d++)for(V=this._parts[d],y=0,k=V.length,x=k-1;y<k;x=y++)if(!(!u&&y===0)&&wu(s,V[x],V[y])<=Z)return!0;return!1}});function Hh(s,u){return new Qn(s,u)}Qn._flat=ma;var ws=Qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=Qn.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof ht&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){Qn.prototype._setLatLngs.call(this,s),hn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new et(u,u);if(s=new P(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,x=this._rings.length,C;y<x;y++)C=vu(this._rings[y],s,!0),C.length&&this._parts.push(C)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,y,x,C,k,V,Z,J;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(C=0,Z=this._parts.length;C<Z;C++)for(d=this._parts[C],k=0,J=d.length,V=J-1;k<J;V=k++)y=d[k],x=d[V],y.y>s.y!=x.y>s.y&&s.x<(x.x-y.x)*(s.y-y.y)/(x.y-y.y)+y.x&&(u=!u);return u||Qn.prototype._containsPoint.call(this,s,!0)}});function qh(s,u){return new ws(s,u)}var ti=Dn.extend({initialize:function(s,u){R(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=B(s)?s:s.features,d,y,x;if(u){for(d=0,y=u.length;d<y;d++)x=u[d],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var C=this.options;if(C.filter&&!C.filter(s))return this;var k=ze(s,C);return k?(k.feature=ba(s),k.defaultOptions=k.options,this.resetStyle(k),C.onEachFeature&&C.onEachFeature(s,k),this.addLayer(k)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=f({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function ze(s,u){var d=s.type==="Feature"?s.geometry:s,y=d?d.coordinates:null,x=[],C=u&&u.pointToLayer,k=u&&u.coordsToLatLng||va,V,Z,J,lt;if(!y&&!d)return null;switch(d.type){case"Point":return V=k(y),xs(C,s,V,u);case"MultiPoint":for(J=0,lt=y.length;J<lt;J++)V=k(y[J]),x.push(xs(C,s,V,u));return new Dn(x);case"LineString":case"MultiLineString":return Z=wr(y,d.type==="LineString"?0:1,k),new Qn(Z,u);case"Polygon":case"MultiPolygon":return Z=wr(y,d.type==="Polygon"?1:2,k),new ws(Z,u);case"GeometryCollection":for(J=0,lt=d.geometries.length;J<lt;J++){var vt=ze({geometry:d.geometries[J],type:"Feature",properties:s.properties},u);vt&&x.push(vt)}return new Dn(x);case"FeatureCollection":for(J=0,lt=d.features.length;J<lt;J++){var Ot=ze(d.features[J],u);Ot&&x.push(Ot)}return new Dn(x);default:throw new Error("Invalid GeoJSON object.")}}function xs(s,u,d,y){return s?s(u,d):new br(d,y&&y.markersInheritOptions&&y)}function va(s){return new ht(s[1],s[0],s[2])}function wr(s,u,d){for(var y=[],x=0,C=s.length,k;x<C;x++)k=u?wr(s[x],u-1,d):(d||va)(s[x]),y.push(k);return y}function ya(s,u){return s=ct(s),s.alt!==void 0?[T(s.lng,u),T(s.lat,u),T(s.alt,u)]:[T(s.lng,u),T(s.lat,u)]}function xr(s,u,d,y){for(var x=[],C=0,k=s.length;C<k;C++)x.push(u?xr(s[C],hn(s[C])?0:u-1,d,y):ya(s[C],y));return!u&&d&&x.length>0&&x.push(x[0].slice()),x}function gi(s,u){return s.feature?f({},s.feature,{geometry:u}):ba(u)}function ba(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var _i={toGeoJSON:function(s){return gi(this,{type:"Point",coordinates:ya(this.getLatLng(),s)})}};br.include(_i),_a.include(_i),bs.include(_i),Qn.include({toGeoJSON:function(s){var u=!hn(this._latlngs),d=xr(this._latlngs,u?1:0,!1,s);return gi(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),ws.include({toGeoJSON:function(s){var u=!hn(this._latlngs),d=u&&!hn(this._latlngs[0]),y=xr(this._latlngs,d?2:u?1:0,!0,s);return u||(y=[y]),gi(this,{type:(d?"Multi":"")+"Polygon",coordinates:y})}}),ys.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),gi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",y=[];return this.eachLayer(function(x){if(x.toGeoJSON){var C=x.toGeoJSON(s);if(d)y.push(C.geometry);else{var k=ba(C);k.type==="FeatureCollection"?y.push.apply(y,k.features):y.push(k)}}}),d?gi(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function wa(s,u){return new ti(s,u)}var Sr=wa,Ss=Cn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=ot(u),R(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Tt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&ke(this._image),this},bringToBack:function(){return this._map&&zi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ot(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:kt("img");if(Tt(u,"leaflet-image-layer"),this._zoomAnimated&&Tt(u,"leaflet-zoom-animated"),this.options.className&&Tt(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onload=h(this.fire,this,"load"),u.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Xn(this._image,d,u)},_reset:function(){var s=this._image,u=new P(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();te(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){se(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Ru=function(s,u,d){return new Ss(s,u,d)},vi=Ss.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:kt("video");if(Tt(u,"leaflet-image-layer"),this._zoomAnimated&&Tt(u,"leaflet-zoom-animated"),this.options.className&&Tt(u,this.options.className),u.onselectstart=w,u.onmousemove=w,u.onloadeddata=h(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),y=[],x=0;x<d.length;x++)y.push(d[x].src);this._url=d.length>0?y:[u.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var C=0;C<this._url.length;C++){var k=kt("source");k.src=this._url[C],u.appendChild(k)}}});function Ts(s,u,d){return new vi(s,u,d)}var xa=Ss.extend({_initImage:function(){var s=this._image=this._url;Tt(s,"leaflet-image-layer"),this._zoomAnimated&&Tt(s,"leaflet-zoom-animated"),this.options.className&&Tt(s,this.options.className),s.onselectstart=w,s.onmousemove=w}});function ku(s,u,d){return new xa(s,u,d)}var Be=Cn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof ht||B(s))?(this._latlng=ct(s),R(this,u)):(R(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&se(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&se(this._container,1),this.bringToFront(),this.options.interactive&&(Tt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(se(this._container,0),this._removeTimeout=setTimeout(h(Yt,void 0,this._container),200)):Yt(this._container),this.options.interactive&&(le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ct(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ke(this._container),this},bringToBack:function(){return this._map&&zi(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Dn){u=null;var d=this._source._layers;for(var y in d)if(d[y]._map){u=d[y];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=ut(this.options.offset),d=this._getAnchor();this._zoomAnimated?te(this._container,s.add(d)):u=u.add(s).add(d);var y=this._containerBottom=-u.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=y+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});Dt.include({_initOverlay:function(s,u,d,y){var x=u;return x instanceof s||(x=new s(y).setContent(u)),d&&x.setLatLng(d),x}}),Cn.include({_initOverlay:function(s,u,d,y){var x=d;return x instanceof s?(R(x,y),x._source=this):(x=u&&!y?u:new s(y,this),x.setContent(d)),x}});var Tr=Be.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Be.prototype.openOn.call(this,s)},onAdd:function(s){Be.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Bn||this._source.on("preclick",En))},onRemove:function(s){Be.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Bn||this._source.off("preclick",En))},getEvents:function(){var s=Be.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=kt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=kt("div",s+"-content-wrapper",u);if(this._contentNode=kt("div",s+"-content",d),Ui(u),Pn(this._contentNode),xt(u,"contextmenu",En),this._tipContainer=kt("div",s+"-tip-container",u),this._tip=kt("div",s+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=kt("a",s+"-close-button",u);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',xt(y,"click",function(x){ge(x),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var y=s.offsetHeight,x=this.options.maxHeight,C="leaflet-popup-scrolled";x&&y>x?(u.height=x+"px",Tt(s,C)):le(s,C),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();te(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(lr(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,y=this._containerWidth,x=new et(this._containerLeft,-d-this._containerBottom);x._add(di(this._container));var C=s.layerPointToContainerPoint(x),k=ut(this.options.autoPanPadding),V=ut(this.options.autoPanPaddingTopLeft||k),Z=ut(this.options.autoPanPaddingBottomRight||k),J=s.getSize(),lt=0,vt=0;C.x+y+Z.x>J.x&&(lt=C.x+y-J.x+Z.x),C.x-lt-V.x<0&&(lt=C.x-V.x),C.y+d+Z.y>J.y&&(vt=C.y+d-J.y+Z.y),C.y-vt-V.y<0&&(vt=C.y-V.y),(lt||vt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([lt,vt]))}},_getAnchor:function(){return ut(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ju=function(s,u){return new Tr(s,u)};Dt.mergeOptions({closePopupOnClick:!0}),Dt.include({openPopup:function(s,u,d){return this._initOverlay(Tr,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Cn.include({bindPopup:function(s,u){return this._popup=this._initOverlay(Tr,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Dn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){mi(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Bn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Er=Be.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Be.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Be.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Be.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=kt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,y=this._map,x=this._container,C=y.latLngToContainerPoint(y.getCenter()),k=y.layerPointToContainerPoint(s),V=this.options.direction,Z=x.offsetWidth,J=x.offsetHeight,lt=ut(this.options.offset),vt=this._getAnchor();V==="top"?(u=Z/2,d=J):V==="bottom"?(u=Z/2,d=0):V==="center"?(u=Z/2,d=J/2):V==="right"?(u=0,d=J/2):V==="left"?(u=Z,d=J/2):k.x<C.x?(V="right",u=0,d=J/2):(V="left",u=Z+(lt.x+vt.x)*2,d=J/2),s=s.subtract(ut(u,d,!0)).add(lt).add(vt),le(x,"leaflet-tooltip-right"),le(x,"leaflet-tooltip-left"),le(x,"leaflet-tooltip-top"),le(x,"leaflet-tooltip-bottom"),Tt(x,"leaflet-tooltip-"+V),te(x,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&se(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return ut(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Zh=function(s,u){return new Er(s,u)};Dt.include({openTooltip:function(s,u,d){return this._initOverlay(Er,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Cn.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Er,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Dn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(xt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),xt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,y;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),y=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(u)}});var Pu=zn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(un(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var y=ut(d.bgPos);u.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Gh(s){return new Pu(s)}zn.Default=vr;var Es=Cn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){R(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Yt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ke(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof et?s:new et(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),y=0,x=u.length,C;y<x;y++)C=u[y].style.zIndex,u[y]!==this._container&&C&&(d=s(d,+C));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!gt.ielt9){se(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var y in this._tiles){var x=this._tiles[y];if(!(!x.current||!x.loaded)){var C=Math.min(1,(s-x.loaded)/200);se(x.el,C),C<1?u=!0:(x.active?d=!0:this._onOpaqueTile(x),x.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(Gt(this._fadeFrame),this._fadeFrame=Ut(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(Yt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var y=this._levels[s],x=this._map;return y||(y=this._levels[s]={},y.el=kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=u,y.origin=x.project(x.unproject(x.getPixelOrigin()),s).round(),y.zoom=s,this._setZoomTransform(y,x.getCenter(),x.getZoom()),w(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var y=u.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Yt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,y){var x=Math.floor(s/2),C=Math.floor(u/2),k=d-1,V=new et(+x,+C);V.z=+k;var Z=this._tileCoordsToKey(V),J=this._tiles[Z];return J&&J.active?(J.retain=!0,!0):(J&&J.loaded&&(J.retain=!0),k>y?this._retainParent(x,C,k,y):!1)},_retainChildren:function(s,u,d,y){for(var x=2*s;x<2*s+2;x++)for(var C=2*u;C<2*u+2;C++){var k=new et(x,C);k.z=d+1;var V=this._tileCoordsToKey(k),Z=this._tiles[V];if(Z&&Z.active){Z.retain=!0;continue}else Z&&Z.loaded&&(Z.retain=!0);d+1<y&&this._retainChildren(x,C,d+1,y)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,y){var x=Math.round(u);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var C=this.options.updateWhenZooming&&x!==this._tileZoom;(!y||C)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var y=this._map.getZoomScale(d,s.zoom),x=s.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(u,d)).round();gt.any3d?Xn(s.el,x,y):te(s.el,x)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),y=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],y).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],y).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],y).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],y).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),y=u.getZoomScale(d,this._tileZoom),x=u.project(s,this._tileZoom).floor(),C=u.getSize().divideBy(y*2);return new P(x.subtract(C),x.add(C))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(s),x=this._pxBoundsToTileRange(y),C=x.getCenter(),k=[],V=this.options.keepBuffer,Z=new P(x.getBottomLeft().subtract([V,-V]),x.getTopRight().add([V,-V]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var J in this._tiles){var lt=this._tiles[J].coords;(lt.z!==this._tileZoom||!Z.contains(new et(lt.x,lt.y)))&&(this._tiles[J].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var vt=x.min.y;vt<=x.max.y;vt++)for(var Ot=x.min.x;Ot<=x.max.x;Ot++){var je=new et(Ot,vt);if(je.z=this._tileZoom,!!this._isValidTile(je)){var _e=this._tiles[this._tileCoordsToKey(je)];_e?_e.current=!0:k.push(je)}}if(k.sort(function(Vt,It){return Vt.distanceTo(C)-It.distanceTo(C)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var sn=document.createDocumentFragment();for(Ot=0;Ot<k.length;Ot++)this._addTile(k[Ot],sn);this._level.el.appendChild(sn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(s);return ot(this.options.bounds).overlaps(y)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),y=s.scaleBy(d),x=y.add(d),C=u.unproject(y,s.z),k=u.unproject(x,s.z);return[C,k]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new rt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new et(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(Yt(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Tt(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=w,s.onmousemove=w,gt.ielt9&&this.options.opacity<1&&se(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),y=this._tileCoordsToKey(s),x=this.createTile(this._wrapCoords(s),h(this._tileReady,this,s));this._initTile(x),this.createTile.length<2&&Ut(h(this._tileReady,this,s,null,x)),te(x,d),this._tiles[y]={el:x,coords:s,current:!0},u.appendChild(x),this.fire("tileloadstart",{tile:x,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var y=this._tileCoordsToKey(s);d=this._tiles[y],d&&(d.loaded=+new Date,this._map._fadeAnimated?(se(d.el,0),Gt(this._fadeFrame),this._fadeFrame=Ut(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(Tt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),gt.ielt9||!this._map._fadeAnimated?Ut(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new et(this._wrapX?b(s.x,this._wrapX):s.x,this._wrapY?b(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new P(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Nu(s){return new Es(s)}var yi=Es.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=R(this,u),u.detectRetina&&gt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return xt(d,"load",h(this._tileOnLoad,this,u,d)),xt(d,"error",h(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:gt.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return q(this._url,f(u,this.options))},_tileOnLoad:function(s,u){gt.ielt9?setTimeout(h(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var y=this.options.errorTileUrl;y&&u.getAttribute("src")!==y&&(u.src=y),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,y=this.options.zoomOffset;return d&&(s=u-s),s+y},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=w,u.onerror=w,!u.complete)){u.src=nt;var d=this._tiles[s].coords;Yt(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",nt),Es.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===nt))return Es.prototype._tileReady.call(this,s,u,d)}});function fn(s,u){return new yi(s,u)}var Cr=yi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=f({},this.defaultWmsParams);for(var y in u)y in this.options||(d[y]=u[y]);u=R(this,u);var x=u.detectRetina&&gt.retina?2:1,C=this.getTileSize();d.width=C.x*x,d.height=C.y*x,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,yi.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,y=K(d.project(u[0]),d.project(u[1])),x=y.min,C=y.max,k=(this._wmsVersion>=1.3&&this._crs===Ho?[x.y,x.x,C.y,C.x]:[x.x,x.y,C.x,C.y]).join(","),V=yi.prototype.getTileUrl.call(this,s);return V+N(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(s,u){return f(this.wmsParams,s),u||this.redraw(),this}});function dn(s,u){return new Cr(s,u)}yi.WMS=Cr,fn.wms=dn;var Ye=Cn.extend({options:{padding:.1},initialize:function(s){R(this,s),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Tt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,u),C=y.multiplyBy(-d).add(x).subtract(this._map._getNewPixelOrigin(s,u));gt.any3d?Xn(this._container,C,d):te(this._container,C)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new P(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sa=Ye.extend({options:{tolerance:0},getEvents:function(){var s=Ye.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ye.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");xt(s,"mousemove",this._onMouseMove,this),xt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),xt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){Gt(this._redrawRequest),delete this._ctx,Yt(this._container),$t(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ye.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),y=gt.retina?2:1;te(u,s.min),u.width=y*d.x,u.height=y*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",gt.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ye.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[g(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,y=u.prev;d?d.prev=y:this._drawLast=y,y?y.next=d:this._drawFirst=d,delete s._order,delete this._layers[g(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],y,x;for(x=0;x<u.length;x++){if(y=Number(u[x]),isNaN(y))return;d.push(y)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Ut(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new P,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)s=y.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,y,x,C,k=s._parts,V=k.length,Z=this._ctx;if(V){for(Z.beginPath(),d=0;d<V;d++){for(y=0,x=k[d].length;y<x;y++)C=k[d][y],Z[y?"lineTo":"moveTo"](C.x,C.y);u&&Z.closePath()}this._fillStroke(Z,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,y=Math.max(Math.round(s._radius),1),x=(Math.max(Math.round(s._radiusY),1)||y)/y;x!==1&&(d.save(),d.scale(1,x)),d.beginPath(),d.arc(u.x,u.y/x,y,0,Math.PI*2,!1),x!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,y,x=this._drawFirst;x;x=x.next)d=x.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(y=d);this._fireEvent(y?[y]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(le(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,y,x=this._drawFirst;x;x=x.next)d=x.layer,d.options.interactive&&d._containsPoint(u)&&(y=d);y!==this._hoveredLayer&&(this._handleMouseOut(s),y&&(Tt(this._container,"leaflet-interactive"),this._fireEvent([y],s,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,y=u.prev;if(d)d.prev=y;else return;y?y.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,y=u.prev;if(y)y.next=d;else return;d?d.prev=y:y&&(this._drawLast=y),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Ar(s){return gt.canvas?new Sa(s):null}var bi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),qo={_initContainer:function(){this._container=kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ye.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=bi("shape");Tt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=bi("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;Yt(u),s.removeInteractiveTarget(u),delete this._layers[g(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,y=s.options,x=s._container;x.stroked=!!y.stroke,x.filled=!!y.fill,y.stroke?(u||(u=s._stroke=bi("stroke")),x.appendChild(u),u.weight=y.weight+"px",u.color=y.color,u.opacity=y.opacity,y.dashArray?u.dashStyle=B(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=y.lineCap.replace("butt","flat"),u.joinstyle=y.lineJoin):u&&(x.removeChild(u),s._stroke=null),y.fill?(d||(d=s._fill=bi("fill")),x.appendChild(d),d.color=y.fillColor||y.color,d.opacity=y.fillOpacity):d&&(x.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),y=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+y+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){ke(s._container)},_bringToBack:function(s){zi(s._container)}},Un=gt.vml?bi:ia,Cs=Ye.extend({_initContainer:function(){this._container=Un("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Un("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Yt(this._container),$t(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ye.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),te(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Un("path");s.options.className&&Tt(u,s.options.className),s.options.interactive&&Tt(u,"leaflet-interactive"),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Yt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[g(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,sa(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),y=Math.max(Math.round(s._radiusY),1)||d,x="a"+d+","+y+" 0 1,0 ",C=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+x+d*2+",0 "+x+-d*2+",0 ";this._setPath(s,C)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){ke(s._path)},_bringToBack:function(s){zi(s._path)}});gt.vml&&Cs.include(qo);function Or(s){return gt.svg||gt.vml?new Cs(s):null}Dt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Ar(s)||Or(s)}});var Ii=ws.extend({initialize:function(s,u){ws.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ot(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function $h(s,u){return new Ii(s,u)}Cs.create=Un,Cs.pointsToPath=sa,ti.geometryToLayer=ze,ti.coordsToLatLng=va,ti.coordsToLatLngs=wr,ti.latLngToCoords=ya,ti.latLngsToCoords=xr,ti.getFeature=gi,ti.asFeature=ba,Dt.mergeOptions({boxZoom:!0});var Xe=Nn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){$t(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fs(),ua(),this._startPoint=this._map.mouseEventToContainerPoint(s),xt(document,{contextmenu:mi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=kt("div","leaflet-zoom-box",this._container),Tt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new P(this._point,this._startPoint),d=u.getSize();te(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Yt(this._box),le(this._container,"leaflet-crosshair")),jn(),cr(),$t(document,{contextmenu:mi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var u=new rt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Dt.addInitHook("addHandler","boxZoom",Xe),Dt.mergeOptions({doubleClickZoom:!0});var Ta=Nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),y=u.options.zoomDelta,x=s.originalEvent.shiftKey?d-y:d+y;u.options.doubleClickZoom==="center"?u.setZoom(x):u.setZoomAround(s.containerPoint,x)}});Dt.addInitHook("addHandler","doubleClickZoom",Ta),Dt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vn=Nn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new pi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Tt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){le(this._map._container,"leaflet-grab"),le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ot(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,y=this._draggable._newPos.x,x=(y-u+d)%s+u-d,C=(y+u+d)%s-u-d,k=Math.abs(x+d)<Math.abs(C+d)?x:C;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(s){var u=this._map,d=u.options,y=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),y)u.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),C=(this._lastTime-this._times[0])/1e3,k=d.easeLinearity,V=x.multiplyBy(k/C),Z=V.distanceTo([0,0]),J=Math.min(d.inertiaMaxSpeed,Z),lt=V.multiplyBy(J/Z),vt=J/(d.inertiaDeceleration*k),Ot=lt.multiplyBy(-vt/2).round();!Ot.x&&!Ot.y?u.fire("moveend"):(Ot=u._limitOffset(Ot,u.options.maxBounds),Ut(function(){u.panBy(Ot,{duration:vt,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});Dt.addInitHook("addHandler","dragging",Vn),Dt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zo=Nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),xt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),$t(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,y=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(y,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,y,x;for(y=0,x=d.left.length;y<x;y++)u[d.left[y]]=[-1*s,0];for(y=0,x=d.right.length;y<x;y++)u[d.right[y]]=[s,0];for(y=0,x=d.down.length;y<x;y++)u[d.down[y]]=[0,s];for(y=0,x=d.up.length;y<x;y++)u[d.up[y]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,y,x;for(y=0,x=d.zoomIn.length;y<x;y++)u[d.zoomIn[y]]=s;for(y=0,x=d.zoomOut.length;y<x;y++)u[d.zoomOut[y]]=-s},_addHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){$t(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,y;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(y=this._panKeys[u],s.shiftKey&&(y=ut(y).multiplyBy(3)),d.options.maxBounds&&(y=d._limitOffset(ut(y),d.options.maxBounds)),d.options.worldCopyJump){var x=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(y)));d.panTo(x)}else d.panBy(y)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;mi(s)}}});Dt.addInitHook("addHandler","keyboard",Zo),Dt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Lr=Nn.extend({addHooks:function(){xt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){$t(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=Ie(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var y=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),y),mi(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,C=d?Math.ceil(x/d)*d:x,k=s._limitZoom(u+(this._delta>0?C:-C))-u;this._delta=0,this._startTime=null,k&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+k):s.setZoomAround(this._lastMousePos,u+k))}});Dt.addInitHook("addHandler","scrollWheelZoom",Lr);var Hi=600;Dt.mergeOptions({tapHold:gt.touchNative&&gt.safari&&gt.mobile,tapTolerance:15});var Ea=Nn.extend({addHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){$t(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new et(u.clientX,u.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(xt(document,"touchend",ge),xt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Hi),xt(document,"touchend touchcancel contextmenu",this._cancel,this),xt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){$t(document,"touchend",ge),$t(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),$t(document,"touchend touchcancel contextmenu",this._cancel,this),$t(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new et(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Dt.addInitHook("addHandler","tapHold",Ea),Dt.mergeOptions({touchZoom:gt.touch,bounceAtZoomLimits:!0});var Go=Nn.extend({addHooks:function(){Tt(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){le(this._map._container,"leaflet-touch-zoom"),$t(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),y=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(y)._divideBy(2))),this._startDist=d.distanceTo(y),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend touchcancel",this._onTouchEnd,this),ge(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),y=u.mouseEventToContainerPoint(s.touches[1]),x=d.distanceTo(y)/this._startDist;if(this._zoom=u.getScaleZoom(x,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&x<1||this._zoom>u.getMaxZoom()&&x>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var C=d._add(y)._divideBy(2)._subtract(this._centerPoint);if(x===1&&C.x===0&&C.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(C),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),Gt(this._animRequest);var k=h(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ut(k,this,!0),ge(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Gt(this._animRequest),$t(document,"touchmove",this._onTouchMove,this),$t(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Dt.addInitHook("addHandler","touchZoom",Go),Dt.BoxZoom=Xe,Dt.DoubleClickZoom=Ta,Dt.Drag=Vn,Dt.Keyboard=Zo,Dt.ScrollWheelZoom=Lr,Dt.TapHold=Ea,Dt.TouchZoom=Go,r.Bounds=P,r.Browser=gt,r.CRS=Mt,r.Canvas=Sa,r.Circle=_a,r.CircleMarker=bs,r.Class=pe,r.Control=nn,r.DivIcon=Pu,r.DivOverlay=Be,r.DomEvent=fa,r.DomUtil=ps,r.Draggable=pi,r.Evented=it,r.FeatureGroup=Dn,r.GeoJSON=ti,r.GridLayer=Es,r.Handler=Nn,r.Icon=zn,r.ImageOverlay=Ss,r.LatLng=ht,r.LatLngBounds=rt,r.Layer=Cn,r.LayerGroup=ys,r.LineUtil=Vh,r.Map=Dt,r.Marker=br,r.Mixin=Dh,r.Path=Bn,r.Point=et,r.PolyUtil=Vo,r.Polygon=ws,r.Polyline=Qn,r.Popup=Tr,r.PosAnimation=gs,r.Projection=Eu,r.Rectangle=Ii,r.Renderer=Ye,r.SVG=Cs,r.SVGOverlay=xa,r.TileLayer=yi,r.Tooltip=Er,r.Transformation=os,r.Util=Fn,r.VideoOverlay=vi,r.bind=h,r.bounds=K,r.canvas=Ar,r.circle=Mu,r.circleMarker=Lu,r.control=Jn,r.divIcon=Gh,r.extend=f,r.featureGroup=Au,r.geoJSON=wa,r.geoJson=Sr,r.gridLayer=Nu,r.icon=_r,r.imageOverlay=Ru,r.latLng=ct,r.latLngBounds=ot,r.layerGroup=Ih,r.map=Po,r.marker=Ou,r.point=ut,r.polygon=qh,r.polyline=Hh,r.popup=ju,r.rectangle=$h,r.setOptions=R,r.stamp=g,r.svg=Or,r.svgOverlay=ku,r.tileLayer=fn,r.tooltip=Zh,r.transformation=Mi,r.version=o,r.videoOverlay=Ts;var $o=window.L;r.noConflict=function(){return window.L=$o,this},window.L=r}))})(Ml,Ml.exports)),Ml.exports}var fo=ET();const on=Zm(fo);function Xl(i,e,r){return Object.freeze({instance:i,context:e,container:r})}function Wl(i,e){return e==null?function(o,f){const l=W.useRef(void 0);return l.current||(l.current=i(o,f)),l}:function(o,f){const l=W.useRef(void 0);l.current||(l.current=i(o,f));const h=W.useRef(o),{instance:p}=l.current;return W.useEffect(function(){h.current!==o&&(e(p,o,h.current),h.current=o)},[p,o,e]),l}}function G0(i,e){W.useEffect(function(){return(e.layerContainer??e.map).addLayer(i.instance),function(){e.layerContainer?.removeLayer(i.instance),e.map.removeLayer(i.instance)}},[e,i])}function $0(i){return function(r){const o=Yl(),f=i(gh(r,o),o);return I0(o.map,r.attribution),Fm(f.current,r.eventHandlers),G0(f.current,o),f}}function CT(i,e){const r=W.useRef(void 0);W.useEffect(function(){if(e.pathOptions!==r.current){const f=e.pathOptions??{};i.instance.setStyle(f),r.current=f}},[i,e])}function AT(i){return function(r){const o=Yl(),f=i(gh(r,o),o);return Fm(f.current,r.eventHandlers),G0(f.current,o),CT(f.current,r),f}}function OT(i){function e(f,l){return Xl(i(f),l)}const r=Wl(e),o=xT(r);return Z0(o)}function LT(i,e){const r=Wl(i,e),o=$0(r);return q0(o)}function MT(i,e){const r=Wl(i),o=ST(r,e);return wT(o)}function RT(i,e){const r=Wl(i,e),o=AT(r);return q0(o)}function kT(i,e){const r=Wl(i,e),o=$0(r);return Z0(o)}function jT(i,e,r){const{opacity:o,zIndex:f}=e;o!=null&&o!==r.opacity&&i.setOpacity(o),f!=null&&f!==r.zIndex&&i.setZIndex(f)}function PT(){return Yl().map}function NT(i){const e=PT();return W.useEffect(function(){return e.on(i),function(){e.off(i)}},[e,i]),e}function DT({bounds:i,boundsOptions:e,center:r,children:o,className:f,id:l,placeholder:h,style:p,whenReady:g,zoom:v,...b},w){const[T]=W.useState({className:f,id:l,style:p}),[E,M]=W.useState(null),R=W.useRef(void 0);W.useImperativeHandle(w,()=>E?.map??null,[E]);const N=W.useCallback(q=>{if(q!==null&&!R.current){const B=new fo.Map(q,b);R.current=B,r!=null&&v!=null?B.setView(r,v):i!=null&&B.fitBounds(i,e),g!=null&&B.whenReady(g),M(bT(B))}},[]);W.useEffect(()=>()=>{E?.map.remove()},[E]);const z=E?nm.createElement($m,{value:E},o):h??null;return nm.createElement("div",{...T,ref:N},z)}const zT=W.forwardRef(DT),BT=LT(function({position:e,...r},o){const f=new fo.Marker(e,r);return Xl(f,H0(o,{overlayContainer:f}))},function(e,r,o){r.position!==o.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==o.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==o.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==o.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==o.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),UT=kT(function({url:e,...r},o){const f=new fo.TileLayer(e,gh(r,o));return Xl(f,o)},function(e,r,o){jT(e,r,o);const{url:f}=r;f!=null&&f!==o.url&&e.setUrl(f)}),VT=MT(function(e,r){const o=new fo.Tooltip(e,r.overlayContainer);return Xl(o,r)},function(e,r,{position:o},f){W.useEffect(function(){const h=r.overlayContainer;if(h==null)return;const{instance:p}=e,g=b=>{b.tooltip===p&&(o!=null&&p.setLatLng(o),p.update(),f(!0))},v=b=>{b.tooltip===p&&f(!1)};return h.on({tooltipopen:g,tooltipclose:v}),h.bindTooltip(p),function(){h.off({tooltipopen:g,tooltipclose:v}),h._map!=null&&h.unbindTooltip()}},[e,r,f,o])}),IT=OT(function(e){return new fo.Control.Zoom(e)});var Rl={exports:{}},HT=Rl.exports,Gv;function qT(){return Gv||(Gv=1,(function(i,e){(function(r,o){o(e)})(HT,function(r){var o=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(l){L.Util.setOptions(this,l),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var h=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,h?this._withAnimation:this._noAnimation),this._markerCluster=h?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(l){if(l instanceof L.LayerGroup)return this.addLayers([l]);if(!l.getLatLng)return this._nonPointGroup.addLayer(l),this.fire("layeradd",{layer:l}),this;if(!this._map)return this._needsClustering.push(l),this.fire("layeradd",{layer:l}),this;if(this.hasLayer(l))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(l,this._maxZoom),this.fire("layeradd",{layer:l}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var h=l,p=this._zoom;if(l.__parent)for(;h.__parent._zoom>=p;)h=h.__parent;return this._currentShownBounds.contains(h.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(l,h):this._animationAddLayerNonAnimated(l,h)),this},removeLayer:function(l){return l instanceof L.LayerGroup?this.removeLayers([l]):l.getLatLng?this._map?l.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(l)),this._removeLayer(l,!0),this.fire("layerremove",{layer:l}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),l.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(l)&&(this._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,l)&&this.hasLayer(l)&&this._needsRemoving.push({layer:l,latlng:l._latlng}),this.fire("layerremove",{layer:l}),this):(this._nonPointGroup.removeLayer(l),this.fire("layerremove",{layer:l}),this)},addLayers:function(l,h){if(!L.Util.isArray(l))return this.addLayer(l);var p=this._featureGroup,g=this._nonPointGroup,v=this.options.chunkedLoading,b=this.options.chunkInterval,w=this.options.chunkProgress,T=l.length,E=0,M=!0,R;if(this._map){var N=new Date().getTime(),z=L.bind(function(){var B=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();E<T;E++){if(v&&E%200===0){var tt=new Date().getTime()-B;if(tt>b)break}if(R=l[E],R instanceof L.LayerGroup){M&&(l=l.slice(),M=!1),this._extractNonGroupLayers(R,l),T=l.length;continue}if(!R.getLatLng){g.addLayer(R),h||this.fire("layeradd",{layer:R});continue}if(!this.hasLayer(R)&&(this._addLayer(R,this._maxZoom),h||this.fire("layeradd",{layer:R}),R.__parent&&R.__parent.getChildCount()===2)){var nt=R.__parent.getAllChildMarkers(),at=nt[0]===R?nt[1]:nt[0];p.removeLayer(at)}}w&&w(E,T,new Date().getTime()-N),E===T?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(z,this.options.chunkDelay)},this);z()}else for(var q=this._needsClustering;E<T;E++){if(R=l[E],R instanceof L.LayerGroup){M&&(l=l.slice(),M=!1),this._extractNonGroupLayers(R,l),T=l.length;continue}if(!R.getLatLng){g.addLayer(R);continue}this.hasLayer(R)||q.push(R)}return this},removeLayers:function(l){var h,p,g=l.length,v=this._featureGroup,b=this._nonPointGroup,w=!0;if(!this._map){for(h=0;h<g;h++){if(p=l[h],p instanceof L.LayerGroup){w&&(l=l.slice(),w=!1),this._extractNonGroupLayers(p,l),g=l.length;continue}this._arraySplice(this._needsClustering,p),b.removeLayer(p),this.hasLayer(p)&&this._needsRemoving.push({layer:p,latlng:p._latlng}),this.fire("layerremove",{layer:p})}return this}if(this._unspiderfy){this._unspiderfy();var T=l.slice(),E=g;for(h=0;h<E;h++){if(p=T[h],p instanceof L.LayerGroup){this._extractNonGroupLayers(p,T),E=T.length;continue}this._unspiderfyLayer(p)}}for(h=0;h<g;h++){if(p=l[h],p instanceof L.LayerGroup){w&&(l=l.slice(),w=!1),this._extractNonGroupLayers(p,l),g=l.length;continue}if(!p.__parent){b.removeLayer(p),this.fire("layerremove",{layer:p});continue}this._removeLayer(p,!0,!0),this.fire("layerremove",{layer:p}),v.hasLayer(p)&&(v.removeLayer(p),p.clusterShow&&p.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(l){l.off(this._childMarkerEventHandlers,this),delete l.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var l=new L.LatLngBounds;this._topClusterLevel&&l.extend(this._topClusterLevel._bounds);for(var h=this._needsClustering.length-1;h>=0;h--)l.extend(this._needsClustering[h].getLatLng());return l.extend(this._nonPointGroup.getBounds()),l},eachLayer:function(l,h){var p=this._needsClustering.slice(),g=this._needsRemoving,v,b,w;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(p),b=p.length-1;b>=0;b--){for(v=!0,w=g.length-1;w>=0;w--)if(g[w].layer===p[b]){v=!1;break}v&&l.call(h,p[b])}this._nonPointGroup.eachLayer(l,h)},getLayers:function(){var l=[];return this.eachLayer(function(h){l.push(h)}),l},getLayer:function(l){var h=null;return l=parseInt(l,10),this.eachLayer(function(p){L.stamp(p)===l&&(h=p)}),h},hasLayer:function(l){if(!l)return!1;var h,p=this._needsClustering;for(h=p.length-1;h>=0;h--)if(p[h]===l)return!0;for(p=this._needsRemoving,h=p.length-1;h>=0;h--)if(p[h].layer===l)return!1;return!!(l.__parent&&l.__parent._group===this)||this._nonPointGroup.hasLayer(l)},zoomToShowLayer:function(l,h){var p=this._map;typeof h!="function"&&(h=function(){});var g=function(){(p.hasLayer(l)||p.hasLayer(l.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",g,this),this.off("animationend",g,this),p.hasLayer(l)?h():l.__parent._icon&&(this.once("spiderfied",h,this),l.__parent.spiderfy()))};l._icon&&this._map.getBounds().contains(l.getLatLng())?h():l.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",g,this),this._map.panTo(l.getLatLng())):(this._map.on("moveend",g,this),this.on("animationend",g,this),l.__parent.zoomToBounds())},onAdd:function(l){this._map=l;var h,p,g;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(l),this._nonPointGroup.addTo(l),this._gridClusters||this._generateInitialClusters(),this._maxLat=l.options.crs.projection.MAX_LATITUDE,h=0,p=this._needsRemoving.length;h<p;h++)g=this._needsRemoving[h],g.newlatlng=g.layer._latlng,g.layer._latlng=g.latlng;for(h=0,p=this._needsRemoving.length;h<p;h++)g=this._needsRemoving[h],this._removeLayer(g.layer,!0),g.layer._latlng=g.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),p=this._needsClustering,this._needsClustering=[],this.addLayers(p,!0)},onRemove:function(l){l.off("zoomend",this._zoomEnd,this),l.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(l){for(var h=l;h&&!h._icon;)h=h.__parent;return h||null},_arraySplice:function(l,h){for(var p=l.length-1;p>=0;p--)if(l[p]===h)return l.splice(p,1),!0},_removeFromGridUnclustered:function(l,h){for(var p=this._map,g=this._gridUnclustered,v=Math.floor(this._map.getMinZoom());h>=v&&g[h].removeObject(l,p.project(l.getLatLng(),h));h--);},_childMarkerDragStart:function(l){l.target.__dragStart=l.target._latlng},_childMarkerMoved:function(l){if(!this._ignoreMove&&!l.target.__dragStart){var h=l.target._popup&&l.target._popup.isOpen();this._moveChild(l.target,l.oldLatLng,l.latlng),h&&l.target.openPopup()}},_moveChild:function(l,h,p){l._latlng=h,this.removeLayer(l),l._latlng=p,this.addLayer(l)},_childMarkerDragEnd:function(l){var h=l.target.__dragStart;delete l.target.__dragStart,h&&this._moveChild(l.target,h,l.target._latlng)},_removeLayer:function(l,h,p){var g=this._gridClusters,v=this._gridUnclustered,b=this._featureGroup,w=this._map,T=Math.floor(this._map.getMinZoom());h&&this._removeFromGridUnclustered(l,this._maxZoom);var E=l.__parent,M=E._markers,R;for(this._arraySplice(M,l);E&&(E._childCount--,E._boundsNeedUpdate=!0,!(E._zoom<T));)h&&E._childCount<=1?(R=E._markers[0]===l?E._markers[1]:E._markers[0],g[E._zoom].removeObject(E,w.project(E._cLatLng,E._zoom)),v[E._zoom].addObject(R,w.project(R.getLatLng(),E._zoom)),this._arraySplice(E.__parent._childClusters,E),E.__parent._markers.push(R),R.__parent=E.__parent,E._icon&&(b.removeLayer(E),p||b.addLayer(R))):E._iconNeedsUpdate=!0,E=E.__parent;delete l.__parent},_isOrIsParent:function(l,h){for(;h;){if(l===h)return!0;h=h.parentNode}return!1},fire:function(l,h,p){if(h&&h.layer instanceof L.MarkerCluster){if(h.originalEvent&&this._isOrIsParent(h.layer._icon,h.originalEvent.relatedTarget))return;l="cluster"+l}L.FeatureGroup.prototype.fire.call(this,l,h,p)},listens:function(l,h){return L.FeatureGroup.prototype.listens.call(this,l,h)||L.FeatureGroup.prototype.listens.call(this,"cluster"+l,h)},_defaultIconCreateFunction:function(l){var h=l.getChildCount(),p=" marker-cluster-";return h<10?p+="small":h<100?p+="medium":p+="large",new L.DivIcon({html:"<div><span>"+h+"</span></div>",className:"marker-cluster"+p,iconSize:new L.Point(40,40)})},_bindEvents:function(){var l=this._map,h=this.options.spiderfyOnMaxZoom,p=this.options.showCoverageOnHover,g=this.options.zoomToBoundsOnClick,v=this.options.spiderfyOnEveryZoom;(h||g||v)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),p&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),l.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(l){var h=l.layer,p=h;if(!(l.type==="clusterkeypress"&&l.originalEvent&&l.originalEvent.keyCode!==13)){for(;p._childClusters.length===1;)p=p._childClusters[0];p._zoom===this._maxZoom&&p._childCount===h._childCount&&this.options.spiderfyOnMaxZoom?h.spiderfy():this.options.zoomToBoundsOnClick&&h.zoomToBounds(),this.options.spiderfyOnEveryZoom&&h.spiderfy(),l.originalEvent&&l.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(l){var h=this._map;this._inZoomAnimation||(this._shownPolygon&&h.removeLayer(this._shownPolygon),l.layer.getChildCount()>2&&l.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(l.layer.getConvexHull(),this.options.polygonOptions),h.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var l=this.options.spiderfyOnMaxZoom,h=this.options.showCoverageOnHover,p=this.options.zoomToBoundsOnClick,g=this.options.spiderfyOnEveryZoom,v=this._map;(l||p||g)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),h&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),v.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var l=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,l),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),l),this._currentShownBounds=l}},_generateInitialClusters:function(){var l=Math.ceil(this._map.getMaxZoom()),h=Math.floor(this._map.getMinZoom()),p=this.options.maxClusterRadius,g=p;typeof p!="function"&&(g=function(){return p}),this.options.disableClusteringAtZoom!==null&&(l=this.options.disableClusteringAtZoom-1),this._maxZoom=l,this._gridClusters={},this._gridUnclustered={};for(var v=l;v>=h;v--)this._gridClusters[v]=new L.DistanceGrid(g(v)),this._gridUnclustered[v]=new L.DistanceGrid(g(v));this._topClusterLevel=new this._markerCluster(this,h-1)},_addLayer:function(l,h){var p=this._gridClusters,g=this._gridUnclustered,v=Math.floor(this._map.getMinZoom()),b,w;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(l),l.on(this._childMarkerEventHandlers,this);h>=v;h--){b=this._map.project(l.getLatLng(),h);var T=p[h].getNearObject(b);if(T){T._addChild(l),l.__parent=T;return}if(T=g[h].getNearObject(b),T){var E=T.__parent;E&&this._removeLayer(T,!1);var M=new this._markerCluster(this,h,T,l);p[h].addObject(M,this._map.project(M._cLatLng,h)),T.__parent=M,l.__parent=M;var R=M;for(w=h-1;w>E._zoom;w--)R=new this._markerCluster(this,w,R),p[w].addObject(R,this._map.project(T.getLatLng(),w));E._addChild(R),this._removeFromGridUnclustered(T,h);return}g[h].addObject(l,b)}this._topClusterLevel._addChild(l),l.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(l){l instanceof L.MarkerCluster&&l._iconNeedsUpdate&&l._updateIcon()})},_enqueue:function(l){this._queue.push(l),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var l=0;l<this._queue.length;l++)this._queue[l].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var l=Math.round(this._map._zoom);this._processQueue(),this._zoom<l&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,l)):this._zoom>l?(this._animationStart(),this._animationZoomOut(this._zoom,l)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(l){var h=this._maxLat;return h!==void 0&&(l.getNorth()>=h&&(l._northEast.lat=1/0),l.getSouth()<=-h&&(l._southWest.lat=-1/0)),l},_animationAddLayerNonAnimated:function(l,h){if(h===l)this._featureGroup.addLayer(l);else if(h._childCount===2){h._addToMap();var p=h.getAllChildMarkers();this._featureGroup.removeLayer(p[0]),this._featureGroup.removeLayer(p[1])}else h._updateIcon()},_extractNonGroupLayers:function(l,h){var p=l.getLayers(),g=0,v;for(h=h||[];g<p.length;g++){if(v=p[g],v instanceof L.LayerGroup){this._extractNonGroupLayers(v,h);continue}h.push(v)}return h},_overrideMarkerIcon:function(l){var h=l.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[l]}});return h}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(l,h){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l),this._topClusterLevel._recursivelyAddChildrenToMap(null,h,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(l,h){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l),this._topClusterLevel._recursivelyAddChildrenToMap(null,h,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(l,h){this._animationAddLayerNonAnimated(l,h)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(l,h){var p=this._getExpandedVisibleBounds(),g=this._featureGroup,v=Math.floor(this._map.getMinZoom()),b;this._ignoreMove=!0,this._topClusterLevel._recursively(p,l,v,function(w){var T=w._latlng,E=w._markers,M;for(p.contains(T)||(T=null),w._isSingleParent()&&l+1===h?(g.removeLayer(w),w._recursivelyAddChildrenToMap(null,h,p)):(w.clusterHide(),w._recursivelyAddChildrenToMap(T,h,p)),b=E.length-1;b>=0;b--)M=E[b],p.contains(M._latlng)||g.removeLayer(M)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(p,h),g.eachLayer(function(w){!(w instanceof L.MarkerCluster)&&w._icon&&w.clusterShow()}),this._topClusterLevel._recursively(p,l,h,function(w){w._recursivelyRestoreChildPositions(h)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(p,l,v,function(w){g.removeLayer(w),w.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(l,h){this._animationZoomOutSingle(this._topClusterLevel,l-1,h),this._topClusterLevel._recursivelyAddChildrenToMap(null,h,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l,this._getExpandedVisibleBounds())},_animationAddLayer:function(l,h){var p=this,g=this._featureGroup;g.addLayer(l),h!==l&&(h._childCount>2?(h._updateIcon(),this._forceLayout(),this._animationStart(),l._setPos(this._map.latLngToLayerPoint(h.getLatLng())),l.clusterHide(),this._enqueue(function(){g.removeLayer(l),l.clusterShow(),p._animationEnd()})):(this._forceLayout(),p._animationStart(),p._animationZoomOutSingle(h,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(l,h,p){var g=this._getExpandedVisibleBounds(),v=Math.floor(this._map.getMinZoom());l._recursivelyAnimateChildrenInAndAddSelfToMap(g,v,h+1,p);var b=this;this._forceLayout(),l._recursivelyBecomeVisible(g,p),this._enqueue(function(){if(l._childCount===1){var w=l._markers[0];this._ignoreMove=!0,w.setLatLng(w.getLatLng()),this._ignoreMove=!1,w.clusterShow&&w.clusterShow()}else l._recursively(g,p,v,function(T){T._recursivelyRemoveChildrenFromMap(g,v,h+1)});b._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(l){return new L.MarkerClusterGroup(l)};var f=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(l,h,p,g){L.Marker.prototype.initialize.call(this,p?p._cLatLng||p.getLatLng():new L.LatLng(0,0),{icon:this,pane:l.options.clusterPane}),this._group=l,this._zoom=h,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,p&&this._addChild(p),g&&this._addChild(g)},getAllChildMarkers:function(l,h){l=l||[];for(var p=this._childClusters.length-1;p>=0;p--)this._childClusters[p].getAllChildMarkers(l,h);for(var g=this._markers.length-1;g>=0;g--)h&&this._markers[g].__dragStart||l.push(this._markers[g]);return l},getChildCount:function(){return this._childCount},zoomToBounds:function(l){for(var h=this._childClusters.slice(),p=this._group._map,g=p.getBoundsZoom(this._bounds),v=this._zoom+1,b=p.getZoom(),w;h.length>0&&g>v;){v++;var T=[];for(w=0;w<h.length;w++)T=T.concat(h[w]._childClusters);h=T}g>v?this._group._map.setView(this._latlng,v):g<=b?this._group._map.setView(this._latlng,b+1):this._group._map.fitBounds(this._bounds,l)},getBounds:function(){var l=new L.LatLngBounds;return l.extend(this._bounds),l},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(l,h){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(l),l instanceof L.MarkerCluster?(h||(this._childClusters.push(l),l.__parent=this),this._childCount+=l._childCount):(h||this._markers.push(l),this._childCount++),this.__parent&&this.__parent._addChild(l,!0)},_setClusterCenter:function(l){this._cLatLng||(this._cLatLng=l._cLatLng||l._latlng)},_resetBounds:function(){var l=this._bounds;l._southWest&&(l._southWest.lat=1/0,l._southWest.lng=1/0),l._northEast&&(l._northEast.lat=-1/0,l._northEast.lng=-1/0)},_recalculateBounds:function(){var l=this._markers,h=this._childClusters,p=0,g=0,v=this._childCount,b,w,T,E;if(v!==0){for(this._resetBounds(),b=0;b<l.length;b++)T=l[b]._latlng,this._bounds.extend(T),p+=T.lat,g+=T.lng;for(b=0;b<h.length;b++)w=h[b],w._boundsNeedUpdate&&w._recalculateBounds(),this._bounds.extend(w._bounds),T=w._wLatLng,E=w._childCount,p+=T.lat*E,g+=T.lng*E;this._latlng=this._wLatLng=new L.LatLng(p/v,g/v),this._boundsNeedUpdate=!1}},_addToMap:function(l){l&&(this._backupLatlng=this._latlng,this.setLatLng(l)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(l,h,p){this._recursively(l,this._group._map.getMinZoom(),p-1,function(g){var v=g._markers,b,w;for(b=v.length-1;b>=0;b--)w=v[b],w._icon&&(w._setPos(h),w.clusterHide())},function(g){var v=g._childClusters,b,w;for(b=v.length-1;b>=0;b--)w=v[b],w._icon&&(w._setPos(h),w.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(l,h,p,g){this._recursively(l,g,h,function(v){v._recursivelyAnimateChildrenIn(l,v._group._map.latLngToLayerPoint(v.getLatLng()).round(),p),v._isSingleParent()&&p-1===g?(v.clusterShow(),v._recursivelyRemoveChildrenFromMap(l,h,p)):v.clusterHide(),v._addToMap()})},_recursivelyBecomeVisible:function(l,h){this._recursively(l,this._group._map.getMinZoom(),h,null,function(p){p.clusterShow()})},_recursivelyAddChildrenToMap:function(l,h,p){this._recursively(p,this._group._map.getMinZoom()-1,h,function(g){if(h!==g._zoom)for(var v=g._markers.length-1;v>=0;v--){var b=g._markers[v];p.contains(b._latlng)&&(l&&(b._backupLatlng=b.getLatLng(),b.setLatLng(l),b.clusterHide&&b.clusterHide()),g._group._featureGroup.addLayer(b))}},function(g){g._addToMap(l)})},_recursivelyRestoreChildPositions:function(l){for(var h=this._markers.length-1;h>=0;h--){var p=this._markers[h];p._backupLatlng&&(p.setLatLng(p._backupLatlng),delete p._backupLatlng)}if(l-1===this._zoom)for(var g=this._childClusters.length-1;g>=0;g--)this._childClusters[g]._restorePosition();else for(var v=this._childClusters.length-1;v>=0;v--)this._childClusters[v]._recursivelyRestoreChildPositions(l)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(l,h,p,g){var v,b;this._recursively(l,h-1,p-1,function(w){for(b=w._markers.length-1;b>=0;b--)v=w._markers[b],(!g||!g.contains(v._latlng))&&(w._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())},function(w){for(b=w._childClusters.length-1;b>=0;b--)v=w._childClusters[b],(!g||!g.contains(v._latlng))&&(w._group._featureGroup.removeLayer(v),v.clusterShow&&v.clusterShow())})},_recursively:function(l,h,p,g,v){var b=this._childClusters,w=this._zoom,T,E;if(h<=w&&(g&&g(this),v&&w===p&&v(this)),w<h||w<p)for(T=b.length-1;T>=0;T--)E=b[T],E._boundsNeedUpdate&&E._recalculateBounds(),l.intersects(E._bounds)&&E._recursively(l,h,p,g,v)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var l=this.options.opacity;return this.setOpacity(0),this.options.opacity=l,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(l){this._cellSize=l,this._sqCellSize=l*l,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(l,h){var p=this._getCoord(h.x),g=this._getCoord(h.y),v=this._grid,b=v[g]=v[g]||{},w=b[p]=b[p]||[],T=L.Util.stamp(l);this._objectPoint[T]=h,w.push(l)},updateObject:function(l,h){this.removeObject(l),this.addObject(l,h)},removeObject:function(l,h){var p=this._getCoord(h.x),g=this._getCoord(h.y),v=this._grid,b=v[g]=v[g]||{},w=b[p]=b[p]||[],T,E;for(delete this._objectPoint[L.Util.stamp(l)],T=0,E=w.length;T<E;T++)if(w[T]===l)return w.splice(T,1),E===1&&delete b[p],!0},eachObject:function(l,h){var p,g,v,b,w,T,E,M=this._grid;for(p in M){w=M[p];for(g in w)for(T=w[g],v=0,b=T.length;v<b;v++)E=l.call(h,T[v]),E&&(v--,b--)}},getNearObject:function(l){var h=this._getCoord(l.x),p=this._getCoord(l.y),g,v,b,w,T,E,M,R,N=this._objectPoint,z=this._sqCellSize,q=null;for(g=p-1;g<=p+1;g++)if(w=this._grid[g],w){for(v=h-1;v<=h+1;v++)if(T=w[v],T)for(b=0,E=T.length;b<E;b++)M=T[b],R=this._sqDist(N[L.Util.stamp(M)],l),(R<z||R<=z&&q===null)&&(z=R,q=M)}return q},_getCoord:function(l){var h=Math.floor(l/this._cellSize);return isFinite(h)?h:l},_sqDist:function(l,h){var p=h.x-l.x,g=h.y-l.y;return p*p+g*g}},(function(){L.QuickHull={getDistant:function(l,h){var p=h[1].lat-h[0].lat,g=h[0].lng-h[1].lng;return g*(l.lat-h[0].lat)+p*(l.lng-h[0].lng)},findMostDistantPointFromBaseLine:function(l,h){var p=0,g=null,v=[],b,w,T;for(b=h.length-1;b>=0;b--){if(w=h[b],T=this.getDistant(w,l),T>0)v.push(w);else continue;T>p&&(p=T,g=w)}return{maxPoint:g,newPoints:v}},buildConvexHull:function(l,h){var p=[],g=this.findMostDistantPointFromBaseLine(l,h);return g.maxPoint?(p=p.concat(this.buildConvexHull([l[0],g.maxPoint],g.newPoints)),p=p.concat(this.buildConvexHull([g.maxPoint,l[1]],g.newPoints)),p):[l[0]]},getConvexHull:function(l){var h=!1,p=!1,g=!1,v=!1,b=null,w=null,T=null,E=null,M=null,R=null,N;for(N=l.length-1;N>=0;N--){var z=l[N];(h===!1||z.lat>h)&&(b=z,h=z.lat),(p===!1||z.lat<p)&&(w=z,p=z.lat),(g===!1||z.lng>g)&&(T=z,g=z.lng),(v===!1||z.lng<v)&&(E=z,v=z.lng)}p!==h?(R=w,M=b):(R=E,M=T);var q=[].concat(this.buildConvexHull([R,M],l),this.buildConvexHull([M,R],l));return q}}})(),L.MarkerCluster.include({getConvexHull:function(){var l=this.getAllChildMarkers(),h=[],p,g;for(g=l.length-1;g>=0;g--)p=l[g].getLatLng(),h.push(p);return L.QuickHull.getConvexHull(h)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var l=this.getAllChildMarkers(null,!0),h=this._group,p=h._map,g=p.latLngToLayerPoint(this._latlng),v;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?v=this._group.options.spiderfyShapePositions(l.length,g):l.length>=this._circleSpiralSwitchover?v=this._generatePointsSpiral(l.length,g):(g.y+=10,v=this._generatePointsCircle(l.length,g)),this._animationSpiderfy(l,v)}},unspiderfy:function(l){this._group._inZoomAnimation||(this._animationUnspiderfy(l),this._group._spiderfied=null)},_generatePointsCircle:function(l,h){var p=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+l),g=p/this._2PI,v=this._2PI/l,b=[],w,T;for(g=Math.max(g,35),b.length=l,w=0;w<l;w++)T=this._circleStartAngle+w*v,b[w]=new L.Point(h.x+g*Math.cos(T),h.y+g*Math.sin(T))._round();return b},_generatePointsSpiral:function(l,h){var p=this._group.options.spiderfyDistanceMultiplier,g=p*this._spiralLengthStart,v=p*this._spiralFootSeparation,b=p*this._spiralLengthFactor*this._2PI,w=0,T=[],E;for(T.length=l,E=l;E>=0;E--)E<l&&(T[E]=new L.Point(h.x+g*Math.cos(w),h.y+g*Math.sin(w))._round()),w+=v/g+E*5e-4,g+=b/w;return T},_noanimationUnspiderfy:function(){var l=this._group,h=l._map,p=l._featureGroup,g=this.getAllChildMarkers(null,!0),v,b;for(l._ignoreMove=!0,this.setOpacity(1),b=g.length-1;b>=0;b--)v=g[b],p.removeLayer(v),v._preSpiderfyLatlng&&(v.setLatLng(v._preSpiderfyLatlng),delete v._preSpiderfyLatlng),v.setZIndexOffset&&v.setZIndexOffset(0),v._spiderLeg&&(h.removeLayer(v._spiderLeg),delete v._spiderLeg);l.fire("unspiderfied",{cluster:this,markers:g}),l._ignoreMove=!1,l._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(l,h){var p=this._group,g=p._map,v=p._featureGroup,b=this._group.options.spiderLegPolylineOptions,w,T,E,M;for(p._ignoreMove=!0,w=0;w<l.length;w++)M=g.layerPointToLatLng(h[w]),T=l[w],E=new L.Polyline([this._latlng,M],b),g.addLayer(E),T._spiderLeg=E,T._preSpiderfyLatlng=T._latlng,T.setLatLng(M),T.setZIndexOffset&&T.setZIndexOffset(1e6),v.addLayer(T);this.setOpacity(.3),p._ignoreMove=!1,p.fire("spiderfied",{cluster:this,markers:l})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(l,h){var p=this,g=this._group,v=g._map,b=g._featureGroup,w=this._latlng,T=v.latLngToLayerPoint(w),E=L.Path.SVG,M=L.extend({},this._group.options.spiderLegPolylineOptions),R=M.opacity,N,z,q,B,tt,nt;for(R===void 0&&(R=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),E?(M.opacity=0,M.className=(M.className||"")+" leaflet-cluster-spider-leg"):M.opacity=R,g._ignoreMove=!0,N=0;N<l.length;N++)z=l[N],nt=v.layerPointToLatLng(h[N]),q=new L.Polyline([w,nt],M),v.addLayer(q),z._spiderLeg=q,E&&(B=q._path,tt=B.getTotalLength()+.1,B.style.strokeDasharray=tt,B.style.strokeDashoffset=tt),z.setZIndexOffset&&z.setZIndexOffset(1e6),z.clusterHide&&z.clusterHide(),b.addLayer(z),z._setPos&&z._setPos(T);for(g._forceLayout(),g._animationStart(),N=l.length-1;N>=0;N--)nt=v.layerPointToLatLng(h[N]),z=l[N],z._preSpiderfyLatlng=z._latlng,z.setLatLng(nt),z.clusterShow&&z.clusterShow(),E&&(q=z._spiderLeg,B=q._path,B.style.strokeDashoffset=0,q.setStyle({opacity:R}));this.setOpacity(.3),g._ignoreMove=!1,setTimeout(function(){g._animationEnd(),g.fire("spiderfied",{cluster:p,markers:l})},200)},_animationUnspiderfy:function(l){var h=this,p=this._group,g=p._map,v=p._featureGroup,b=l?g._latLngToNewLayerPoint(this._latlng,l.zoom,l.center):g.latLngToLayerPoint(this._latlng),w=this.getAllChildMarkers(null,!0),T=L.Path.SVG,E,M,R,N,z,q;for(p._ignoreMove=!0,p._animationStart(),this.setOpacity(1),M=w.length-1;M>=0;M--)E=w[M],E._preSpiderfyLatlng&&(E.closePopup(),E.setLatLng(E._preSpiderfyLatlng),delete E._preSpiderfyLatlng,q=!0,E._setPos&&(E._setPos(b),q=!1),E.clusterHide&&(E.clusterHide(),q=!1),q&&v.removeLayer(E),T&&(R=E._spiderLeg,N=R._path,z=N.getTotalLength()+.1,N.style.strokeDashoffset=z,R.setStyle({opacity:0})));p._ignoreMove=!1,setTimeout(function(){var B=0;for(M=w.length-1;M>=0;M--)E=w[M],E._spiderLeg&&B++;for(M=w.length-1;M>=0;M--)E=w[M],E._spiderLeg&&(E.clusterShow&&E.clusterShow(),E.setZIndexOffset&&E.setZIndexOffset(0),B>1&&v.removeLayer(E),g.removeLayer(E._spiderLeg),delete E._spiderLeg);p._animationEnd(),p.fire("unspiderfied",{cluster:h,markers:w})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(l){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(l))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(l){this._spiderfied&&this._spiderfied.unspiderfy(l)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(l){l._spiderLeg&&(this._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow(),l.setZIndexOffset&&l.setZIndexOffset(0),this._map.removeLayer(l._spiderLeg),delete l._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(l){return l?l instanceof L.MarkerClusterGroup?l=l._topClusterLevel.getAllChildMarkers():l instanceof L.LayerGroup?l=l._layers:l instanceof L.MarkerCluster?l=l.getAllChildMarkers():l instanceof L.Marker&&(l=[l]):l=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(l),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(l),this},_flagParentsIconsNeedUpdate:function(l){var h,p;for(h in l)for(p=l[h].__parent;p;)p._iconNeedsUpdate=!0,p=p.__parent},_refreshSingleMarkerModeMarkers:function(l){var h,p;for(h in l)p=l[h],this.hasLayer(p)&&p.setIcon(this._overrideMarkerIcon(p))}}),L.Marker.include({refreshIconOptions:function(l,h){var p=this.options.icon;return L.setOptions(p,l),this.setIcon(p),h&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),r.MarkerClusterGroup=o,r.MarkerCluster=f,Object.defineProperty(r,"__esModule",{value:!0})})})(Rl,Rl.exports)),Rl.exports}qT();function im(i){let e={},r={};const{children:o,...f}=i;return Object.entries(f).forEach(([l,h])=>{l.startsWith("on")?r={...r,[l]:h}:e={...e,[l]:h}}),{clusterProps:e,clusterEvents:r}}function ZT(i,e){const{clusterProps:r,clusterEvents:o}=im(i),f=new on.MarkerClusterGroup(r);return Object.entries(o).forEach(([l,h])=>{const p=`cluster${l.substring(2).toLowerCase()}`;f.on(p,h)}),Xl(f,H0(e,{layerContainer:f}))}var GT=(i,e,r)=>{const{clusterProps:o,clusterEvents:f}=im(e),{clusterProps:l,clusterEvents:h}=im(r);Object.keys(o).forEach(p=>{o[p]!==l[p]&&(i.options[p]=o[p])}),Object.entries(h).forEach(([p,g])=>{const v=`cluster${p.substring(2).toLowerCase()}`;i.off(v,g)}),Object.entries(f).forEach(([p,g])=>{const v=`cluster${p.substring(2).toLowerCase()}`;i.on(v,g)})},$T=RT(ZT,GT),FT=$T;function sm(i){return i?i>=1e9?`${(i/1e9).toFixed(1)} mdr`:i>=1e6?`${(i/1e6).toFixed(0)} mkr`:`${(i/1e3).toFixed(0)} tkr`:"-"}function Km(i){if(!i)return"";const e=i.toLowerCase();return e.includes("climate")||e.includes("milj")||e.includes("energi")?"":e.includes("health")||e.includes("hlsa")||e.includes("med")?"":e.includes("fintech")||e.includes("finans")?"":e.includes("edtech")||e.includes("utbild")?"":e.includes("food")||e.includes("mat")||e.includes("agri")?"":e.includes("mobility")||e.includes("transport")?"":e.includes("circular")||e.includes("tervinning")?"":e.includes("social")||e.includes("samhll")?"":""}function $v(i){const e=i?"#84CC16":"#18181B",r=i?"#18181B":"#84CC16";return on.divIcon({html:`<div class="company-marker ${i?"selected":""}" style="
      background: ${e};
      border: 2px solid ${r};
      width: 10px;
      height: 10px;
      border-radius: 50%;
      box-shadow: 0 2px 4px rgba(0,0,0,0.15);
    "></div>`,className:"custom-marker",iconSize:on.point(10,10),iconAnchor:on.point(5,5)})}function KT(i,e){const r=e?"#84CC16":"#ffffff",o=e?"#18181B":"#27272A",f=e?"#65A30D":"#E4E4E7";return on.divIcon({html:`<div class="company-marker ${e?"selected":""}" style="
      background: ${r};
      border: 1px solid ${f};
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
      font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
      color: ${o};
      white-space: nowrap;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      max-width: 120px;
      overflow: hidden;
      text-overflow: ellipsis;
    ">${i.name}</div>`,className:"custom-marker",iconSize:on.point(100,24),iconAnchor:on.point(50,12)})}function YT(i,e){const r=e?"#84CC16":"#ffffff",o=e?"#18181B":"#27272A",f=e?"#65A30D":"#E4E4E7",l=Km(i.sector),h=i.logo_url?`<img src="${i.logo_url}" alt="" style="width: 24px; height: 24px; border-radius: 4px; object-fit: contain; background: #f4f4f5;" />`:`<div style="width: 24px; height: 24px; border-radius: 4px; background: linear-gradient(135deg, #84CC16, #65A30D); display: flex; align-items: center; justify-content: center; font-size: 12px;">${l}</div>`;return on.divIcon({html:`<div class="company-marker ${e?"selected":""}" style="
      background: ${r};
      border: 1px solid ${f};
      padding: 6px 10px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    ">
      ${h}
      <span style="font-size: 12px; font-weight: 600; color: ${o}; white-space: nowrap; max-width: 100px; overflow: hidden; text-overflow: ellipsis;">${i.name}</span>
    </div>`,className:"custom-marker",iconSize:on.point(150,36),iconAnchor:on.point(75,18)})}function XT(i,e){const r=e?"#84CC16":"#ffffff",o=e?"#18181B":"#27272A",f=e?"#18181B99":"#71717A",l=e?"#65A30D":"#E4E4E7",h=Km(i.sector),p=i.logo_url?`<img src="${i.logo_url}" alt="" style="width: 32px; height: 32px; border-radius: 6px; object-fit: contain; background: #f4f4f5;" />`:`<div style="width: 32px; height: 32px; border-radius: 6px; background: linear-gradient(135deg, #84CC16, #65A30D); display: flex; align-items: center; justify-content: center; font-size: 14px;">${h}</div>`,g=i.latest_valuation_sek?sm(i.latest_valuation_sek):null,v=i.turnover_2024_sek?sm(i.turnover_2024_sek):null,b=g?`Vrdering: ${g}`:v?`Omsttning: ${v}`:"";return on.divIcon({html:`<div class="company-marker ${e?"selected":""}" style="
      background: ${r};
      border: 1px solid ${l};
      padding: 10px 14px;
      border-radius: 12px;
      font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
      box-shadow: 0 6px 20px rgba(0,0,0,0.12);
      min-width: 180px;
    ">
      <div style="display: flex; align-items: center; gap: 10px;">
        ${p}
        <div style="flex: 1; min-width: 0;">
          <div style="font-size: 13px; font-weight: 700; color: ${o}; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${i.name}</div>
          ${i.sector?`<div style="font-size: 10px; color: ${f}; margin-top: 2px;">${i.sector}</div>`:""}
        </div>
      </div>
      ${b?`<div style="font-size: 11px; font-weight: 600; color: ${f}; margin-top: 8px; padding-top: 8px; border-top: 1px solid ${l};">${b}</div>`:""}
    </div>`,className:"custom-marker",iconSize:on.point(200,80),iconAnchor:on.point(100,40)})}function WT(i,e,r){switch(e){case 1:return $v(r);case 2:return KT(i,r);case 3:return YT(i,r);case 4:return XT(i,r);default:return $v(r)}}function JT({company:i}){const{selectedCompany:e,setSelectedCompany:r,setHoveredCompany:o,markerDisplayLevel:f}=ea(),l=e?.orgnr===i.orgnr;return O.jsx(BT,{position:[i.latitude,i.longitude],icon:WT(i,f,l),eventHandlers:{click:()=>r(i),mouseover:()=>o(i),mouseout:()=>o(null)},children:f<=2&&O.jsx(VT,{direction:"top",offset:[0,-10],opacity:1,className:"company-tooltip",children:O.jsxs("div",{className:"p-3 min-w-[220px]",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[i.logo_url?O.jsx("img",{src:i.logo_url,alt:"",className:"w-8 h-8 rounded-lg object-contain bg-gray-100"}):O.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-loop-lime to-loop-lime-dark flex items-center justify-center text-sm",children:Km(i.sector)}),O.jsxs("div",{children:[O.jsx("div",{className:"font-bold text-gray-900 text-sm",children:i.name}),i.sector&&O.jsx("div",{className:"text-xs text-gray-500",children:i.sector})]})]}),O.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-2 border-t border-gray-100",children:[i.city&&O.jsxs("span",{className:"text-xs text-gray-500",children:[" ",i.city]}),i.turnover_2024_sek&&O.jsx("span",{className:"text-xs font-semibold text-gray-700",children:sm(i.turnover_2024_sek)})]})]})})})}function QT(){const{setZoomLevel:i}=ea();return NT({zoomend:e=>{i(e.target.getZoom())}}),null}const t1=[62.5,17.5],e1=[[55.3,10.5],[69.1,24.2]],n1=i=>{const e=i.getChildCount();let r="small",o=40;return e>=100?(r="large",o=60):e>=20&&(r="medium",o=50),on.divIcon({html:`<div class="cluster-icon cluster-${r}">
      <span>${e}</span>
    </div>`,className:"custom-cluster",iconSize:on.point(o,o)})};function i1({companies:i}){const{filters:e}=ea(),r=i.filter(o=>{if(!o.latitude||!o.longitude||o.latitude===0||o.longitude===0||e.sector&&o.sector!==e.sector)return!1;if(e.search){const f=e.search.toLowerCase();return o.name.toLowerCase().includes(f)||o.city?.toLowerCase().includes(f)||o.sector?.toLowerCase().includes(f)}return!0});return O.jsx("div",{className:"relative w-full h-full",children:O.jsxs(zT,{center:t1,zoom:5,minZoom:4,maxZoom:18,maxBounds:e1,maxBoundsViscosity:1,zoomControl:!1,className:"w-full h-full",children:[O.jsx(QT,{}),O.jsx(UT,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),O.jsx(IT,{position:"bottomright"}),O.jsx(FT,{chunkedLoading:!0,iconCreateFunction:n1,maxClusterRadius:60,spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,animate:!0,children:r.map(o=>O.jsx(JT,{company:o},o.orgnr))})]})})}const Ym=W.createContext({});function Xm(i){const e=W.useRef(null);return e.current===null&&(e.current=i()),e.current}const Wm=typeof window<"u",F0=Wm?W.useLayoutEffect:W.useEffect,_h=W.createContext(null);function Jm(i,e){i.indexOf(e)===-1&&i.push(e)}function Qm(i,e){const r=i.indexOf(e);r>-1&&i.splice(r,1)}const ss=(i,e,r)=>r>e?e:r<i?i:r;let tp=()=>{};const rs={},K0=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function Y0(i){return typeof i=="object"&&i!==null}const X0=i=>/^0[^.\s]+$/u.test(i);function ep(i){let e;return()=>(e===void 0&&(e=i()),e)}const $n=i=>i,s1=(i,e)=>r=>e(i(r)),Jl=(...i)=>i.reduce(s1),Vl=(i,e,r)=>{const o=e-i;return o===0?1:(r-i)/o};class np{constructor(){this.subscriptions=[]}add(e){return Jm(this.subscriptions,e),()=>Qm(this.subscriptions,e)}notify(e,r,o){const f=this.subscriptions.length;if(f)if(f===1)this.subscriptions[0](e,r,o);else for(let l=0;l<f;l++){const h=this.subscriptions[l];h&&h(e,r,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ai=i=>i*1e3,Gn=i=>i/1e3;function W0(i,e){return e?i*(1e3/e):0}const J0=(i,e,r)=>(((1-3*r+3*e)*i+(3*r-6*e))*i+3*e)*i,r1=1e-7,a1=12;function o1(i,e,r,o,f){let l,h,p=0;do h=e+(r-e)/2,l=J0(h,o,f)-i,l>0?r=h:e=h;while(Math.abs(l)>r1&&++p<a1);return h}function Ql(i,e,r,o){if(i===e&&r===o)return $n;const f=l=>o1(l,0,1,i,r);return l=>l===0||l===1?l:J0(f(l),e,o)}const Q0=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,tb=i=>e=>1-i(1-e),eb=Ql(.33,1.53,.69,.99),ip=tb(eb),nb=Q0(ip),ib=i=>(i*=2)<1?.5*ip(i):.5*(2-Math.pow(2,-10*(i-1))),sp=i=>1-Math.sin(Math.acos(i)),sb=tb(sp),rb=Q0(sp),l1=Ql(.42,0,1,1),u1=Ql(0,0,.58,1),ab=Ql(.42,0,.58,1),c1=i=>Array.isArray(i)&&typeof i[0]!="number",ob=i=>Array.isArray(i)&&typeof i[0]=="number",h1={linear:$n,easeIn:l1,easeInOut:ab,easeOut:u1,circIn:sp,circInOut:rb,circOut:sb,backIn:ip,backInOut:nb,backOut:eb,anticipate:ib},f1=i=>typeof i=="string",Fv=i=>{if(ob(i)){tp(i.length===4);const[e,r,o,f]=i;return Ql(e,r,o,f)}else if(f1(i))return h1[i];return i},kc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function d1(i,e){let r=new Set,o=new Set,f=!1,l=!1;const h=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function g(b){h.has(b)&&(v.schedule(b),i()),b(p)}const v={schedule:(b,w=!1,T=!1)=>{const M=T&&f?r:o;return w&&h.add(b),M.has(b)||M.add(b),b},cancel:b=>{o.delete(b),h.delete(b)},process:b=>{if(p=b,f){l=!0;return}f=!0,[r,o]=[o,r],r.forEach(g),r.clear(),f=!1,l&&(l=!1,v.process(b))}};return v}const m1=40;function lb(i,e){let r=!1,o=!0;const f={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,h=kc.reduce((B,tt)=>(B[tt]=d1(l),B),{}),{setup:p,read:g,resolveKeyframes:v,preUpdate:b,update:w,preRender:T,render:E,postRender:M}=h,R=()=>{const B=rs.useManualTiming?f.timestamp:performance.now();r=!1,rs.useManualTiming||(f.delta=o?1e3/60:Math.max(Math.min(B-f.timestamp,m1),1)),f.timestamp=B,f.isProcessing=!0,p.process(f),g.process(f),v.process(f),b.process(f),w.process(f),T.process(f),E.process(f),M.process(f),f.isProcessing=!1,r&&e&&(o=!1,i(R))},N=()=>{r=!0,o=!0,f.isProcessing||i(R)};return{schedule:kc.reduce((B,tt)=>{const nt=h[tt];return B[tt]=(at,st=!1,ft=!1)=>(r||N(),nt.schedule(at,st,ft)),B},{}),cancel:B=>{for(let tt=0;tt<kc.length;tt++)h[kc[tt]].cancel(B)},state:f,steps:h}}const{schedule:he,cancel:Ys,state:Fe,steps:Md}=lb(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0);let $c;function p1(){$c=void 0}const xn={now:()=>($c===void 0&&xn.set(Fe.isProcessing||rs.useManualTiming?Fe.timestamp:performance.now()),$c),set:i=>{$c=i,queueMicrotask(p1)}},ub=i=>e=>typeof e=="string"&&e.startsWith(i),rp=ub("--"),g1=ub("var(--"),ap=i=>g1(i)?_1.test(i.split("/*")[0].trim()):!1,_1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mo={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Il={...mo,transform:i=>ss(0,1,i)},jc={...mo,default:1},Dl=i=>Math.round(i*1e5)/1e5,op=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v1(i){return i==null}const y1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lp=(i,e)=>r=>!!(typeof r=="string"&&y1.test(r)&&r.startsWith(i)||e&&!v1(r)&&Object.prototype.hasOwnProperty.call(r,e)),cb=(i,e,r)=>o=>{if(typeof o!="string")return o;const[f,l,h,p]=o.match(op);return{[i]:parseFloat(f),[e]:parseFloat(l),[r]:parseFloat(h),alpha:p!==void 0?parseFloat(p):1}},b1=i=>ss(0,255,i),Rd={...mo,transform:i=>Math.round(b1(i))},Xr={test:lp("rgb","red"),parse:cb("red","green","blue"),transform:({red:i,green:e,blue:r,alpha:o=1})=>"rgba("+Rd.transform(i)+", "+Rd.transform(e)+", "+Rd.transform(r)+", "+Dl(Il.transform(o))+")"};function w1(i){let e="",r="",o="",f="";return i.length>5?(e=i.substring(1,3),r=i.substring(3,5),o=i.substring(5,7),f=i.substring(7,9)):(e=i.substring(1,2),r=i.substring(2,3),o=i.substring(3,4),f=i.substring(4,5),e+=e,r+=r,o+=o,f+=f),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(o,16),alpha:f?parseInt(f,16)/255:1}}const rm={test:lp("#"),parse:w1,transform:Xr.transform},tu=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),$s=tu("deg"),Oi=tu("%"),St=tu("px"),x1=tu("vh"),S1=tu("vw"),Kv={...Oi,parse:i=>Oi.parse(i)/100,transform:i=>Oi.transform(i*100)},to={test:lp("hsl","hue"),parse:cb("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:r,alpha:o=1})=>"hsla("+Math.round(i)+", "+Oi.transform(Dl(e))+", "+Oi.transform(Dl(r))+", "+Dl(Il.transform(o))+")"},Re={test:i=>Xr.test(i)||rm.test(i)||to.test(i),parse:i=>Xr.test(i)?Xr.parse(i):to.test(i)?to.parse(i):rm.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Xr.transform(i):to.transform(i),getAnimatableNone:i=>{const e=Re.parse(i);return e.alpha=0,Re.transform(e)}},T1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function E1(i){return isNaN(i)&&typeof i=="string"&&(i.match(op)?.length||0)+(i.match(T1)?.length||0)>0}const hb="number",fb="color",C1="var",A1="var(",Yv="${}",O1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hl(i){const e=i.toString(),r=[],o={color:[],number:[],var:[]},f=[];let l=0;const p=e.replace(O1,g=>(Re.test(g)?(o.color.push(l),f.push(fb),r.push(Re.parse(g))):g.startsWith(A1)?(o.var.push(l),f.push(C1),r.push(g)):(o.number.push(l),f.push(hb),r.push(parseFloat(g))),++l,Yv)).split(Yv);return{values:r,split:p,indexes:o,types:f}}function db(i){return Hl(i).values}function mb(i){const{split:e,types:r}=Hl(i),o=e.length;return f=>{let l="";for(let h=0;h<o;h++)if(l+=e[h],f[h]!==void 0){const p=r[h];p===hb?l+=Dl(f[h]):p===fb?l+=Re.transform(f[h]):l+=f[h]}return l}}const L1=i=>typeof i=="number"?0:Re.test(i)?Re.getAnimatableNone(i):i;function M1(i){const e=db(i);return mb(i)(e.map(L1))}const Xs={test:E1,parse:db,createTransformer:mb,getAnimatableNone:M1};function kd(i,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?i+(e-i)*6*r:r<1/2?e:r<2/3?i+(e-i)*(2/3-r)*6:i}function R1({hue:i,saturation:e,lightness:r,alpha:o}){i/=360,e/=100,r/=100;let f=0,l=0,h=0;if(!e)f=l=h=r;else{const p=r<.5?r*(1+e):r+e-r*e,g=2*r-p;f=kd(g,p,i+1/3),l=kd(g,p,i),h=kd(g,p,i-1/3)}return{red:Math.round(f*255),green:Math.round(l*255),blue:Math.round(h*255),alpha:o}}function th(i,e){return r=>r>0?e:i}const me=(i,e,r)=>i+(e-i)*r,jd=(i,e,r)=>{const o=i*i,f=r*(e*e-o)+o;return f<0?0:Math.sqrt(f)},k1=[rm,Xr,to],j1=i=>k1.find(e=>e.test(i));function Xv(i){const e=j1(i);if(!e)return!1;let r=e.parse(i);return e===to&&(r=R1(r)),r}const Wv=(i,e)=>{const r=Xv(i),o=Xv(e);if(!r||!o)return th(i,e);const f={...r};return l=>(f.red=jd(r.red,o.red,l),f.green=jd(r.green,o.green,l),f.blue=jd(r.blue,o.blue,l),f.alpha=me(r.alpha,o.alpha,l),Xr.transform(f))},am=new Set(["none","hidden"]);function P1(i,e){return am.has(i)?r=>r<=0?i:e:r=>r>=1?e:i}function N1(i,e){return r=>me(i,e,r)}function up(i){return typeof i=="number"?N1:typeof i=="string"?ap(i)?th:Re.test(i)?Wv:B1:Array.isArray(i)?pb:typeof i=="object"?Re.test(i)?Wv:D1:th}function pb(i,e){const r=[...i],o=r.length,f=i.map((l,h)=>up(l)(l,e[h]));return l=>{for(let h=0;h<o;h++)r[h]=f[h](l);return r}}function D1(i,e){const r={...i,...e},o={};for(const f in r)i[f]!==void 0&&e[f]!==void 0&&(o[f]=up(i[f])(i[f],e[f]));return f=>{for(const l in o)r[l]=o[l](f);return r}}function z1(i,e){const r=[],o={color:0,var:0,number:0};for(let f=0;f<e.values.length;f++){const l=e.types[f],h=i.indexes[l][o[l]],p=i.values[h]??0;r[f]=p,o[l]++}return r}const B1=(i,e)=>{const r=Xs.createTransformer(e),o=Hl(i),f=Hl(e);return o.indexes.var.length===f.indexes.var.length&&o.indexes.color.length===f.indexes.color.length&&o.indexes.number.length>=f.indexes.number.length?am.has(i)&&!f.values.length||am.has(e)&&!o.values.length?P1(i,e):Jl(pb(z1(o,f),f.values),r):th(i,e)};function gb(i,e,r){return typeof i=="number"&&typeof e=="number"&&typeof r=="number"?me(i,e,r):up(i)(i,e)}const U1=i=>{const e=({timestamp:r})=>i(r);return{start:(r=!0)=>he.update(e,r),stop:()=>Ys(e),now:()=>Fe.isProcessing?Fe.timestamp:xn.now()}},_b=(i,e,r=10)=>{let o="";const f=Math.max(Math.round(e/r),2);for(let l=0;l<f;l++)o+=Math.round(i(l/(f-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},eh=2e4;function cp(i){let e=0;const r=50;let o=i.next(e);for(;!o.done&&e<eh;)e+=r,o=i.next(e);return e>=eh?1/0:e}function V1(i,e=100,r){const o=r({...i,keyframes:[0,e]}),f=Math.min(cp(o),eh);return{type:"keyframes",ease:l=>o.next(f*l).value/e,duration:Gn(f)}}const I1=5;function vb(i,e,r){const o=Math.max(e-I1,0);return W0(r-i(o),e-o)}const be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pd=.001;function H1({duration:i=be.duration,bounce:e=be.bounce,velocity:r=be.velocity,mass:o=be.mass}){let f,l,h=1-e;h=ss(be.minDamping,be.maxDamping,h),i=ss(be.minDuration,be.maxDuration,Gn(i)),h<1?(f=v=>{const b=v*h,w=b*i,T=b-r,E=om(v,h),M=Math.exp(-w);return Pd-T/E*M},l=v=>{const w=v*h*i,T=w*r+r,E=Math.pow(h,2)*Math.pow(v,2)*i,M=Math.exp(-w),R=om(Math.pow(v,2),h);return(-f(v)+Pd>0?-1:1)*((T-E)*M)/R}):(f=v=>{const b=Math.exp(-v*i),w=(v-r)*i+1;return-Pd+b*w},l=v=>{const b=Math.exp(-v*i),w=(r-v)*(i*i);return b*w});const p=5/i,g=Z1(f,l,p);if(i=Ai(i),isNaN(g))return{stiffness:be.stiffness,damping:be.damping,duration:i};{const v=Math.pow(g,2)*o;return{stiffness:v,damping:h*2*Math.sqrt(o*v),duration:i}}}const q1=12;function Z1(i,e,r){let o=r;for(let f=1;f<q1;f++)o=o-i(o)/e(o);return o}function om(i,e){return i*Math.sqrt(1-e*e)}const G1=["duration","bounce"],$1=["stiffness","damping","mass"];function Jv(i,e){return e.some(r=>i[r]!==void 0)}function F1(i){let e={velocity:be.velocity,stiffness:be.stiffness,damping:be.damping,mass:be.mass,isResolvedFromDuration:!1,...i};if(!Jv(i,$1)&&Jv(i,G1))if(i.visualDuration){const r=i.visualDuration,o=2*Math.PI/(r*1.2),f=o*o,l=2*ss(.05,1,1-(i.bounce||0))*Math.sqrt(f);e={...e,mass:be.mass,stiffness:f,damping:l}}else{const r=H1(i);e={...e,...r,mass:be.mass},e.isResolvedFromDuration=!0}return e}function nh(i=be.visualDuration,e=be.bounce){const r=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:o,restDelta:f}=r;const l=r.keyframes[0],h=r.keyframes[r.keyframes.length-1],p={done:!1,value:l},{stiffness:g,damping:v,mass:b,duration:w,velocity:T,isResolvedFromDuration:E}=F1({...r,velocity:-Gn(r.velocity||0)}),M=T||0,R=v/(2*Math.sqrt(g*b)),N=h-l,z=Gn(Math.sqrt(g/b)),q=Math.abs(N)<5;o||(o=q?be.restSpeed.granular:be.restSpeed.default),f||(f=q?be.restDelta.granular:be.restDelta.default);let B;if(R<1){const nt=om(z,R);B=at=>{const st=Math.exp(-R*z*at);return h-st*((M+R*z*N)/nt*Math.sin(nt*at)+N*Math.cos(nt*at))}}else if(R===1)B=nt=>h-Math.exp(-z*nt)*(N+(M+z*N)*nt);else{const nt=z*Math.sqrt(R*R-1);B=at=>{const st=Math.exp(-R*z*at),ft=Math.min(nt*at,300);return h-st*((M+R*z*N)*Math.sinh(ft)+nt*N*Math.cosh(ft))/nt}}const tt={calculatedDuration:E&&w||null,next:nt=>{const at=B(nt);if(E)p.done=nt>=w;else{let st=nt===0?M:0;R<1&&(st=nt===0?Ai(M):vb(B,nt,at));const ft=Math.abs(st)<=o,Ct=Math.abs(h-at)<=f;p.done=ft&&Ct}return p.value=p.done?h:at,p},toString:()=>{const nt=Math.min(cp(tt),eh),at=_b(st=>tt.next(nt*st).value,nt,30);return nt+"ms "+at},toTransition:()=>{}};return tt}nh.applyToOptions=i=>{const e=V1(i,100,nh);return i.ease=e.ease,i.duration=Ai(e.duration),i.type="keyframes",i};function lm({keyframes:i,velocity:e=0,power:r=.8,timeConstant:o=325,bounceDamping:f=10,bounceStiffness:l=500,modifyTarget:h,min:p,max:g,restDelta:v=.5,restSpeed:b}){const w=i[0],T={done:!1,value:w},E=ft=>p!==void 0&&ft<p||g!==void 0&&ft>g,M=ft=>p===void 0?g:g===void 0||Math.abs(p-ft)<Math.abs(g-ft)?p:g;let R=r*e;const N=w+R,z=h===void 0?N:h(N);z!==N&&(R=z-w);const q=ft=>-R*Math.exp(-ft/o),B=ft=>z+q(ft),tt=ft=>{const Ct=q(ft),ie=B(ft);T.done=Math.abs(Ct)<=v,T.value=T.done?z:ie};let nt,at;const st=ft=>{E(T.value)&&(nt=ft,at=nh({keyframes:[T.value,M(T.value)],velocity:vb(B,ft,T.value),damping:f,stiffness:l,restDelta:v,restSpeed:b}))};return st(0),{calculatedDuration:null,next:ft=>{let Ct=!1;return!at&&nt===void 0&&(Ct=!0,tt(ft),st(ft)),nt!==void 0&&ft>=nt?at.next(ft-nt):(!Ct&&tt(ft),T)}}}function K1(i,e,r){const o=[],f=r||rs.mix||gb,l=i.length-1;for(let h=0;h<l;h++){let p=f(i[h],i[h+1]);if(e){const g=Array.isArray(e)?e[h]||$n:e;p=Jl(g,p)}o.push(p)}return o}function Y1(i,e,{clamp:r=!0,ease:o,mixer:f}={}){const l=i.length;if(tp(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const h=i[0]===i[1];i[0]>i[l-1]&&(i=[...i].reverse(),e=[...e].reverse());const p=K1(e,o,f),g=p.length,v=b=>{if(h&&b<i[0])return e[0];let w=0;if(g>1)for(;w<i.length-2&&!(b<i[w+1]);w++);const T=Vl(i[w],i[w+1],b);return p[w](T)};return r?b=>v(ss(i[0],i[l-1],b)):v}function X1(i,e){const r=i[i.length-1];for(let o=1;o<=e;o++){const f=Vl(0,e,o);i.push(me(r,1,f))}}function W1(i){const e=[0];return X1(e,i.length-1),e}function J1(i,e){return i.map(r=>r*e)}function Q1(i,e){return i.map(()=>e||ab).splice(0,i.length-1)}function zl({duration:i=300,keyframes:e,times:r,ease:o="easeInOut"}){const f=c1(o)?o.map(Fv):Fv(o),l={done:!1,value:e[0]},h=J1(r&&r.length===e.length?r:W1(e),i),p=Y1(h,e,{ease:Array.isArray(f)?f:Q1(e,f)});return{calculatedDuration:i,next:g=>(l.value=p(g),l.done=g>=i,l)}}const tE=i=>i!==null;function hp(i,{repeat:e,repeatType:r="loop"},o,f=1){const l=i.filter(tE),p=f<0||e&&r!=="loop"&&e%2===1?0:l.length-1;return!p||o===void 0?l[p]:o}const eE={decay:lm,inertia:lm,tween:zl,keyframes:zl,spring:nh};function yb(i){typeof i.type=="string"&&(i.type=eE[i.type])}class fp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const nE=i=>i/100;class dp extends fp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==xn.now()&&this.tick(xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;yb(e);const{type:r=zl,repeat:o=0,repeatDelay:f=0,repeatType:l,velocity:h=0}=e;let{keyframes:p}=e;const g=r||zl;g!==zl&&typeof p[0]!="number"&&(this.mixKeyframes=Jl(nE,gb(p[0],p[1])),p=[0,100]);const v=g({...e,keyframes:p});l==="mirror"&&(this.mirroredGenerator=g({...e,keyframes:[...p].reverse(),velocity:-h})),v.calculatedDuration===null&&(v.calculatedDuration=cp(v));const{calculatedDuration:b}=v;this.calculatedDuration=b,this.resolvedDuration=b+f,this.totalDuration=this.resolvedDuration*(o+1)-f,this.generator=v}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:o,totalDuration:f,mixKeyframes:l,mirroredGenerator:h,resolvedDuration:p,calculatedDuration:g}=this;if(this.startTime===null)return o.next(0);const{delay:v=0,keyframes:b,repeat:w,repeatType:T,repeatDelay:E,type:M,onUpdate:R,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const z=this.currentTime-v*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?z<0:z>f;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let B=this.currentTime,tt=o;if(w){const ft=Math.min(this.currentTime,f)/p;let Ct=Math.floor(ft),ie=ft%1;!ie&&ft>=1&&(ie=1),ie===1&&Ct--,Ct=Math.min(Ct,w+1),!!(Ct%2)&&(T==="reverse"?(ie=1-ie,E&&(ie-=E/p)):T==="mirror"&&(tt=h)),B=ss(0,1,ie)*p}const nt=q?{done:!1,value:b[0]}:tt.next(B);l&&(nt.value=l(nt.value));let{done:at}=nt;!q&&g!==null&&(at=this.playbackSpeed>=0?this.currentTime>=f:this.currentTime<=0);const st=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return st&&M!==lm&&(nt.value=hp(b,this.options,N,this.speed)),R&&R(nt.value),st&&this.finish(),nt}then(e,r){return this.finished.then(e,r)}get duration(){return Gn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gn(e)}get time(){return Gn(this.currentTime)}set time(e){e=Ai(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xn.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Gn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=U1,startTime:r}=this.options;this.driver||(this.driver=e(f=>this.tick(f))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=r??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function iE(i){for(let e=1;e<i.length;e++)i[e]??(i[e]=i[e-1])}const Wr=i=>i*180/Math.PI,um=i=>{const e=Wr(Math.atan2(i[1],i[0]));return cm(e)},sE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:um,rotateZ:um,skewX:i=>Wr(Math.atan(i[1])),skewY:i=>Wr(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},cm=i=>(i=i%360,i<0&&(i+=360),i),Qv=um,ty=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),ey=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),rE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ty,scaleY:ey,scale:i=>(ty(i)+ey(i))/2,rotateX:i=>cm(Wr(Math.atan2(i[6],i[5]))),rotateY:i=>cm(Wr(Math.atan2(-i[2],i[0]))),rotateZ:Qv,rotate:Qv,skewX:i=>Wr(Math.atan(i[4])),skewY:i=>Wr(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function hm(i){return i.includes("scale")?1:0}function fm(i,e){if(!i||i==="none")return hm(e);const r=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,f;if(r)o=rE,f=r;else{const p=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=sE,f=p}if(!f)return hm(e);const l=o[e],h=f[1].split(",").map(oE);return typeof l=="function"?l(h):h[l]}const aE=(i,e)=>{const{transform:r="none"}=getComputedStyle(i);return fm(r,e)};function oE(i){return parseFloat(i.trim())}const po=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],go=new Set(po),ny=i=>i===mo||i===St,lE=new Set(["x","y","z"]),uE=po.filter(i=>!lE.has(i));function cE(i){const e=[];return uE.forEach(r=>{const o=i.getValue(r);o!==void 0&&(e.push([r,o.get()]),o.set(r.startsWith("scale")?1:0))}),e}const Qr={width:({x:i},{paddingLeft:e="0",paddingRight:r="0"})=>i.max-i.min-parseFloat(e)-parseFloat(r),height:({y:i},{paddingTop:e="0",paddingBottom:r="0"})=>i.max-i.min-parseFloat(e)-parseFloat(r),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:(i,{transform:e})=>fm(e,"x"),y:(i,{transform:e})=>fm(e,"y")};Qr.translateX=Qr.x;Qr.translateY=Qr.y;const ta=new Set;let dm=!1,mm=!1,pm=!1;function bb(){if(mm){const i=Array.from(ta).filter(o=>o.needsMeasurement),e=new Set(i.map(o=>o.element)),r=new Map;e.forEach(o=>{const f=cE(o);f.length&&(r.set(o,f),o.render())}),i.forEach(o=>o.measureInitialState()),e.forEach(o=>{o.render();const f=r.get(o);f&&f.forEach(([l,h])=>{o.getValue(l)?.set(h)})}),i.forEach(o=>o.measureEndState()),i.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}mm=!1,dm=!1,ta.forEach(i=>i.complete(pm)),ta.clear()}function wb(){ta.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(mm=!0)})}function hE(){pm=!0,wb(),bb(),pm=!1}class mp{constructor(e,r,o,f,l,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=o,this.motionValue=f,this.element=l,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(ta.add(this),dm||(dm=!0,he.read(wb),he.resolveKeyframes(bb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:o,motionValue:f}=this;if(e[0]===null){const l=f?.get(),h=e[e.length-1];if(l!==void 0)e[0]=l;else if(o&&r){const p=o.readValue(r,h);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=h),f&&l===void 0&&f.set(e[0])}iE(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ta.delete(this)}cancel(){this.state==="scheduled"&&(ta.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fE=i=>i.startsWith("--");function dE(i,e,r){fE(e)?i.style.setProperty(e,r):i.style[e]=r}const mE=ep(()=>window.ScrollTimeline!==void 0),pE={};function gE(i,e){const r=ep(i);return()=>pE[e]??r()}const xb=gE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kl=([i,e,r,o])=>`cubic-bezier(${i}, ${e}, ${r}, ${o})`,iy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kl([0,.65,.55,1]),circOut:kl([.55,0,1,.45]),backIn:kl([.31,.01,.66,-.59]),backOut:kl([.33,1.53,.69,.99])};function Sb(i,e){if(i)return typeof i=="function"?xb()?_b(i,e):"ease-out":ob(i)?kl(i):Array.isArray(i)?i.map(r=>Sb(r,e)||iy.easeOut):iy[i]}function _E(i,e,r,{delay:o=0,duration:f=300,repeat:l=0,repeatType:h="loop",ease:p="easeOut",times:g}={},v=void 0){const b={[e]:r};g&&(b.offset=g);const w=Sb(p,f);Array.isArray(w)&&(b.easing=w);const T={delay:o,duration:f,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:l+1,direction:h==="reverse"?"alternate":"normal"};return v&&(T.pseudoElement=v),i.animate(b,T)}function Tb(i){return typeof i=="function"&&"applyToOptions"in i}function vE({type:i,...e}){return Tb(i)&&xb()?i.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class yE extends fp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:o,keyframes:f,pseudoElement:l,allowFlatten:h=!1,finalKeyframe:p,onComplete:g}=e;this.isPseudoElement=!!l,this.allowFlatten=h,this.options=e,tp(typeof e.type!="string");const v=vE(e);this.animation=_E(r,o,f,v,l),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const b=hp(f,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(b):dE(r,o,b),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Gn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gn(e)}get time(){return Gn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ai(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&mE()?(this.animation.timeline=e,$n):r(this)}}const Eb={anticipate:ib,backInOut:nb,circInOut:rb};function bE(i){return i in Eb}function wE(i){typeof i.ease=="string"&&bE(i.ease)&&(i.ease=Eb[i.ease])}const sy=10;class xE extends yE{constructor(e){wE(e),yb(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:o,onComplete:f,element:l,...h}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const p=new dp({...h,autoplay:!1}),g=Ai(this.finishedTime??this.time);r.setWithVelocity(p.sample(g-sy).value,p.sample(g).value,sy),p.stop()}}const ry=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Xs.test(i)||i==="0")&&!i.startsWith("url("));function SE(i){const e=i[0];if(i.length===1)return!0;for(let r=0;r<i.length;r++)if(i[r]!==e)return!0}function TE(i,e,r,o){const f=i[0];if(f===null)return!1;if(e==="display"||e==="visibility")return!0;const l=i[i.length-1],h=ry(f,e),p=ry(l,e);return!h||!p?!1:SE(i)||(r==="spring"||Tb(r))&&o}function gm(i){i.duration=0,i.type="keyframes"}const EE=new Set(["opacity","clipPath","filter","transform"]),CE=ep(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function AE(i){const{motionValue:e,name:r,repeatDelay:o,repeatType:f,damping:l,type:h}=i;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:v}=e.owner.getProps();return CE()&&r&&EE.has(r)&&(r!=="transform"||!v)&&!g&&!o&&f!=="mirror"&&l!==0&&h!=="inertia"}const OE=40;class LE extends fp{constructor({autoplay:e=!0,delay:r=0,type:o="keyframes",repeat:f=0,repeatDelay:l=0,repeatType:h="loop",keyframes:p,name:g,motionValue:v,element:b,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xn.now();const T={autoplay:e,delay:r,type:o,repeat:f,repeatDelay:l,repeatType:h,name:g,motionValue:v,element:b,...w},E=b?.KeyframeResolver||mp;this.keyframeResolver=new E(p,(M,R,N)=>this.onKeyframesResolved(M,R,T,!N),g,v,b),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,o,f){this.keyframeResolver=void 0;const{name:l,type:h,velocity:p,delay:g,isHandoff:v,onUpdate:b}=o;this.resolvedAt=xn.now(),TE(e,l,h,p)||((rs.instantAnimations||!g)&&b?.(hp(e,o,r)),e[0]=e[e.length-1],gm(o),o.repeat=0);const T={startTime:f?this.resolvedAt?this.resolvedAt-this.createdAt>OE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...o,keyframes:e},E=!v&&AE(T)?new xE({...T,element:T.motionValue.owner.current}):new dp(T);E.finished.then(()=>this.notifyFinished()).catch($n),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),hE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ME=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RE(i){const e=ME.exec(i);if(!e)return[,];const[,r,o,f]=e;return[`--${r??o}`,f]}function Cb(i,e,r=1){const[o,f]=RE(i);if(!o)return;const l=window.getComputedStyle(e).getPropertyValue(o);if(l){const h=l.trim();return K0(h)?parseFloat(h):h}return ap(f)?Cb(f,e,r+1):f}function pp(i,e){return i?.[e]??i?.default??i}const Ab=new Set(["width","height","top","left","right","bottom",...po]),kE={test:i=>i==="auto",parse:i=>i},Ob=i=>e=>e.test(i),Lb=[mo,St,Oi,$s,S1,x1,kE],ay=i=>Lb.find(Ob(i));function jE(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||X0(i):!0}const PE=new Set(["brightness","contrast","saturate","opacity"]);function NE(i){const[e,r]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[o]=r.match(op)||[];if(!o)return i;const f=r.replace(o,"");let l=PE.has(e)?1:0;return o!==r&&(l*=100),e+"("+l+f+")"}const DE=/\b([a-z-]*)\(.*?\)/gu,_m={...Xs,getAnimatableNone:i=>{const e=i.match(DE);return e?e.map(NE).join(" "):i}},oy={...mo,transform:Math.round},zE={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:jc,scaleX:jc,scaleY:jc,scaleZ:jc,skew:$s,skewX:$s,skewY:$s,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:Il,originX:Kv,originY:Kv,originZ:St},gp={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St,...zE,zIndex:oy,fillOpacity:Il,strokeOpacity:Il,numOctaves:oy},BE={...gp,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:_m,WebkitFilter:_m},Mb=i=>BE[i];function Rb(i,e){let r=Mb(i);return r!==_m&&(r=Xs),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const UE=new Set(["auto","none","0"]);function VE(i,e,r){let o=0,f;for(;o<i.length&&!f;){const l=i[o];typeof l=="string"&&!UE.has(l)&&Hl(l).values.length&&(f=i[o]),o++}if(f&&r)for(const l of e)i[l]=Rb(r,f)}class IE extends mp{constructor(e,r,o,f,l){super(e,r,o,f,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:o}=this;if(!r||!r.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let v=e[g];if(typeof v=="string"&&(v=v.trim(),ap(v))){const b=Cb(v,r.current);b!==void 0&&(e[g]=b),g===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!Ab.has(o)||e.length!==2)return;const[f,l]=e,h=ay(f),p=ay(l);if(h!==p)if(ny(h)&&ny(p))for(let g=0;g<e.length;g++){const v=e[g];typeof v=="string"&&(e[g]=parseFloat(v))}else Qr[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,o=[];for(let f=0;f<e.length;f++)(e[f]===null||jE(e[f]))&&o.push(f);o.length&&VE(e,o,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:o}=this;if(!e||!e.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qr[o](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const f=r[r.length-1];f!==void 0&&e.getValue(o,f).jump(f,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:o}=this;if(!e||!e.current)return;const f=e.getValue(r);f&&f.jump(this.measuredOrigin,!1);const l=o.length-1,h=o[l];o[l]=Qr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,g])=>{e.getValue(p).set(g)}),this.resolveNoneKeyframes()}}function HE(i,e,r){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let o=document;const f=r?.[i]??o.querySelectorAll(i);return f?Array.from(f):[]}return Array.from(i)}const kb=(i,e)=>e&&typeof i=="number"?e.transform(i):i;function jb(i){return Y0(i)&&"offsetHeight"in i}const ly=30,qE=i=>!isNaN(parseFloat(i));class ZE{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const f=xn.now();if(this.updatedAt!==f&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qE(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new np);const o=this.events[e].add(r);return e==="change"?()=>{o(),he.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,o){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-o}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ly)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ly);return W0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lo(i,e){return new ZE(i,e)}const{schedule:_p}=lb(queueMicrotask,!1),oi={x:!1,y:!1};function Pb(){return oi.x||oi.y}function GE(i){return i==="x"||i==="y"?oi[i]?null:(oi[i]=!0,()=>{oi[i]=!1}):oi.x||oi.y?null:(oi.x=oi.y=!0,()=>{oi.x=oi.y=!1})}function Nb(i,e){const r=HE(i),o=new AbortController,f={passive:!0,...e,signal:o.signal};return[r,f,()=>o.abort()]}function uy(i){return!(i.pointerType==="touch"||Pb())}function $E(i,e,r={}){const[o,f,l]=Nb(i,r),h=p=>{if(!uy(p))return;const{target:g}=p,v=e(g,p);if(typeof v!="function"||!g)return;const b=w=>{uy(w)&&(v(w),g.removeEventListener("pointerleave",b))};g.addEventListener("pointerleave",b,f)};return o.forEach(p=>{p.addEventListener("pointerenter",h,f)}),l}const Db=(i,e)=>e?i===e?!0:Db(i,e.parentElement):!1,vp=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,FE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KE(i){return FE.has(i.tagName)||i.tabIndex!==-1}const Fc=new WeakSet;function cy(i){return e=>{e.key==="Enter"&&i(e)}}function Nd(i,e){i.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YE=(i,e)=>{const r=i.currentTarget;if(!r)return;const o=cy(()=>{if(Fc.has(r))return;Nd(r,"down");const f=cy(()=>{Nd(r,"up")}),l=()=>Nd(r,"cancel");r.addEventListener("keyup",f,e),r.addEventListener("blur",l,e)});r.addEventListener("keydown",o,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",o),e)};function hy(i){return vp(i)&&!Pb()}function XE(i,e,r={}){const[o,f,l]=Nb(i,r),h=p=>{const g=p.currentTarget;if(!hy(p))return;Fc.add(g);const v=e(g,p),b=(E,M)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),Fc.has(g)&&Fc.delete(g),hy(E)&&typeof v=="function"&&v(E,{success:M})},w=E=>{b(E,g===window||g===document||r.useGlobalTarget||Db(g,E.target))},T=E=>{b(E,!1)};window.addEventListener("pointerup",w,f),window.addEventListener("pointercancel",T,f)};return o.forEach(p=>{(r.useGlobalTarget?window:p).addEventListener("pointerdown",h,f),jb(p)&&(p.addEventListener("focus",v=>YE(v,f)),!KE(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),l}function zb(i){return Y0(i)&&"ownerSVGElement"in i}function WE(i){return zb(i)&&i.tagName==="svg"}const Qe=i=>!!(i&&i.getVelocity),JE=[...Lb,Re,Xs],QE=i=>JE.find(Ob(i)),yp=W.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function fy(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function tC(...i){return e=>{let r=!1;const o=i.map(f=>{const l=fy(f,e);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let f=0;f<o.length;f++){const l=o[f];typeof l=="function"?l():fy(i[f],null)}}}}function eC(...i){return W.useCallback(tC(...i),i)}class nC extends W.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const o=r.offsetParent,f=jb(o)&&o.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=f-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function iC({children:i,isPresent:e,anchorX:r,root:o}){const f=W.useId(),l=W.useRef(null),h=W.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=W.useContext(yp),g=eC(l,i?.ref);return W.useInsertionEffect(()=>{const{width:v,height:b,top:w,left:T,right:E}=h.current;if(e||!l.current||!v||!b)return;const M=r==="left"?`left: ${T}`:`right: ${E}`;l.current.dataset.motionPopId=f;const R=document.createElement("style");p&&(R.nonce=p);const N=o??document.head;return N.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${f}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${b}px !important;
            ${M}px !important;
            top: ${w}px !important;
          }
        `),()=>{N.contains(R)&&N.removeChild(R)}},[e]),O.jsx(nC,{isPresent:e,childRef:l,sizeRef:h,children:W.cloneElement(i,{ref:g})})}const sC=({children:i,initial:e,isPresent:r,onExitComplete:o,custom:f,presenceAffectsLayout:l,mode:h,anchorX:p,root:g})=>{const v=Xm(rC),b=W.useId();let w=!0,T=W.useMemo(()=>(w=!1,{id:b,initial:e,isPresent:r,custom:f,onExitComplete:E=>{v.set(E,!0);for(const M of v.values())if(!M)return;o&&o()},register:E=>(v.set(E,!1),()=>v.delete(E))}),[r,v,o]);return l&&w&&(T={...T}),W.useMemo(()=>{v.forEach((E,M)=>v.set(M,!1))},[r]),W.useEffect(()=>{!r&&!v.size&&o&&o()},[r]),h==="popLayout"&&(i=O.jsx(iC,{isPresent:r,anchorX:p,root:g,children:i})),O.jsx(_h.Provider,{value:T,children:i})};function rC(){return new Map}function Bb(i=!0){const e=W.useContext(_h);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:o,register:f}=e,l=W.useId();W.useEffect(()=>{if(i)return f(l)},[i]);const h=W.useCallback(()=>i&&o&&o(l),[l,o,i]);return!r&&o?[!1,h]:[!0]}const Pc=i=>i.key||"";function dy(i){const e=[];return W.Children.forEach(i,r=>{W.isValidElement(r)&&e.push(r)}),e}const ih=({children:i,custom:e,initial:r=!0,onExitComplete:o,presenceAffectsLayout:f=!0,mode:l="sync",propagate:h=!1,anchorX:p="left",root:g})=>{const[v,b]=Bb(h),w=W.useMemo(()=>dy(i),[i]),T=h&&!v?[]:w.map(Pc),E=W.useRef(!0),M=W.useRef(w),R=Xm(()=>new Map),[N,z]=W.useState(w),[q,B]=W.useState(w);F0(()=>{E.current=!1,M.current=w;for(let at=0;at<q.length;at++){const st=Pc(q[at]);T.includes(st)?R.delete(st):R.get(st)!==!0&&R.set(st,!1)}},[q,T.length,T.join("-")]);const tt=[];if(w!==N){let at=[...w];for(let st=0;st<q.length;st++){const ft=q[st],Ct=Pc(ft);T.includes(Ct)||(at.splice(st,0,ft),tt.push(ft))}return l==="wait"&&tt.length&&(at=tt),B(dy(at)),z(w),null}const{forceRender:nt}=W.useContext(Ym);return O.jsx(O.Fragment,{children:q.map(at=>{const st=Pc(at),ft=h&&!v?!1:w===q||T.includes(st),Ct=()=>{if(R.has(st))R.set(st,!0);else return;let ie=!0;R.forEach(Ut=>{Ut||(ie=!1)}),ie&&(nt?.(),B(M.current),h&&b?.(),o&&o())};return O.jsx(sC,{isPresent:ft,initial:!E.current||r?void 0:!1,custom:e,presenceAffectsLayout:f,mode:l,root:g,onExitComplete:ft?void 0:Ct,anchorX:p,children:at},st)})})},Ub=W.createContext({strict:!1}),my={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},uo={};for(const i in my)uo[i]={isEnabled:e=>my[i].some(r=>!!e[r])};function aC(i){for(const e in i)uo[e]={...uo[e],...i[e]}}const oC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sh(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||oC.has(i)}let Vb=i=>!sh(i);function lC(i){typeof i=="function"&&(Vb=e=>e.startsWith("on")?!sh(e):i(e))}try{lC(require("@emotion/is-prop-valid").default)}catch{}function uC(i,e,r){const o={};for(const f in i)f==="values"&&typeof i.values=="object"||(Vb(f)||r===!0&&sh(f)||!e&&!sh(f)||i.draggable&&f.startsWith("onDrag"))&&(o[f]=i[f]);return o}const vh=W.createContext({});function yh(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function ql(i){return typeof i=="string"||Array.isArray(i)}const bp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wp=["initial",...bp];function bh(i){return yh(i.animate)||wp.some(e=>ql(i[e]))}function Ib(i){return!!(bh(i)||i.variants)}function cC(i,e){if(bh(i)){const{initial:r,animate:o}=i;return{initial:r===!1||ql(r)?r:void 0,animate:ql(o)?o:void 0}}return i.inherit!==!1?e:{}}function hC(i){const{initial:e,animate:r}=cC(i,W.useContext(vh));return W.useMemo(()=>({initial:e,animate:r}),[py(e),py(r)])}function py(i){return Array.isArray(i)?i.join(" "):i}const Zl={};function fC(i){for(const e in i)Zl[e]=i[e],rp(e)&&(Zl[e].isCSSVariable=!0)}function Hb(i,{layout:e,layoutId:r}){return go.has(i)||i.startsWith("origin")||(e||r!==void 0)&&(!!Zl[i]||i==="opacity")}const dC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mC=po.length;function pC(i,e,r){let o="",f=!0;for(let l=0;l<mC;l++){const h=po[l],p=i[h];if(p===void 0)continue;let g=!0;if(typeof p=="number"?g=p===(h.startsWith("scale")?1:0):g=parseFloat(p)===0,!g||r){const v=kb(p,gp[h]);if(!g){f=!1;const b=dC[h]||h;o+=`${b}(${v}) `}r&&(e[h]=v)}}return o=o.trim(),r?o=r(e,f?"":o):f&&(o="none"),o}function xp(i,e,r){const{style:o,vars:f,transformOrigin:l}=i;let h=!1,p=!1;for(const g in e){const v=e[g];if(go.has(g)){h=!0;continue}else if(rp(g)){f[g]=v;continue}else{const b=kb(v,gp[g]);g.startsWith("origin")?(p=!0,l[g]=b):o[g]=b}}if(e.transform||(h||r?o.transform=pC(e,i.transform,r):o.transform&&(o.transform="none")),p){const{originX:g="50%",originY:v="50%",originZ:b=0}=l;o.transformOrigin=`${g} ${v} ${b}`}}const Sp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qb(i,e,r){for(const o in e)!Qe(e[o])&&!Hb(o,r)&&(i[o]=e[o])}function gC({transformTemplate:i},e){return W.useMemo(()=>{const r=Sp();return xp(r,e,i),Object.assign({},r.vars,r.style)},[e])}function _C(i,e){const r=i.style||{},o={};return qb(o,r,i),Object.assign(o,gC(i,e)),o}function vC(i,e){const r={},o=_C(i,e);return i.drag&&i.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(r.tabIndex=0),r.style=o,r}const yC={offset:"stroke-dashoffset",array:"stroke-dasharray"},bC={offset:"strokeDashoffset",array:"strokeDasharray"};function wC(i,e,r=1,o=0,f=!0){i.pathLength=1;const l=f?yC:bC;i[l.offset]=St.transform(-o);const h=St.transform(e),p=St.transform(r);i[l.array]=`${h} ${p}`}function Zb(i,{attrX:e,attrY:r,attrScale:o,pathLength:f,pathSpacing:l=1,pathOffset:h=0,...p},g,v,b){if(xp(i,p,v),g){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:w,style:T}=i;w.transform&&(T.transform=w.transform,delete w.transform),(T.transform||w.transformOrigin)&&(T.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),T.transform&&(T.transformBox=b?.transformBox??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),r!==void 0&&(w.y=r),o!==void 0&&(w.scale=o),f!==void 0&&wC(w,f,l,h,!1)}const Gb=()=>({...Sp(),attrs:{}}),$b=i=>typeof i=="string"&&i.toLowerCase()==="svg";function xC(i,e,r,o){const f=W.useMemo(()=>{const l=Gb();return Zb(l,e,$b(o),i.transformTemplate,i.style),{...l.attrs,style:{...l.style}}},[e]);if(i.style){const l={};qb(l,i.style,i),f.style={...l,...f.style}}return f}const SC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tp(i){return typeof i!="string"||i.includes("-")?!1:!!(SC.indexOf(i)>-1||/[A-Z]/u.test(i))}function TC(i,e,r,{latestValues:o},f,l=!1){const p=(Tp(i)?xC:vC)(e,o,f,i),g=uC(e,typeof i=="string",l),v=i!==W.Fragment?{...g,...p,ref:r}:{},{children:b}=e,w=W.useMemo(()=>Qe(b)?b.get():b,[b]);return W.createElement(i,{...v,children:w})}function gy(i){const e=[{},{}];return i?.values.forEach((r,o)=>{e[0][o]=r.get(),e[1][o]=r.getVelocity()}),e}function Ep(i,e,r,o){if(typeof e=="function"){const[f,l]=gy(o);e=e(r!==void 0?r:i.custom,f,l)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[f,l]=gy(o);e=e(r!==void 0?r:i.custom,f,l)}return e}function Kc(i){return Qe(i)?i.get():i}function EC({scrapeMotionValuesFromProps:i,createRenderState:e},r,o,f){return{latestValues:CC(r,o,f,i),renderState:e()}}function CC(i,e,r,o){const f={},l=o(i,{});for(const T in l)f[T]=Kc(l[T]);let{initial:h,animate:p}=i;const g=bh(i),v=Ib(i);e&&v&&!g&&i.inherit!==!1&&(h===void 0&&(h=e.initial),p===void 0&&(p=e.animate));let b=r?r.initial===!1:!1;b=b||h===!1;const w=b?p:h;if(w&&typeof w!="boolean"&&!yh(w)){const T=Array.isArray(w)?w:[w];for(let E=0;E<T.length;E++){const M=Ep(i,T[E]);if(M){const{transitionEnd:R,transition:N,...z}=M;for(const q in z){let B=z[q];if(Array.isArray(B)){const tt=b?B.length-1:0;B=B[tt]}B!==null&&(f[q]=B)}for(const q in R)f[q]=R[q]}}}return f}const Fb=i=>(e,r)=>{const o=W.useContext(vh),f=W.useContext(_h),l=()=>EC(i,e,o,f);return r?l():Xm(l)};function Cp(i,e,r){const{style:o}=i,f={};for(const l in o)(Qe(o[l])||e.style&&Qe(e.style[l])||Hb(l,i)||r?.getValue(l)?.liveStyle!==void 0)&&(f[l]=o[l]);return f}const AC=Fb({scrapeMotionValuesFromProps:Cp,createRenderState:Sp});function Kb(i,e,r){const o=Cp(i,e,r);for(const f in i)if(Qe(i[f])||Qe(e[f])){const l=po.indexOf(f)!==-1?"attr"+f.charAt(0).toUpperCase()+f.substring(1):f;o[l]=i[f]}return o}const OC=Fb({scrapeMotionValuesFromProps:Kb,createRenderState:Gb}),LC=Symbol.for("motionComponentSymbol");function eo(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function MC(i,e,r){return W.useCallback(o=>{o&&i.onMount&&i.onMount(o),e&&(o?e.mount(o):e.unmount()),r&&(typeof r=="function"?r(o):eo(r)&&(r.current=o))},[e])}const Ap=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RC="framerAppearId",Yb="data-"+Ap(RC),Xb=W.createContext({});function kC(i,e,r,o,f){const{visualElement:l}=W.useContext(vh),h=W.useContext(Ub),p=W.useContext(_h),g=W.useContext(yp).reducedMotion,v=W.useRef(null);o=o||h.renderer,!v.current&&o&&(v.current=o(i,{visualState:e,parent:l,props:r,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const b=v.current,w=W.useContext(Xb);b&&!b.projection&&f&&(b.type==="html"||b.type==="svg")&&jC(v.current,r,f,w);const T=W.useRef(!1);W.useInsertionEffect(()=>{b&&T.current&&b.update(r,p)});const E=r[Yb],M=W.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return F0(()=>{b&&(T.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),M.current&&b.animationState&&b.animationState.animateChanges())}),W.useEffect(()=>{b&&(!M.current&&b.animationState&&b.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),M.current=!1),b.enteringChildren=void 0)}),b}function jC(i,e,r,o){const{layoutId:f,layout:l,drag:h,dragConstraints:p,layoutScroll:g,layoutRoot:v,layoutCrossfade:b}=e;i.projection=new r(i.latestValues,e["data-framer-portal-id"]?void 0:Wb(i.parent)),i.projection.setOptions({layoutId:f,layout:l,alwaysMeasureLayout:!!h||p&&eo(p),visualElement:i,animationType:typeof l=="string"?l:"both",initialPromotionConfig:o,crossfade:b,layoutScroll:g,layoutRoot:v})}function Wb(i){if(i)return i.options.allowProjection!==!1?i.projection:Wb(i.parent)}function Dd(i,{forwardMotionProps:e=!1}={},r,o){r&&aC(r);const f=Tp(i)?OC:AC;function l(p,g){let v;const b={...W.useContext(yp),...p,layoutId:PC(p)},{isStatic:w}=b,T=hC(p),E=f(p,w);if(!w&&Wm){NC();const M=DC(b);v=M.MeasureLayout,T.visualElement=kC(i,E,b,o,M.ProjectionNode)}return O.jsxs(vh.Provider,{value:T,children:[v&&T.visualElement?O.jsx(v,{visualElement:T.visualElement,...b}):null,TC(i,p,MC(E,T.visualElement,g),E,w,e)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const h=W.forwardRef(l);return h[LC]=i,h}function PC({layoutId:i}){const e=W.useContext(Ym).id;return e&&i!==void 0?e+"-"+i:i}function NC(i,e){W.useContext(Ub).strict}function DC(i){const{drag:e,layout:r}=uo;if(!e&&!r)return{};const o={...e,...r};return{MeasureLayout:e?.isEnabled(i)||r?.isEnabled(i)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function zC(i,e){if(typeof Proxy>"u")return Dd;const r=new Map,o=(l,h)=>Dd(l,h,i,e),f=(l,h)=>o(l,h);return new Proxy(f,{get:(l,h)=>h==="create"?o:(r.has(h)||r.set(h,Dd(h,void 0,i,e)),r.get(h))})}function Jb({top:i,left:e,right:r,bottom:o}){return{x:{min:e,max:r},y:{min:i,max:o}}}function BC({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function UC(i,e){if(!e)return i;const r=e({x:i.left,y:i.top}),o=e({x:i.right,y:i.bottom});return{top:r.y,left:r.x,bottom:o.y,right:o.x}}function zd(i){return i===void 0||i===1}function vm({scale:i,scaleX:e,scaleY:r}){return!zd(i)||!zd(e)||!zd(r)}function Zr(i){return vm(i)||Qb(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function Qb(i){return _y(i.x)||_y(i.y)}function _y(i){return i&&i!=="0%"}function rh(i,e,r){const o=i-r,f=e*o;return r+f}function vy(i,e,r,o,f){return f!==void 0&&(i=rh(i,f,o)),rh(i,r,o)+e}function ym(i,e=0,r=1,o,f){i.min=vy(i.min,e,r,o,f),i.max=vy(i.max,e,r,o,f)}function tw(i,{x:e,y:r}){ym(i.x,e.translate,e.scale,e.originPoint),ym(i.y,r.translate,r.scale,r.originPoint)}const yy=.999999999999,by=1.0000000000001;function VC(i,e,r,o=!1){const f=r.length;if(!f)return;e.x=e.y=1;let l,h;for(let p=0;p<f;p++){l=r[p],h=l.projectionDelta;const{visualElement:g}=l.options;g&&g.props.style&&g.props.style.display==="contents"||(o&&l.options.layoutScroll&&l.scroll&&l!==l.root&&io(i,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),h&&(e.x*=h.x.scale,e.y*=h.y.scale,tw(i,h)),o&&Zr(l.latestValues)&&io(i,l.latestValues))}e.x<by&&e.x>yy&&(e.x=1),e.y<by&&e.y>yy&&(e.y=1)}function no(i,e){i.min=i.min+e,i.max=i.max+e}function wy(i,e,r,o,f=.5){const l=me(i.min,i.max,f);ym(i,e,r,l,o)}function io(i,e){wy(i.x,e.x,e.scaleX,e.scale,e.originX),wy(i.y,e.y,e.scaleY,e.scale,e.originY)}function ew(i,e){return Jb(UC(i.getBoundingClientRect(),e))}function IC(i,e,r){const o=ew(i,r),{scroll:f}=e;return f&&(no(o.x,f.offset.x),no(o.y,f.offset.y)),o}const xy=()=>({translate:0,scale:1,origin:0,originPoint:0}),so=()=>({x:xy(),y:xy()}),Sy=()=>({min:0,max:0}),Ne=()=>({x:Sy(),y:Sy()}),bm={current:null},nw={current:!1};function HC(){if(nw.current=!0,!!Wm)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>bm.current=i.matches;i.addEventListener("change",e),e()}else bm.current=!1}const qC=new WeakMap;function ZC(i,e,r){for(const o in e){const f=e[o],l=r[o];if(Qe(f))i.addValue(o,f);else if(Qe(l))i.addValue(o,lo(f,{owner:i}));else if(l!==f)if(i.hasValue(o)){const h=i.getValue(o);h.liveStyle===!0?h.jump(f):h.hasAnimated||h.set(f)}else{const h=i.getStaticValue(o);i.addValue(o,lo(h!==void 0?h:f,{owner:i}))}}for(const o in r)e[o]===void 0&&i.removeValue(o);return e}const Ty=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GC{scrapeMotionValuesFromProps(e,r,o){return{}}constructor({parent:e,props:r,presenceContext:o,reducedMotionConfig:f,blockInitialAnimation:l,visualState:h},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=xn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,he.render(this.render,!1,!0))};const{latestValues:g,renderState:v}=h;this.latestValues=g,this.baseTarget={...g},this.initialValues=r.initial?{...g}:{},this.renderState=v,this.parent=e,this.props=r,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=f,this.options=p,this.blockInitialAnimation=!!l,this.isControllingVariants=bh(r),this.isVariantNode=Ib(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...w}=this.scrapeMotionValuesFromProps(r,{},this);for(const T in w){const E=w[T];g[T]!==void 0&&Qe(E)&&E.set(g[T])}}mount(e){this.current=e,qC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,o)=>this.bindToMotionValue(o,r)),nw.current||HC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ys(this.notifyUpdate),Ys(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const o=go.has(e);o&&this.onBindTransform&&this.onBindTransform();const f=r.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&he.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{f(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in uo){const r=uo[e];if(!r)continue;const{isEnabled:o,Feature:f}=r;if(!this.features[e]&&f&&o(this.props)&&(this.features[e]=new f(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ne()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let o=0;o<Ty.length;o++){const f=Ty[o];this.propEventSubscriptions[f]&&(this.propEventSubscriptions[f](),delete this.propEventSubscriptions[f]);const l="on"+f,h=e[l];h&&(this.propEventSubscriptions[f]=this.on(f,h))}this.prevMotionValues=ZC(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const o=this.values.get(e);r!==o&&(o&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&r!==void 0&&(o=lo(r===null?void 0:r,{owner:this}),this.addValue(e,o)),o}readValue(e,r){let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(K0(o)||X0(o))?o=parseFloat(o):!QE(o)&&Xs.test(r)&&(o=Rb(e,r)),this.setBaseTarget(e,Qe(o)?o.get():o)),Qe(o)?o.get():o}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const l=Ep(this.props,r,this.presenceContext?.custom);l&&(o=l[e])}if(r&&o!==void 0)return o;const f=this.getBaseTargetFromProps(this.props,e);return f!==void 0&&!Qe(f)?f:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new np),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){_p.render(this.render)}}class iw extends GC{constructor(){super(...arguments),this.KeyframeResolver=IE}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:o}){delete r[e],delete o[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qe(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function sw(i,{style:e,vars:r},o,f){const l=i.style;let h;for(h in e)l[h]=e[h];f?.applyProjectionStyles(l,o);for(h in r)l.setProperty(h,r[h])}function $C(i){return window.getComputedStyle(i)}class FC extends iw{constructor(){super(...arguments),this.type="html",this.renderInstance=sw}readValueFromInstance(e,r){if(go.has(r))return this.projection?.isProjecting?hm(r):aE(e,r);{const o=$C(e),f=(rp(r)?o.getPropertyValue(r):o[r])||0;return typeof f=="string"?f.trim():f}}measureInstanceViewportBox(e,{transformPagePoint:r}){return ew(e,r)}build(e,r,o){xp(e,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,r,o){return Cp(e,r,o)}}const rw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function KC(i,e,r,o){sw(i,e,void 0,o);for(const f in e.attrs)i.setAttribute(rw.has(f)?f:Ap(f),e.attrs[f])}class YC extends iw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ne}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(go.has(r)){const o=Mb(r);return o&&o.default||0}return r=rw.has(r)?r:Ap(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,o){return Kb(e,r,o)}build(e,r,o){Zb(e,r,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(e,r,o,f){KC(e,r,o,f)}mount(e){this.isSVGTag=$b(e.tagName),super.mount(e)}}const XC=(i,e)=>Tp(i)?new YC(e):new FC(e,{allowProjection:i!==W.Fragment});function ro(i,e,r){const o=i.getProps();return Ep(o,e,r!==void 0?r:o.custom,i)}const wm=i=>Array.isArray(i);function WC(i,e,r){i.hasValue(e)?i.getValue(e).set(r):i.addValue(e,lo(r))}function JC(i){return wm(i)?i[i.length-1]||0:i}function QC(i,e){const r=ro(i,e);let{transitionEnd:o={},transition:f={},...l}=r||{};l={...l,...o};for(const h in l){const p=JC(l[h]);WC(i,h,p)}}function tA(i){return!!(Qe(i)&&i.add)}function xm(i,e){const r=i.getValue("willChange");if(tA(r))return r.add(e);if(!r&&rs.WillChange){const o=new rs.WillChange("auto");i.addValue("willChange",o),o.add(e)}}function aw(i){return i.props[Yb]}const eA=i=>i!==null;function nA(i,{repeat:e,repeatType:r="loop"},o){const f=i.filter(eA),l=e&&r!=="loop"&&e%2===1?0:f.length-1;return f[l]}const iA={type:"spring",stiffness:500,damping:25,restSpeed:10},sA=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),rA={type:"keyframes",duration:.8},aA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oA=(i,{keyframes:e})=>e.length>2?rA:go.has(i)?i.startsWith("scale")?sA(e[1]):iA:aA;function lA({when:i,delay:e,delayChildren:r,staggerChildren:o,staggerDirection:f,repeat:l,repeatType:h,repeatDelay:p,from:g,elapsed:v,...b}){return!!Object.keys(b).length}const Op=(i,e,r,o={},f,l)=>h=>{const p=pp(o,i)||{},g=p.delay||o.delay||0;let{elapsed:v=0}=o;v=v-Ai(g);const b={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...p,delay:-v,onUpdate:T=>{e.set(T),p.onUpdate&&p.onUpdate(T)},onComplete:()=>{h(),p.onComplete&&p.onComplete()},name:i,motionValue:e,element:l?void 0:f};lA(p)||Object.assign(b,oA(i,b)),b.duration&&(b.duration=Ai(b.duration)),b.repeatDelay&&(b.repeatDelay=Ai(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let w=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(gm(b),b.delay===0&&(w=!0)),(rs.instantAnimations||rs.skipAnimations)&&(w=!0,gm(b),b.delay=0),b.allowFlatten=!p.type&&!p.ease,w&&!l&&e.get()!==void 0){const T=nA(b.keyframes,p);if(T!==void 0){he.update(()=>{b.onUpdate(T),b.onComplete()});return}}return p.isSync?new dp(b):new LE(b)};function uA({protectedKeys:i,needsAnimating:e},r){const o=i.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,o}function ow(i,e,{delay:r=0,transitionOverride:o,type:f}={}){let{transition:l=i.getDefaultTransition(),transitionEnd:h,...p}=e;o&&(l=o);const g=[],v=f&&i.animationState&&i.animationState.getState()[f];for(const b in p){const w=i.getValue(b,i.latestValues[b]??null),T=p[b];if(T===void 0||v&&uA(v,b))continue;const E={delay:r,...pp(l||{},b)},M=w.get();if(M!==void 0&&!w.isAnimating&&!Array.isArray(T)&&T===M&&!E.velocity)continue;let R=!1;if(window.MotionHandoffAnimation){const z=aw(i);if(z){const q=window.MotionHandoffAnimation(z,b,he);q!==null&&(E.startTime=q,R=!0)}}xm(i,b),w.start(Op(b,w,T,i.shouldReduceMotion&&Ab.has(b)?{type:!1}:E,i,R));const N=w.animation;N&&g.push(N)}return h&&Promise.all(g).then(()=>{he.update(()=>{h&&QC(i,h)})}),g}function lw(i,e,r,o=0,f=1){const l=Array.from(i).sort((v,b)=>v.sortNodePosition(b)).indexOf(e),h=i.size,p=(h-1)*o;return typeof r=="function"?r(l,h):f===1?l*o:p-l*o}function Sm(i,e,r={}){const o=ro(i,e,r.type==="exit"?i.presenceContext?.custom:void 0);let{transition:f=i.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(f=r.transitionOverride);const l=o?()=>Promise.all(ow(i,o,r)):()=>Promise.resolve(),h=i.variantChildren&&i.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:w}=f;return cA(i,e,g,v,b,w,r)}:()=>Promise.resolve(),{when:p}=f;if(p){const[g,v]=p==="beforeChildren"?[l,h]:[h,l];return g().then(()=>v())}else return Promise.all([l(),h(r.delay)])}function cA(i,e,r=0,o=0,f=0,l=1,h){const p=[];for(const g of i.variantChildren)g.notify("AnimationStart",e),p.push(Sm(g,e,{...h,delay:r+(typeof o=="function"?0:o)+lw(i.variantChildren,g,o,f,l)}).then(()=>g.notify("AnimationComplete",e)));return Promise.all(p)}function hA(i,e,r={}){i.notify("AnimationStart",e);let o;if(Array.isArray(e)){const f=e.map(l=>Sm(i,l,r));o=Promise.all(f)}else if(typeof e=="string")o=Sm(i,e,r);else{const f=typeof e=="function"?ro(i,e,r.custom):e;o=Promise.all(ow(i,f,r))}return o.then(()=>{i.notify("AnimationComplete",e)})}function uw(i,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==i.length)return!1;for(let o=0;o<r;o++)if(e[o]!==i[o])return!1;return!0}const fA=wp.length;function cw(i){if(!i)return;if(!i.isControllingVariants){const r=i.parent?cw(i.parent)||{}:{};return i.props.initial!==void 0&&(r.initial=i.props.initial),r}const e={};for(let r=0;r<fA;r++){const o=wp[r],f=i.props[o];(ql(f)||f===!1)&&(e[o]=f)}return e}const dA=[...bp].reverse(),mA=bp.length;function pA(i){return e=>Promise.all(e.map(({animation:r,options:o})=>hA(i,r,o)))}function gA(i){let e=pA(i),r=Ey(),o=!0;const f=g=>(v,b)=>{const w=ro(i,b,g==="exit"?i.presenceContext?.custom:void 0);if(w){const{transition:T,transitionEnd:E,...M}=w;v={...v,...M,...E}}return v};function l(g){e=g(i)}function h(g){const{props:v}=i,b=cw(i.parent)||{},w=[],T=new Set;let E={},M=1/0;for(let N=0;N<mA;N++){const z=dA[N],q=r[z],B=v[z]!==void 0?v[z]:b[z],tt=ql(B),nt=z===g?q.isActive:null;nt===!1&&(M=N);let at=B===b[z]&&B!==v[z]&&tt;if(at&&o&&i.manuallyAnimateOnMount&&(at=!1),q.protectedKeys={...E},!q.isActive&&nt===null||!B&&!q.prevProp||yh(B)||typeof B=="boolean")continue;const st=_A(q.prevProp,B);let ft=st||z===g&&q.isActive&&!at&&tt||N>M&&tt,Ct=!1;const ie=Array.isArray(B)?B:[B];let Ut=ie.reduce(f(z),{});nt===!1&&(Ut={});const{prevResolvedValues:Gt={}}=q,Fn={...Gt,...Ut},pe=it=>{ft=!0,T.has(it)&&(Ct=!0,T.delete(it)),q.needsAnimating[it]=!0;const et=i.getValue(it);et&&(et.liveStyle=!1)};for(const it in Fn){const et=Ut[it],Rt=Gt[it];if(E.hasOwnProperty(it))continue;let ut=!1;wm(et)&&wm(Rt)?ut=!uw(et,Rt):ut=et!==Rt,ut?et!=null?pe(it):T.add(it):et!==void 0&&T.has(it)?pe(it):q.protectedKeys[it]=!0}q.prevProp=B,q.prevResolvedValues=Ut,q.isActive&&(E={...E,...Ut}),o&&i.blockInitialAnimation&&(ft=!1);const Ke=at&&st;ft&&(!Ke||Ct)&&w.push(...ie.map(it=>{const et={type:z};if(typeof it=="string"&&o&&!Ke&&i.manuallyAnimateOnMount&&i.parent){const{parent:Rt}=i,ut=ro(Rt,it);if(Rt.enteringChildren&&ut){const{delayChildren:P}=ut.transition||{};et.delay=lw(Rt.enteringChildren,i,P)}}return{animation:it,options:et}}))}if(T.size){const N={};if(typeof v.initial!="boolean"){const z=ro(i,Array.isArray(v.initial)?v.initial[0]:v.initial);z&&z.transition&&(N.transition=z.transition)}T.forEach(z=>{const q=i.getBaseTarget(z),B=i.getValue(z);B&&(B.liveStyle=!0),N[z]=q??null}),w.push({animation:N})}let R=!!w.length;return o&&(v.initial===!1||v.initial===v.animate)&&!i.manuallyAnimateOnMount&&(R=!1),o=!1,R?e(w):Promise.resolve()}function p(g,v){if(r[g].isActive===v)return Promise.resolve();i.variantChildren?.forEach(w=>w.animationState?.setActive(g,v)),r[g].isActive=v;const b=h(g);for(const w in r)r[w].protectedKeys={};return b}return{animateChanges:h,setActive:p,setAnimateFunction:l,getState:()=>r,reset:()=>{r=Ey()}}}function _A(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!uw(e,i):!1}function Ir(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ey(){return{animate:Ir(!0),whileInView:Ir(),whileHover:Ir(),whileTap:Ir(),whileDrag:Ir(),whileFocus:Ir(),exit:Ir()}}class Ws{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vA extends Ws{constructor(e){super(e),e.animationState||(e.animationState=gA(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let yA=0;class bA extends Ws{constructor(){super(...arguments),this.id=yA++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const f=this.node.animationState.setActive("exit",!e);r&&!e&&f.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wA={animation:{Feature:vA},exit:{Feature:bA}};function Gl(i,e,r,o={passive:!0}){return i.addEventListener(e,r,o),()=>i.removeEventListener(e,r)}function eu(i){return{point:{x:i.pageX,y:i.pageY}}}const xA=i=>e=>vp(e)&&i(e,eu(e));function Bl(i,e,r,o){return Gl(i,e,xA(r),o)}const hw=1e-4,SA=1-hw,TA=1+hw,fw=.01,EA=0-fw,CA=0+fw;function an(i){return i.max-i.min}function AA(i,e,r){return Math.abs(i-e)<=r}function Cy(i,e,r,o=.5){i.origin=o,i.originPoint=me(e.min,e.max,i.origin),i.scale=an(r)/an(e),i.translate=me(r.min,r.max,i.origin)-i.originPoint,(i.scale>=SA&&i.scale<=TA||isNaN(i.scale))&&(i.scale=1),(i.translate>=EA&&i.translate<=CA||isNaN(i.translate))&&(i.translate=0)}function Ul(i,e,r,o){Cy(i.x,e.x,r.x,o?o.originX:void 0),Cy(i.y,e.y,r.y,o?o.originY:void 0)}function Ay(i,e,r){i.min=r.min+e.min,i.max=i.min+an(e)}function OA(i,e,r){Ay(i.x,e.x,r.x),Ay(i.y,e.y,r.y)}function Oy(i,e,r){i.min=e.min-r.min,i.max=i.min+an(e)}function ah(i,e,r){Oy(i.x,e.x,r.x),Oy(i.y,e.y,r.y)}function Zn(i){return[i("x"),i("y")]}const dw=({current:i})=>i?i.ownerDocument.defaultView:null,Ly=(i,e)=>Math.abs(i-e);function LA(i,e){const r=Ly(i.x,e.x),o=Ly(i.y,e.y);return Math.sqrt(r**2+o**2)}class mw{constructor(e,r,{transformPagePoint:o,contextWindow:f=window,dragSnapToOrigin:l=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ud(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,M=LA(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!M)return;const{point:R}=T,{timestamp:N}=Fe;this.history.push({...R,timestamp:N});const{onStart:z,onMove:q}=this.handlers;E||(z&&z(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,T)},this.handlePointerMove=(T,E)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Bd(E,this.transformPagePoint),he.update(this.updatePoint,!0)},this.handlePointerUp=(T,E)=>{this.end();const{onEnd:M,onSessionEnd:R,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=Ud(T.type==="pointercancel"?this.lastMoveEventInfo:Bd(E,this.transformPagePoint),this.history);this.startEvent&&M&&M(T,z),R&&R(T,z)},!vp(e))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=o,this.distanceThreshold=h,this.contextWindow=f||window;const p=eu(e),g=Bd(p,this.transformPagePoint),{point:v}=g,{timestamp:b}=Fe;this.history=[{...v,timestamp:b}];const{onSessionStart:w}=r;w&&w(e,Ud(g,this.history)),this.removeListeners=Jl(Bl(this.contextWindow,"pointermove",this.handlePointerMove),Bl(this.contextWindow,"pointerup",this.handlePointerUp),Bl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ys(this.updatePoint)}}function Bd(i,e){return e?{point:e(i.point)}:i}function My(i,e){return{x:i.x-e.x,y:i.y-e.y}}function Ud({point:i},e){return{point:i,delta:My(i,pw(e)),offset:My(i,MA(e)),velocity:RA(e,.1)}}function MA(i){return i[0]}function pw(i){return i[i.length-1]}function RA(i,e){if(i.length<2)return{x:0,y:0};let r=i.length-1,o=null;const f=pw(i);for(;r>=0&&(o=i[r],!(f.timestamp-o.timestamp>Ai(e)));)r--;if(!o)return{x:0,y:0};const l=Gn(f.timestamp-o.timestamp);if(l===0)return{x:0,y:0};const h={x:(f.x-o.x)/l,y:(f.y-o.y)/l};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function kA(i,{min:e,max:r},o){return e!==void 0&&i<e?i=o?me(e,i,o.min):Math.max(i,e):r!==void 0&&i>r&&(i=o?me(r,i,o.max):Math.min(i,r)),i}function Ry(i,e,r){return{min:e!==void 0?i.min+e:void 0,max:r!==void 0?i.max+r-(i.max-i.min):void 0}}function jA(i,{top:e,left:r,bottom:o,right:f}){return{x:Ry(i.x,r,f),y:Ry(i.y,e,o)}}function ky(i,e){let r=e.min-i.min,o=e.max-i.max;return e.max-e.min<i.max-i.min&&([r,o]=[o,r]),{min:r,max:o}}function PA(i,e){return{x:ky(i.x,e.x),y:ky(i.y,e.y)}}function NA(i,e){let r=.5;const o=an(i),f=an(e);return f>o?r=Vl(e.min,e.max-o,i.min):o>f&&(r=Vl(i.min,i.max-f,e.min)),ss(0,1,r)}function DA(i,e){const r={};return e.min!==void 0&&(r.min=e.min-i.min),e.max!==void 0&&(r.max=e.max-i.min),r}const Tm=.35;function zA(i=Tm){return i===!1?i=0:i===!0&&(i=Tm),{x:jy(i,"left","right"),y:jy(i,"top","bottom")}}function jy(i,e,r){return{min:Py(i,e),max:Py(i,r)}}function Py(i,e){return typeof i=="number"?i:i[e]||0}const BA=new WeakMap;class UA{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ne(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:o}={}){const{presenceContext:f}=this.visualElement;if(f&&f.isPresent===!1)return;const l=w=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(eu(w).point)},h=(w,T)=>{const{drag:E,dragPropagation:M,onDragStart:R}=this.getProps();if(E&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GE(E),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zn(z=>{let q=this.getAxisMotionValue(z).get()||0;if(Oi.test(q)){const{projection:B}=this.visualElement;if(B&&B.layout){const tt=B.layout.layoutBox[z];tt&&(q=an(tt)*(parseFloat(q)/100))}}this.originPoint[z]=q}),R&&he.postRender(()=>R(w,T)),xm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},p=(w,T)=>{this.latestPointerEvent=w,this.latestPanInfo=T;const{dragPropagation:E,dragDirectionLock:M,onDirectionLock:R,onDrag:N}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:z}=T;if(M&&this.currentDirection===null){this.currentDirection=VA(z),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",T.point,z),this.updateAxis("y",T.point,z),this.visualElement.render(),N&&N(w,T)},g=(w,T)=>{this.latestPointerEvent=w,this.latestPanInfo=T,this.stop(w,T),this.latestPointerEvent=null,this.latestPanInfo=null},v=()=>Zn(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:b}=this.getProps();this.panSession=new mw(e,{onSessionStart:l,onStart:h,onMove:p,onSessionEnd:g,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:o,contextWindow:dw(this.visualElement)})}stop(e,r){const o=e||this.latestPointerEvent,f=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!f||!o)return;const{velocity:h}=f;this.startAnimation(h);const{onDragEnd:p}=this.getProps();p&&he.postRender(()=>p(o,f))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,o){const{drag:f}=this.getProps();if(!o||!Nc(e,f,this.currentDirection))return;const l=this.getAxisMotionValue(e);let h=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(h=kA(h,this.constraints[e],this.elastic[e])),l.set(h)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,f=this.constraints;e&&eo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&o?this.constraints=jA(o.layoutBox,e):this.constraints=!1,this.elastic=zA(r),f!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Zn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=DA(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!eo(e))return!1;const o=e.current,{projection:f}=this.visualElement;if(!f||!f.layout)return!1;const l=IC(o,f.root,this.visualElement.getTransformPagePoint());let h=PA(f.layout.layoutBox,l);if(r){const p=r(BC(h));this.hasMutatedConstraints=!!p,p&&(h=Jb(p))}return h}startAnimation(e){const{drag:r,dragMomentum:o,dragElastic:f,dragTransition:l,dragSnapToOrigin:h,onDragTransitionEnd:p}=this.getProps(),g=this.constraints||{},v=Zn(b=>{if(!Nc(b,r,this.currentDirection))return;let w=g&&g[b]||{};h&&(w={min:0,max:0});const T=f?200:1e6,E=f?40:1e7,M={type:"inertia",velocity:o?e[b]:0,bounceStiffness:T,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(b,M)});return Promise.all(v).then(p)}startAxisValueAnimation(e,r){const o=this.getAxisMotionValue(e);return xm(this.visualElement,e),o.start(Op(e,o,0,r,this.visualElement,!1))}stopAnimation(){Zn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,o=this.visualElement.getProps(),f=o[r];return f||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){Zn(r=>{const{drag:o}=this.getProps();if(!Nc(r,o,this.currentDirection))return;const{projection:f}=this.visualElement,l=this.getAxisMotionValue(r);if(f&&f.layout){const{min:h,max:p}=f.layout.layoutBox[r];l.set(e[r]-me(h,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:o}=this.visualElement;if(!eo(r)||!o||!this.constraints)return;this.stopAnimation();const f={x:0,y:0};Zn(h=>{const p=this.getAxisMotionValue(h);if(p&&this.constraints!==!1){const g=p.get();f[h]=NA({min:g,max:g},this.constraints[h])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Zn(h=>{if(!Nc(h,e,null))return;const p=this.getAxisMotionValue(h),{min:g,max:v}=this.constraints[h];p.set(me(g,v,f[h]))})}addListeners(){if(!this.visualElement.current)return;BA.set(this.visualElement,this);const e=this.visualElement.current,r=Bl(e,"pointerdown",g=>{const{drag:v,dragListener:b=!0}=this.getProps();v&&b&&this.start(g)}),o=()=>{const{dragConstraints:g}=this.getProps();eo(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:f}=this.visualElement,l=f.addEventListener("measure",o);f&&!f.layout&&(f.root&&f.root.updateScroll(),f.updateLayout()),he.read(o);const h=Gl(window,"resize",()=>this.scalePositionWithinConstraints()),p=f.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:v})=>{this.isDragging&&v&&(Zn(b=>{const w=this.getAxisMotionValue(b);w&&(this.originPoint[b]+=g[b].translate,w.set(w.get()+g[b].translate))}),this.visualElement.render())}));return()=>{h(),r(),l(),p&&p()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:o=!1,dragPropagation:f=!1,dragConstraints:l=!1,dragElastic:h=Tm,dragMomentum:p=!0}=e;return{...e,drag:r,dragDirectionLock:o,dragPropagation:f,dragConstraints:l,dragElastic:h,dragMomentum:p}}}function Nc(i,e,r){return(e===!0||e===i)&&(r===null||r===i)}function VA(i,e=10){let r=null;return Math.abs(i.y)>e?r="y":Math.abs(i.x)>e&&(r="x"),r}class IA extends Ws{constructor(e){super(e),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new UA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ny=i=>(e,r)=>{i&&he.postRender(()=>i(e,r))};class HA extends Ws{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(e){this.session=new mw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:o,onPanEnd:f}=this.node.getProps();return{onSessionStart:Ny(e),onStart:Ny(r),onMove:o,onEnd:(l,h)=>{delete this.session,f&&he.postRender(()=>f(l,h))}}}mount(){this.removePointerDownListener=Bl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Dy(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const Al={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(St.test(i))i=parseFloat(i);else return i;const r=Dy(i,e.target.x),o=Dy(i,e.target.y);return`${r}% ${o}%`}},qA={correct:(i,{treeScale:e,projectionDelta:r})=>{const o=i,f=Xs.parse(i);if(f.length>5)return o;const l=Xs.createTransformer(i),h=typeof f[0]!="number"?1:0,p=r.x.scale*e.x,g=r.y.scale*e.y;f[0+h]/=p,f[1+h]/=g;const v=me(p,g,.5);return typeof f[2+h]=="number"&&(f[2+h]/=v),typeof f[3+h]=="number"&&(f[3+h]/=v),l(f)}};let Vd=!1;class ZA extends W.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o,layoutId:f}=this.props,{projection:l}=e;fC(GA),l&&(r.group&&r.group.add(l),o&&o.register&&f&&o.register(l),Vd&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:o,drag:f,isPresent:l}=this.props,{projection:h}=o;return h&&(h.isPresent=l,Vd=!0,f||e.layoutDependency!==r||r===void 0||e.isPresent!==l?h.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?h.promote():h.relegate()||he.postRender(()=>{const p=h.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_p.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:o}=this.props,{projection:f}=e;Vd=!0,f&&(f.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(f),o&&o.deregister&&o.deregister(f))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gw(i){const[e,r]=Bb(),o=W.useContext(Ym);return O.jsx(ZA,{...i,layoutGroup:o,switchLayoutGroup:W.useContext(Xb),isPresent:e,safeToRemove:r})}const GA={borderRadius:{...Al,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Al,borderTopRightRadius:Al,borderBottomLeftRadius:Al,borderBottomRightRadius:Al,boxShadow:qA};function $A(i,e,r){const o=Qe(i)?i:lo(i);return o.start(Op("",o,e,r)),o.animation}const FA=(i,e)=>i.depth-e.depth;class KA{constructor(){this.children=[],this.isDirty=!1}add(e){Jm(this.children,e),this.isDirty=!0}remove(e){Qm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FA),this.isDirty=!1,this.children.forEach(e)}}function YA(i,e){const r=xn.now(),o=({timestamp:f})=>{const l=f-r;l>=e&&(Ys(o),i(l-e))};return he.setup(o,!0),()=>Ys(o)}const _w=["TopLeft","TopRight","BottomLeft","BottomRight"],XA=_w.length,zy=i=>typeof i=="string"?parseFloat(i):i,By=i=>typeof i=="number"||St.test(i);function WA(i,e,r,o,f,l){f?(i.opacity=me(0,r.opacity??1,JA(o)),i.opacityExit=me(e.opacity??1,0,QA(o))):l&&(i.opacity=me(e.opacity??1,r.opacity??1,o));for(let h=0;h<XA;h++){const p=`border${_w[h]}Radius`;let g=Uy(e,p),v=Uy(r,p);if(g===void 0&&v===void 0)continue;g||(g=0),v||(v=0),g===0||v===0||By(g)===By(v)?(i[p]=Math.max(me(zy(g),zy(v),o),0),(Oi.test(v)||Oi.test(g))&&(i[p]+="%")):i[p]=v}(e.rotate||r.rotate)&&(i.rotate=me(e.rotate||0,r.rotate||0,o))}function Uy(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const JA=vw(0,.5,sb),QA=vw(.5,.95,$n);function vw(i,e,r){return o=>o<i?0:o>e?1:r(Vl(i,e,o))}function Vy(i,e){i.min=e.min,i.max=e.max}function ri(i,e){Vy(i.x,e.x),Vy(i.y,e.y)}function Iy(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function Hy(i,e,r,o,f){return i-=e,i=rh(i,1/r,o),f!==void 0&&(i=rh(i,1/f,o)),i}function tO(i,e=0,r=1,o=.5,f,l=i,h=i){if(Oi.test(e)&&(e=parseFloat(e),e=me(h.min,h.max,e/100)-h.min),typeof e!="number")return;let p=me(l.min,l.max,o);i===l&&(p-=e),i.min=Hy(i.min,e,r,p,f),i.max=Hy(i.max,e,r,p,f)}function qy(i,e,[r,o,f],l,h){tO(i,e[r],e[o],e[f],e.scale,l,h)}const eO=["x","scaleX","originX"],nO=["y","scaleY","originY"];function Zy(i,e,r,o){qy(i.x,e,eO,r?r.x:void 0,o?o.x:void 0),qy(i.y,e,nO,r?r.y:void 0,o?o.y:void 0)}function Gy(i){return i.translate===0&&i.scale===1}function yw(i){return Gy(i.x)&&Gy(i.y)}function $y(i,e){return i.min===e.min&&i.max===e.max}function iO(i,e){return $y(i.x,e.x)&&$y(i.y,e.y)}function Fy(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function bw(i,e){return Fy(i.x,e.x)&&Fy(i.y,e.y)}function Ky(i){return an(i.x)/an(i.y)}function Yy(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class sO{constructor(){this.members=[]}add(e){Jm(this.members,e),e.scheduleRender()}remove(e){if(Qm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(f=>e===f);if(r===0)return!1;let o;for(let f=r;f>=0;f--){const l=this.members[f];if(l.isPresent!==!1){o=l;break}}return o?(this.promote(o),!0):!1}promote(e,r){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,r&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:f}=e.options;f===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:o}=e;r.onExitComplete&&r.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rO(i,e,r){let o="";const f=i.x.translate/e.x,l=i.y.translate/e.y,h=r?.z||0;if((f||l||h)&&(o=`translate3d(${f}px, ${l}px, ${h}px) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:v,rotate:b,rotateX:w,rotateY:T,skewX:E,skewY:M}=r;v&&(o=`perspective(${v}px) ${o}`),b&&(o+=`rotate(${b}deg) `),w&&(o+=`rotateX(${w}deg) `),T&&(o+=`rotateY(${T}deg) `),E&&(o+=`skewX(${E}deg) `),M&&(o+=`skewY(${M}deg) `)}const p=i.x.scale*e.x,g=i.y.scale*e.y;return(p!==1||g!==1)&&(o+=`scale(${p}, ${g})`),o||"none"}const Id=["","X","Y","Z"],aO=1e3;let oO=0;function Hd(i,e,r,o){const{latestValues:f}=e;f[i]&&(r[i]=f[i],e.setStaticValue(i,0),o&&(o[i]=0))}function ww(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const r=aw(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:f,layoutId:l}=i.options;window.MotionCancelOptimisedAnimation(r,"transform",he,!(f||l))}const{parent:o}=i;o&&!o.hasCheckedOptimisedAppear&&ww(o)}function xw({attachResizeListener:i,defaultParent:e,measureScroll:r,checkIsScrollRoot:o,resetTransform:f}){return class{constructor(h={},p=e?.()){this.id=oO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(cO),this.nodes.forEach(mO),this.nodes.forEach(pO),this.nodes.forEach(hO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new KA)}addEventListener(h,p){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new np),this.eventHandlers.get(h).add(p)}notifyListeners(h,...p){const g=this.eventHandlers.get(h);g&&g.notify(...p)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=zb(h)&&!WE(h),this.instance=h;const{layoutId:p,layout:g,visualElement:v}=this.options;if(v&&!v.current&&v.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||p)&&(this.isLayoutDirty=!0),i){let b,w=0;const T=()=>this.root.updateBlockedByResize=!1;he.read(()=>{w=window.innerWidth}),i(h,()=>{const E=window.innerWidth;E!==w&&(w=E,this.root.updateBlockedByResize=!0,b&&b(),b=YA(T,250),Yc.hasAnimatedSinceResize&&(Yc.hasAnimatedSinceResize=!1,this.nodes.forEach(Jy)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||g)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:w,hasRelativeLayoutChanged:T,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||v.getDefaultTransition()||bO,{onLayoutAnimationStart:R,onLayoutAnimationComplete:N}=v.getProps(),z=!this.targetLayout||!bw(this.targetLayout,E),q=!w&&T;if(this.options.layoutRoot||this.resumeFrom||q||w&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...pp(M,"layout"),onPlay:R,onComplete:N};(v.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(b,q)}else w||Jy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gO),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ww(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const w=this.path[b];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:p,layout:g}=this.options;if(p===void 0&&!g)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Wy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dO),this.nodes.forEach(lO),this.nodes.forEach(uO)):this.nodes.forEach(Wy),this.clearAllSnapshots();const p=xn.now();Fe.delta=ss(0,1e3/60,p-Fe.timestamp),Fe.timestamp=p,Fe.isProcessing=!0,Md.update.process(Fe),Md.preRender.process(Fe),Md.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_p.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fO),this.sharedNodes.forEach(_O)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,he.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){he.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!an(this.snapshot.measuredBox.x)&&!an(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(p=!1),p&&this.instance){const g=o(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:g,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!f)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!yw(this.projectionDelta),g=this.getTransformTemplate(),v=g?g(this.latestValues,""):void 0,b=v!==this.prevTransformTemplateValue;h&&this.instance&&(p||Zr(this.latestValues)||b)&&(f(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const p=this.measurePageBox();let g=this.removeElementScroll(p);return h&&(g=this.removeTransform(g)),wO(g),{animationId:this.root.animationId,measuredBox:p,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return Ne();const p=h.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(xO))){const{scroll:v}=this.root;v&&(no(p.x,v.offset.x),no(p.y,v.offset.y))}return p}removeElementScroll(h){const p=Ne();if(ri(p,h),this.scroll?.wasRoot)return p;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:b,options:w}=v;v!==this.root&&b&&w.layoutScroll&&(b.wasRoot&&ri(p,h),no(p.x,b.offset.x),no(p.y,b.offset.y))}return p}applyTransform(h,p=!1){const g=Ne();ri(g,h);for(let v=0;v<this.path.length;v++){const b=this.path[v];!p&&b.options.layoutScroll&&b.scroll&&b!==b.root&&io(g,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Zr(b.latestValues)&&io(g,b.latestValues)}return Zr(this.latestValues)&&io(g,this.latestValues),g}removeTransform(h){const p=Ne();ri(p,h);for(let g=0;g<this.path.length;g++){const v=this.path[g];if(!v.instance||!Zr(v.latestValues))continue;vm(v.latestValues)&&v.updateSnapshot();const b=Ne(),w=v.measurePageBox();ri(b,w),Zy(p,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,b)}return Zr(this.latestValues)&&Zy(p,this.latestValues),p}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(h||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:w}=this.options;if(!this.layout||!(b||w))return;this.resolvedRelativeTargetAt=Fe.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ne(),this.targetWithTransforms=Ne()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ri(this.target,this.layout.layoutBox),tw(this.target,this.targetDelta)):ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||vm(this.parent.latestValues)||Qb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(h,p,g){this.relativeParent=h,this.linkedParentVersion=h.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),ah(this.relativeTargetOrigin,p,g),ri(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const h=this.getLead(),p=!!this.resumingFrom||this!==h;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(g=!1),g)return;const{layout:v,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||b))return;ri(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,T=this.treeScale.y;VC(this.layoutCorrected,this.treeScale,this.path,p),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Ne());const{target:E}=h;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Iy(this.prevProjectionDelta.x,this.projectionDelta.x),Iy(this.prevProjectionDelta.y,this.projectionDelta.y)),Ul(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==T||!Yy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Yy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.visualElement?.scheduleRender(),h){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=so(),this.projectionDelta=so(),this.projectionDeltaWithTransform=so()}setAnimationOrigin(h,p=!1){const g=this.snapshot,v=g?g.latestValues:{},b={...this.latestValues},w=so();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const T=Ne(),E=g?g.source:void 0,M=this.layout?this.layout.source:void 0,R=E!==M,N=this.getStack(),z=!N||N.members.length<=1,q=!!(R&&!z&&this.options.crossfade===!0&&!this.path.some(yO));this.animationProgress=0;let B;this.mixTargetDelta=tt=>{const nt=tt/1e3;Qy(w.x,h.x,nt),Qy(w.y,h.y,nt),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ah(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vO(this.relativeTarget,this.relativeTargetOrigin,T,nt),B&&iO(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=Ne()),ri(B,this.relativeTarget)),R&&(this.animationValues=b,WA(b,v,this.latestValues,nt,q,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=he.update(()=>{Yc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lo(0)),this.currentAnimation=$A(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),h.onUpdate&&h.onUpdate(p)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:p,target:g,layout:v,latestValues:b}=h;if(!(!p||!g||!v)){if(this!==h&&this.layout&&v&&Sw(this.options.animationType,this.layout.layoutBox,v.layoutBox)){g=this.target||Ne();const w=an(this.layout.layoutBox.x);g.x.min=h.target.x.min,g.x.max=g.x.min+w;const T=an(this.layout.layoutBox.y);g.y.min=h.target.y.min,g.y.max=g.y.min+T}ri(p,g),io(p,b),Ul(this.projectionDeltaWithTransform,this.layoutCorrected,p,b)}}registerSharedNode(h,p){this.sharedNodes.has(h)||this.sharedNodes.set(h,new sO),this.sharedNodes.get(h).add(p);const v=p.options.initialPromotionConfig;p.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(p):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){const{layoutId:h}=this.options;return h?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:h}=this.options;return h?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:p,preserveFollowOpacity:g}={}){const v=this.getStack();v&&v.promote(this,g),h&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let p=!1;const{latestValues:g}=h;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(p=!0),!p)return;const v={};g.z&&Hd("z",h,v,this.animationValues);for(let b=0;b<Id.length;b++)Hd(`rotate${Id[b]}`,h,v,this.animationValues),Hd(`skew${Id[b]}`,h,v,this.animationValues);h.render();for(const b in v)h.setStaticValue(b,v[b]),this.animationValues&&(this.animationValues[b]=v[b]);h.scheduleRender()}applyProjectionStyles(h,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=Kc(p?.pointerEvents)||"",h.transform=g?g(this.latestValues,""):"none";return}const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=Kc(p?.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(h.transform=g?g({},""):"none",this.hasProjected=!1);return}h.visibility="";const b=v.animationValues||v.latestValues;this.applyTransformsToTarget();let w=rO(this.projectionDeltaWithTransform,this.treeScale,b);g&&(w=g(b,w)),h.transform=w;const{x:T,y:E}=this.projectionDelta;h.transformOrigin=`${T.origin*100}% ${E.origin*100}% 0`,v.animationValues?h.opacity=v===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:h.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const M in Zl){if(b[M]===void 0)continue;const{correct:R,applyTo:N,isCSSVariable:z}=Zl[M],q=w==="none"?b[M]:R(b[M],v);if(N){const B=N.length;for(let tt=0;tt<B;tt++)h[N[tt]]=q}else z?this.options.visualElement.renderState.vars[M]=q:h[M]=q}this.options.layoutId&&(h.pointerEvents=v===this?Kc(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>h.currentAnimation?.stop()),this.root.nodes.forEach(Xy),this.root.sharedNodes.clear()}}}function lO(i){i.updateLayout()}function uO(i){const e=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&e&&i.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=i.layout,{animationType:f}=i.options,l=e.source!==i.layout.source;f==="size"?Zn(b=>{const w=l?e.measuredBox[b]:e.layoutBox[b],T=an(w);w.min=r[b].min,w.max=w.min+T}):Sw(f,e.layoutBox,r)&&Zn(b=>{const w=l?e.measuredBox[b]:e.layoutBox[b],T=an(r[b]);w.max=w.min+T,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[b].max=i.relativeTarget[b].min+T)});const h=so();Ul(h,r,e.layoutBox);const p=so();l?Ul(p,i.applyTransform(o,!0),e.measuredBox):Ul(p,r,e.layoutBox);const g=!yw(h);let v=!1;if(!i.resumeFrom){const b=i.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:w,layout:T}=b;if(w&&T){const E=Ne();ah(E,e.layoutBox,w.layoutBox);const M=Ne();ah(M,r,T.layoutBox),bw(E,M)||(v=!0),b.options.layoutRoot&&(i.relativeTarget=M,i.relativeTargetOrigin=E,i.relativeParent=b)}}}i.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:p,layoutDelta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(i.isLead()){const{onExitComplete:r}=i.options;r&&r()}i.options.transition=void 0}function cO(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function hO(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function fO(i){i.clearSnapshot()}function Xy(i){i.clearMeasurements()}function Wy(i){i.isLayoutDirty=!1}function dO(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function Jy(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function mO(i){i.resolveTargetDelta()}function pO(i){i.calcProjection()}function gO(i){i.resetSkewAndRotation()}function _O(i){i.removeLeadSnapshot()}function Qy(i,e,r){i.translate=me(e.translate,0,r),i.scale=me(e.scale,1,r),i.origin=e.origin,i.originPoint=e.originPoint}function t0(i,e,r,o){i.min=me(e.min,r.min,o),i.max=me(e.max,r.max,o)}function vO(i,e,r,o){t0(i.x,e.x,r.x,o),t0(i.y,e.y,r.y,o)}function yO(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const bO={duration:.45,ease:[.4,0,.1,1]},e0=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),n0=e0("applewebkit/")&&!e0("chrome/")?Math.round:$n;function i0(i){i.min=n0(i.min),i.max=n0(i.max)}function wO(i){i0(i.x),i0(i.y)}function Sw(i,e,r){return i==="position"||i==="preserve-aspect"&&!AA(Ky(e),Ky(r),.2)}function xO(i){return i!==i.root&&i.scroll?.wasRoot}const SO=xw({attachResizeListener:(i,e)=>Gl(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qd={current:void 0},Tw=xw({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!qd.current){const i=new SO({});i.mount(window),i.setOptions({layoutScroll:!0}),qd.current=i}return qd.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),TO={pan:{Feature:HA},drag:{Feature:IA,ProjectionNode:Tw,MeasureLayout:gw}};function s0(i,e,r){const{props:o}=i;i.animationState&&o.whileHover&&i.animationState.setActive("whileHover",r==="Start");const f="onHover"+r,l=o[f];l&&he.postRender(()=>l(e,eu(e)))}class EO extends Ws{mount(){const{current:e}=this.node;e&&(this.unmount=$E(e,(r,o)=>(s0(this.node,o,"Start"),f=>s0(this.node,f,"End"))))}unmount(){}}class CO extends Ws{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jl(Gl(this.node.current,"focus",()=>this.onFocus()),Gl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function r0(i,e,r){const{props:o}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&o.whileTap&&i.animationState.setActive("whileTap",r==="Start");const f="onTap"+(r==="End"?"":r),l=o[f];l&&he.postRender(()=>l(e,eu(e)))}class AO extends Ws{mount(){const{current:e}=this.node;e&&(this.unmount=XE(e,(r,o)=>(r0(this.node,o,"Start"),(f,{success:l})=>r0(this.node,f,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Em=new WeakMap,Zd=new WeakMap,OO=i=>{const e=Em.get(i.target);e&&e(i)},LO=i=>{i.forEach(OO)};function MO({root:i,...e}){const r=i||document;Zd.has(r)||Zd.set(r,{});const o=Zd.get(r),f=JSON.stringify(e);return o[f]||(o[f]=new IntersectionObserver(LO,{root:i,...e})),o[f]}function RO(i,e,r){const o=MO(e);return Em.set(i,r),o.observe(i),()=>{Em.delete(i),o.unobserve(i)}}const kO={some:0,all:1};class jO extends Ws{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:o,amount:f="some",once:l}=e,h={root:r?r.current:void 0,rootMargin:o,threshold:typeof f=="number"?f:kO[f]},p=g=>{const{isIntersecting:v}=g;if(this.isInView===v||(this.isInView=v,l&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:b,onViewportLeave:w}=this.node.getProps(),T=v?b:w;T&&T(g)};return RO(this.node.current,h,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(PO(e,r))&&this.startObserver()}unmount(){}}function PO({viewport:i={}},{viewport:e={}}={}){return r=>i[r]!==e[r]}const NO={inView:{Feature:jO},tap:{Feature:AO},focus:{Feature:CO},hover:{Feature:EO}},DO={layout:{ProjectionNode:Tw,MeasureLayout:gw}},zO={...wA,...NO,...TO,...DO},Qt=zC(zO,XC);const BO=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UO=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,o)=>o?o.toUpperCase():r.toLowerCase()),a0=i=>{const e=UO(i);return e.charAt(0).toUpperCase()+e.slice(1)},Ew=(...i)=>i.filter((e,r,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===r).join(" ").trim(),VO=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var IO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HO=W.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:f="",children:l,iconNode:h,...p},g)=>W.createElement("svg",{ref:g,...IO,width:e,height:e,stroke:i,strokeWidth:o?Number(r)*24/Number(e):r,className:Ew("lucide",f),...!l&&!VO(p)&&{"aria-hidden":"true"},...p},[...h.map(([v,b])=>W.createElement(v,b)),...Array.isArray(l)?l:[l]]));const fe=(i,e)=>{const r=W.forwardRef(({className:o,...f},l)=>W.createElement(HO,{ref:l,iconNode:e,className:Ew(`lucide-${BO(a0(i))}`,`lucide-${i}`,o),...f}));return r.displayName=a0(i),r};const qO=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],ZO=fe("arrow-down-right",qO);const GO=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],$O=fe("arrow-up-right",GO);const FO=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],KO=fe("briefcase",FO);const YO=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],XO=fe("building-2",YO);const WO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],JO=fe("calendar",WO);const QO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tL=fe("chevron-down",QO);const eL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],nL=fe("chevron-up",eL);const iL=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],sL=fe("chevrons-up-down",iL);const rL=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],aL=fe("database",rL);const oL=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Lp=fe("external-link",oL);const lL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],uL=fe("funnel",lL);const cL=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],hL=fe("github",cL);const fL=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],dL=fe("heart",fL);const mL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Cm=fe("map-pin",mL);const pL=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],gL=fe("map",pL);const _L=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],o0=fe("search",_L);const vL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],yL=fe("sparkles",vL);const bL=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],wL=fe("table-2",bL);const xL=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],SL=fe("trending-down",xL);const TL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Mp=fe("trending-up",TL);const EL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CL=fe("users",EL);const AL=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],OL=fe("wallet",AL);const LL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cw=fe("x",LL);const ML=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],RL=fe("zap",ML);function Gd(i){return i?i>=1e9?`${(i/1e9).toFixed(1)} mdr`:i>=1e6?`${(i/1e6).toFixed(0)} mkr`:`${(i/1e3).toFixed(0)} tkr`:"-"}function kL(i){return i==null?"-":`${i>=0?"+":""}${i.toFixed(1)}%`}function jL({companies:i}){const{filters:e,setSelectedCompany:r}=ea(),[o,f]=W.useState(null),[l,h]=W.useState(null),p=b=>{o===b?l==="asc"?h("desc"):l==="desc"&&(f(null),h(null)):(f(b),h("asc"))},g=b=>o!==b?O.jsx(sL,{className:"w-3.5 h-3.5 text-gray-400"}):l==="asc"?O.jsx(nL,{className:"w-3.5 h-3.5 text-primary-blue"}):O.jsx(tL,{className:"w-3.5 h-3.5 text-primary-blue"}),v=W.useMemo(()=>{let b=i.filter(w=>{if(e.sector&&w.sector!==e.sector)return!1;if(e.search){const T=e.search.toLowerCase();return w.name.toLowerCase().includes(T)||w.city?.toLowerCase().includes(T)||w.sector?.toLowerCase().includes(T)}return!0});return o&&l&&(b=[...b].sort((w,T)=>{let E=0;switch(o){case"name":E=w.name.localeCompare(T.name,"sv");break;case"sector":E=(w.sector||"").localeCompare(T.sector||"","sv");break;case"turnover":E=(w.turnover_2024_sek||0)-(T.turnover_2024_sek||0);break;case"growth":E=(w.growth_2023_2024_percent||-1/0)-(T.growth_2023_2024_percent||-1/0);break;case"funding":E=(w.total_funding_sek||0)-(T.total_funding_sek||0);break;case"valuation":E=(w.latest_valuation_sek||0)-(T.latest_valuation_sek||0);break;case"city":E=(w.city||"").localeCompare(T.city||"","sv");break}return l==="asc"?E:-E})),b},[i,e.sector,e.search,o,l]);return O.jsxs(Qt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full overflow-auto bg-gradient-to-b from-white to-gray-50",children:[O.jsxs("div",{className:"min-w-[900px]",children:[O.jsx("div",{className:"sticky top-0 bg-white border-b-2 border-gray-200 z-10 shadow-sm",children:O.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-4 text-xs font-bold text-gray-600 uppercase tracking-wider",children:[O.jsxs("button",{onClick:()=>p("name"),className:"col-span-3 flex items-center gap-1.5 hover:text-gray-900 transition-colors text-left",children:["Fretag ",g("name")]}),O.jsxs("button",{onClick:()=>p("sector"),className:"col-span-2 flex items-center gap-1.5 hover:text-gray-900 transition-colors text-left",children:["Sektor ",g("sector")]}),O.jsxs("button",{onClick:()=>p("turnover"),className:"col-span-1 flex items-center justify-end gap-1.5 hover:text-gray-900 transition-colors",children:["Omsttning ",g("turnover")]}),O.jsxs("button",{onClick:()=>p("growth"),className:"col-span-1 flex items-center justify-end gap-1.5 hover:text-gray-900 transition-colors",children:["Tillvxt ",g("growth")]}),O.jsxs("button",{onClick:()=>p("funding"),className:"col-span-1 flex items-center justify-end gap-1.5 hover:text-gray-900 transition-colors",children:["Funding ",g("funding")]}),O.jsxs("button",{onClick:()=>p("valuation"),className:"col-span-1 flex items-center justify-end gap-1.5 hover:text-gray-900 transition-colors",children:["Vrdering ",g("valuation")]}),O.jsxs("button",{onClick:()=>p("city"),className:"col-span-2 flex items-center gap-1.5 hover:text-gray-900 transition-colors text-left",children:["Plats ",g("city")]}),O.jsx("div",{className:"col-span-1"})]})}),O.jsx("div",{className:"divide-y divide-gray-100",children:v.map((b,w)=>O.jsxs(Qt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Math.min(w*.015,.5),duration:.25},onClick:()=>r(b),className:`grid grid-cols-12 gap-4 px-6 py-5 cursor-pointer transition-all duration-300 group hover:scale-[1.01] hover:shadow-lg hover:z-10 rounded-lg mx-2 my-1 ${w%2===0?"bg-white hover:bg-gradient-to-r hover:from-white hover:to-gray-50":"bg-gray-50/50 hover:bg-gradient-to-r hover:from-gray-50 hover:to-white"}`,children:[O.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[b.logo_url?O.jsx("div",{className:"relative",children:O.jsx("img",{src:b.logo_url,alt:b.name,className:"w-10 h-10 rounded-xl object-contain bg-gradient-to-br from-gray-50 to-gray-100 p-1.5 border border-gray-200 shadow-sm group-hover:shadow-md transition-all duration-300"})}):O.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-loop-lime via-loop-lime-dark to-loop-lime flex items-center justify-center text-loop-black font-bold text-sm shadow-md group-hover:shadow-lg transition-all duration-300 group-hover:scale-110",children:b.name.charAt(0)}),O.jsxs("div",{className:"min-w-0",children:[O.jsx("div",{className:"font-semibold text-gray-900 truncate group-hover:text-primary-blue transition-colors duration-300",children:b.name}),O.jsx("div",{className:"text-xs text-gray-400 font-mono mt-0.5",children:b.orgnr})]})]}),O.jsx("div",{className:"col-span-2 flex items-center",children:b.sector?O.jsx("span",{className:"inline-flex items-center px-3 py-1.5 rounded-xl text-xs font-semibold bg-gradient-to-r from-primary-blue/10 to-purple/10 text-primary-blue border border-primary-blue/20 truncate group-hover:shadow-md transition-all duration-300",children:b.sector}):O.jsx("span",{className:"text-gray-300",children:"-"})}),O.jsx("div",{className:"col-span-1 flex items-center justify-end",children:O.jsx("span",{className:"font-bold text-gray-900 tabular-nums text-sm",children:Gd(b.turnover_2024_sek)})}),O.jsx("div",{className:"col-span-1 flex items-center justify-end gap-1.5",children:b.growth_2023_2024_percent!==null?O.jsxs(O.Fragment,{children:[O.jsx("div",{className:`p-1 rounded-lg ${b.growth_2023_2024_percent>=0?"bg-green-100":"bg-red-100"}`,children:b.growth_2023_2024_percent>=0?O.jsx(Mp,{className:"w-3.5 h-3.5 text-green-600"}):O.jsx(SL,{className:"w-3.5 h-3.5 text-red-600"})}),O.jsx("span",{className:`font-bold tabular-nums text-sm ${b.growth_2023_2024_percent>=0?"text-green-600":"text-red-600"}`,children:kL(b.growth_2023_2024_percent)})]}):O.jsx("span",{className:"text-gray-300",children:"-"})}),O.jsx("div",{className:"col-span-1 flex items-center justify-end",children:O.jsx("span",{className:"text-gray-600 tabular-nums",children:Gd(b.total_funding_sek)})}),O.jsx("div",{className:"col-span-1 flex items-center justify-end",children:O.jsx("span",{className:"text-gray-600 tabular-nums",children:Gd(b.latest_valuation_sek)})}),O.jsxs("div",{className:"col-span-2 flex items-center gap-1 text-gray-500",children:[O.jsx(Cm,{className:"w-3 h-3 flex-shrink-0"}),O.jsx("span",{className:"truncate text-sm",children:b.city||b.county||"Sverige"})]}),O.jsx("div",{className:"col-span-1 flex items-center justify-end",children:O.jsx("a",{href:`https://www.allabolag.se/${b.orgnr}`,target:"_blank",rel:"noopener noreferrer",onClick:T=>T.stopPropagation(),className:"p-2 rounded-xl text-gray-400 hover:text-white hover:bg-gradient-to-br hover:from-primary-blue hover:to-purple transition-all duration-300 hover:shadow-lg hover:scale-110",children:O.jsx(Lp,{className:"w-4 h-4"})})})]},b.orgnr))}),v.length===0&&O.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-500",children:[O.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:O.jsx(Cm,{className:"w-6 h-6 text-gray-400"})}),O.jsx("p",{className:"text-sm",children:"Inga fretag matchar din skning"})]})]}),O.jsx("div",{className:"sticky bottom-0 bg-white border-t-2 border-gray-200 px-6 py-4 shadow-sm",children:O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:["Visar ",O.jsx("span",{className:"font-bold text-gray-900 tabular-nums",children:v.length})," av ",O.jsx("span",{className:"font-bold text-gray-900 tabular-nums",children:i.length})," fretag"]}),o&&O.jsxs("p",{className:"text-xs text-gray-500",children:["Sorterat p: ",O.jsx("span",{className:"text-primary-blue font-semibold",children:o})," (",l==="asc"?"":"",")"]})]})})]})}function $d(i){return i?i>=1e9?`${(i/1e9).toFixed(1)} mdr kr`:i>=1e6?`${(i/1e6).toFixed(0)} mkr`:`${(i/1e3).toFixed(0)} tkr`:"-"}function PL(i){return i?`${i>=0?"+":""}${i.toFixed(1)}%`:"-"}function Dc({icon:i,label:e,value:r,subValue:o,highlight:f,trend:l,delay:h=0}){return O.jsxs(Qt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:h,duration:.3},whileHover:{scale:1.02},className:`relative p-5 rounded-2xl border transition-all duration-300 group hover:shadow-xl ${f?"bg-gradient-to-br from-loop-lime/10 via-loop-lime/5 to-white border-loop-lime/30 hover:border-loop-lime/50 hover:shadow-lime-200/30":"bg-gradient-to-br from-white to-gray-50 border-gray-200 hover:border-gray-300"}`,children:[O.jsx("div",{className:`absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 ${f?"bg-gradient-to-br from-loop-lime/10 to-transparent":"bg-gradient-to-br from-primary-blue/5 to-transparent"}`}),O.jsxs("div",{className:"relative",children:[O.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs mb-3",children:[O.jsx("div",{className:`p-1.5 rounded-xl ${f?"bg-loop-lime/30":"bg-gray-100"}`,children:i}),O.jsx("span",{className:"font-semibold uppercase tracking-wide",children:e})]}),O.jsxs("div",{className:`font-bold text-xl tabular-nums ${f?"text-loop-black":"text-gray-900"}`,children:[r,l&&O.jsx("span",{className:"inline-block ml-2",children:l==="up"?O.jsx($O,{className:"w-5 h-5 text-green-600 inline"}):O.jsx(ZO,{className:"w-5 h-5 text-red-600 inline"})})]}),o&&O.jsx("div",{className:"text-xs text-gray-500 mt-1.5 font-medium",children:o})]})]})}function NL(){const{selectedCompany:i,setSelectedCompany:e}=ea();return O.jsx(ih,{children:i&&O.jsxs(O.Fragment,{children:[O.jsx(Qt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(null),className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-[999] md:hidden"}),O.jsxs(Qt.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:30,stiffness:300},className:"fixed right-0 top-0 h-full w-full sm:w-[480px] bg-gradient-to-b from-white via-gray-50 to-white shadow-2xl z-[1000] overflow-y-auto border-l border-gray-200",children:[O.jsx("div",{className:"sticky top-0 bg-gradient-to-br from-white/95 via-gray-50/95 to-white/95 backdrop-blur-xl border-b border-gray-200 z-10 shadow-md",children:O.jsx("div",{className:"p-5",children:O.jsxs("div",{className:"flex items-start justify-between gap-3",children:[O.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[i.logo_url?O.jsxs(Qt.div,{initial:{scale:.8,opacity:0,rotate:-5},animate:{scale:1,opacity:1,rotate:0},transition:{type:"spring",damping:15},className:"relative",children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-loop-lime/20 to-primary-blue/20 rounded-2xl blur-md"}),O.jsx("img",{src:i.logo_url,alt:i.name,className:"relative w-16 h-16 rounded-2xl object-contain bg-white p-2 border-2 border-gray-200 shadow-lg"})]}):O.jsx(Qt.div,{initial:{scale:.8,opacity:0,rotate:-5},animate:{scale:1,opacity:1,rotate:0},transition:{type:"spring",damping:15},className:"relative w-16 h-16 rounded-2xl bg-gradient-to-br from-loop-lime via-loop-lime-dark to-loop-lime flex items-center justify-center text-loop-black font-bold text-2xl shadow-xl shadow-lime-200/50 flex-shrink-0",children:i.name.charAt(0)}),O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsx("h2",{className:"font-serif font-bold text-gray-900 text-2xl leading-tight mb-2 pr-2",children:i.name}),i.sector&&O.jsx("span",{className:"inline-block px-3 py-1.5 bg-gradient-to-r from-primary-blue/10 to-purple/10 text-primary-blue border border-primary-blue/30 text-xs font-bold rounded-xl shadow-sm",children:i.sector})]})]}),O.jsx("button",{onClick:()=>e(null),className:"p-2.5 hover:bg-gray-100 rounded-2xl transition-all duration-300 flex-shrink-0 hover:scale-110 hover:rotate-90","aria-label":"Stng",children:O.jsx(Cw,{className:"w-6 h-6 text-gray-500"})})]})})}),O.jsxs("div",{className:"p-5 space-y-6",children:[O.jsxs(Qt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center gap-3 text-gray-700 px-4 py-3 bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-200 shadow-sm",children:[O.jsx("div",{className:"p-2 bg-primary-blue/10 rounded-xl",children:O.jsx(Cm,{className:"w-4 h-4 text-primary-blue"})}),O.jsx("span",{className:"text-sm font-semibold",children:[i.city,i.county].filter(Boolean).join(", ")||"Sverige"})]}),O.jsxs("div",{children:[O.jsxs("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-4 px-1 flex items-center gap-2",children:[O.jsx("div",{className:"w-1 h-4 bg-gradient-to-b from-loop-lime to-loop-lime-dark rounded-full"}),"Nyckeltal"]}),O.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[O.jsx(Dc,{icon:O.jsx(KO,{className:"w-3.5 h-3.5"}),label:"Omsttning 2024",value:$d(i.turnover_2024_sek),highlight:!!i.turnover_2024_sek,delay:.15}),O.jsx(Dc,{icon:O.jsx(Mp,{className:"w-3.5 h-3.5"}),label:"Tillvxt",value:PL(i.growth_2023_2024_percent),highlight:i.growth_2023_2024_percent!==null&&i.growth_2023_2024_percent>0,trend:i.growth_2023_2024_percent!==null?i.growth_2023_2024_percent>0?"up":"down":null,delay:.2}),O.jsx(Dc,{icon:O.jsx(CL,{className:"w-3.5 h-3.5"}),label:"Total Funding",value:$d(i.total_funding_sek),delay:.25}),O.jsx(Dc,{icon:O.jsx(JO,{className:"w-3.5 h-3.5"}),label:"Vrdering",value:$d(i.latest_valuation_sek),delay:.3})]})]}),O.jsxs("div",{children:[O.jsxs("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-4 px-1 flex items-center gap-2",children:[O.jsx("div",{className:"w-1 h-4 bg-gradient-to-b from-primary-blue to-purple rounded-full"}),"Fretagsinfo"]}),O.jsxs(Qt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.35},className:"bg-gradient-to-br from-gray-50 to-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[i.investment_status&&O.jsxs("div",{className:"flex justify-between px-4 py-3 border-b border-gray-200 hover:bg-white transition-colors",children:[O.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"Investeringsstatus"}),O.jsx("span",{className:"text-gray-900 text-sm font-semibold",children:i.investment_status})]}),i.foundation_date&&O.jsxs("div",{className:"flex justify-between px-4 py-3 border-b border-gray-200 hover:bg-white transition-colors",children:[O.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"Grundat"}),O.jsx("span",{className:"text-gray-900 text-sm font-semibold",children:new Date(i.foundation_date).getFullYear()})]}),i.ceo_contact&&O.jsxs("div",{className:"flex justify-between px-4 py-3 border-b border-gray-200 hover:bg-white transition-colors",children:[O.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"VD"}),O.jsx("span",{className:"text-gray-900 text-sm font-semibold",children:i.ceo_contact})]}),O.jsxs("div",{className:"flex justify-between px-4 py-3 hover:bg-white transition-colors",children:[O.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"Org.nr"}),O.jsx("span",{className:"text-gray-900 text-sm font-mono font-semibold",children:i.orgnr})]})]})]}),O.jsx(Qt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"pt-2",children:O.jsxs("a",{href:`https://www.allabolag.se/${i.orgnr}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full py-4 bg-gradient-to-r from-primary-blue via-primary-blue to-purple hover:from-purple hover:to-primary-blue text-white rounded-2xl font-bold transition-all shadow-lg hover:shadow-xl hover:scale-105 group",children:[O.jsx(Lp,{className:"w-5 h-5 group-hover:scale-110 group-hover:rotate-12 transition-transform"}),"Visa p Allabolag"]})})]})]})]})})}const DL=["Climate Tech","Health Tech","Fintech","EdTech","Impact"];function zL({companyCount:i,loading:e}){const{filters:r,setFilters:o,viewMode:f,setViewMode:l}=ea(),[h,p]=W.useState(!1),[g,v]=W.useState(!1);return O.jsxs("header",{className:"relative bg-gradient-to-r from-white via-gray-50/50 to-white border-b border-gray-200",children:[O.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-loop-lime via-teal-400 to-loop-lime"}),O.jsxs("div",{className:"relative px-4 sm:px-6 py-4 pt-5",children:[O.jsxs("div",{className:"flex items-center justify-between gap-4",children:[O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsxs(Qt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"relative w-12 h-12 rounded-2xl bg-gradient-to-br from-[#0A0A0A] via-[#1A1A1A] to-[#0A0A0A] flex items-center justify-center shadow-lg group hover:shadow-xl transition-all duration-300",children:[O.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-loop-lime/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),O.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-loop-lime via-loop-lime-dark to-loop-lime shadow-[0_0_12px_rgba(205,255,0,0.6)] group-hover:shadow-[0_0_20px_rgba(205,255,0,0.8)] transition-all duration-300"})]}),O.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[O.jsxs("div",{children:[O.jsx("h1",{className:"font-serif font-bold text-gray-900 text-lg sm:text-2xl leading-tight tracking-tight",children:"Loop Tool"}),O.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 font-medium mt-0.5 sm:mt-1 hidden xs:block",children:e?O.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[O.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-gray-400 animate-pulse"}),"Laddar..."]}):"Impact Ecosystem"})]}),!e&&O.jsxs(Qt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,duration:.5},className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-2xl bg-gradient-to-r from-loop-lime via-loop-lime to-loop-lime-dark shadow-md shadow-lime-200/50 border border-lime-300/30 group hover:shadow-lg hover:shadow-lime-200/60 transition-all duration-300",children:[O.jsx("div",{className:"w-2 h-2 rounded-full bg-loop-black shadow-[0_0_6px_rgba(10,10,10,0.8)] animate-pulse"}),O.jsx("span",{className:"text-sm font-bold text-loop-black tabular-nums",children:i.toLocaleString("sv-SE")}),O.jsx("span",{className:"text-xs font-semibold text-loop-black/70",children:"fretag"})]})]})]}),O.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[O.jsxs("div",{className:"flex items-center bg-loop-black rounded-xl sm:rounded-2xl p-0.5 sm:p-1 shadow-xl border border-gray-800",children:[O.jsxs("button",{onClick:()=>l("map"),className:`flex items-center gap-1 sm:gap-2 px-3 sm:px-5 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold transition-all duration-300 ${f==="map"?"bg-gradient-to-r from-loop-lime to-loop-lime-dark text-loop-black shadow-lg shadow-lime-500/30 scale-105":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[O.jsx(gL,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),O.jsx("span",{className:"hidden sm:inline",children:"Karta"})]}),O.jsxs("button",{onClick:()=>l("table"),className:`flex items-center gap-1 sm:gap-2 px-3 sm:px-5 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold transition-all duration-300 ${f==="table"?"bg-gradient-to-r from-loop-lime to-loop-lime-dark text-loop-black shadow-lg shadow-lime-500/30 scale-105":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[O.jsx(wL,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),O.jsx("span",{className:"hidden sm:inline",children:"Data"})]})]}),O.jsx(ih,{mode:"wait",children:h?O.jsxs(Qt.div,{initial:{width:0,opacity:0},animate:{width:"auto",opacity:1},exit:{width:0,opacity:0},transition:{duration:.2},className:"flex items-center gap-2",children:[O.jsxs("div",{className:"relative",children:[O.jsx(o0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"}),O.jsx("input",{type:"text",placeholder:"Sk fretag, stad, sektor...",value:r.search,onChange:w=>o({...r,search:w.target.value}),className:`w-64 sm:w-96 pl-12 pr-4 py-3 text-sm bg-white/90 backdrop-blur-sm border border-gray-300 rounded-2xl
                               focus:outline-none focus:ring-2 focus:ring-loop-lime/60 focus:border-loop-lime
                               shadow-lg hover:border-gray-400 hover:shadow-xl transition-all duration-300
                               placeholder:text-gray-400 font-medium`,autoFocus:!0}),r.search&&O.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 px-1.5 py-0.5 bg-lime-100 text-lime-700 text-xs font-medium rounded",children:[b()," resultat"]})]}),O.jsx("button",{onClick:()=>{p(!1),o({...r,search:""})},className:"p-3 hover:bg-gray-100 rounded-2xl transition-all duration-300 hover:scale-110","aria-label":"Stng sk",children:O.jsx(Cw,{className:"w-5 h-5 text-gray-500"})})]},"search-input"):O.jsxs(Qt.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>p(!0),className:`flex items-center gap-2 px-5 py-3 text-sm font-semibold text-gray-700
                           bg-white/90 backdrop-blur-sm hover:bg-white border border-gray-300 rounded-2xl
                           shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300`,children:[O.jsx(o0,{className:"w-5 h-5"}),O.jsx("span",{className:"hidden sm:inline",children:"Sk fretag"})]},"search-button")})]})]}),!e&&O.jsxs(Qt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center gap-2 mt-4 overflow-x-auto pb-1 scrollbar-hide",children:[O.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide mr-2 flex-shrink-0",children:"Filter:"}),O.jsxs("button",{onClick:()=>o({...r,sector:null}),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold transition-all duration-200 flex-shrink-0 ${r.sector?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-loop-lime text-loop-black shadow-md"}`,children:[O.jsx(yL,{className:"w-3 h-3"}),"Alla"]}),DL.map(w=>O.jsx("button",{onClick:()=>o({...r,sector:r.sector===w?null:w}),className:`px-3 py-1.5 rounded-full text-xs font-semibold transition-all duration-200 flex-shrink-0 ${r.sector===w?"bg-primary-blue text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:w},w)),O.jsxs("button",{onClick:()=>v(!g),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold bg-gray-100 text-gray-600 hover:bg-gray-200 transition-all duration-200 flex-shrink-0",children:[O.jsx(uL,{className:"w-3 h-3"}),"Mer"]})]})]})]});function b(){return i}}function BL(){return O.jsx(Qt.footer,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-50 text-gray-700 border-t border-gray-200",children:O.jsx("div",{className:"px-6 py-4",children:O.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-gray-900 to-gray-700 flex items-center justify-center shadow-sm",children:O.jsx(aL,{className:"w-4 h-4 text-loop-lime"})}),O.jsxs("div",{children:[O.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:"Loop Tool"}),O.jsx("p",{className:"text-xs text-gray-500",children:"Impact investing database"})]})]}),O.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[O.jsxs("a",{href:"https://impactloop.se",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-gray-500 hover:text-gray-900 transition-colors",children:[O.jsx(Lp,{className:"w-3.5 h-3.5"}),"Impact Loop"]}),O.jsxs("a",{href:"https://github.com/isakskogstad/Loop-Tool",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-gray-500 hover:text-gray-900 transition-colors",children:[O.jsx(hL,{className:"w-3.5 h-3.5"}),"GitHub"]})]}),O.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[O.jsx("span",{children:"Byggd med"}),O.jsx(dL,{className:"w-3 h-3 text-red-400"}),O.jsx("span",{children:"fr svenska impact-investerare"})]})]})})})}function Aw(i,e=2e3){const[r,o]=W.useState(0);return W.useEffect(()=>{if(i===0)return;const f=60,l=i/f,h=e/f;let p=0;const g=setInterval(()=>{p+=l,p>=i?(o(i),clearInterval(g)):o(Math.floor(p))},h);return()=>clearInterval(g)},[i,e]),r}function UL({value:i,label:e,suffix:r="",icon:o}){const f=Aw(i);return O.jsxs(Qt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-5 text-white overflow-hidden group",children:[O.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-loop-lime to-teal-400"}),O.jsxs("div",{className:"relative",children:[O.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[O.jsx("div",{className:"p-1.5 bg-loop-lime/20 rounded-lg",children:o}),O.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e})]}),O.jsxs("div",{className:"flex items-baseline gap-2",children:[O.jsx("span",{className:"text-4xl sm:text-5xl font-bold tabular-nums text-loop-lime",children:f.toLocaleString("sv-SE")}),r&&O.jsx("span",{className:"text-lg font-semibold text-gray-400",children:r})]})]})]})}function Fd({value:i,label:e,suffix:r="",prefix:o="",icon:f,gradient:l,delay:h=0}){const p=Aw(i);return O.jsxs(Qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h,duration:.5},className:"relative bg-white rounded-2xl p-5 border border-gray-200/60 shadow-sm hover:shadow-xl hover:border-gray-300 transition-all duration-300 group overflow-hidden",children:[O.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),O.jsxs("div",{className:"relative flex items-center gap-4",children:[O.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${l} shadow-lg group-hover:scale-110 group-hover:shadow-xl transition-all duration-300`,children:O.jsx("div",{className:"text-white",children:f})}),O.jsxs("div",{children:[O.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:e}),O.jsxs("p",{className:"text-2xl font-bold text-gray-900 tabular-nums",children:[o,p.toLocaleString("sv-SE"),r]})]})]})]})}const VL=({companies:i,loading:e})=>{if(e)return O.jsx("div",{className:"w-full px-4 sm:px-6 py-6",children:O.jsx("div",{className:"max-w-screen-xl mx-auto",children:O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[O.jsx("div",{className:"md:col-span-1 h-36 bg-gray-200 rounded-3xl animate-pulse"}),O.jsx("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[...Array(3)].map((h,p)=>O.jsx("div",{className:"h-24 bg-gray-100 rounded-2xl animate-pulse"},p))})]})})});const r=i.length,o=i.reduce((h,p)=>h+(p.total_funding_sek||0),0)/1e9,f=i.filter(h=>h.growth_2023_2024_percent!==null&&h.growth_2023_2024_percent>0).length,l=i.reduce((h,p)=>p.growth_2023_2024_percent!==null?h+p.growth_2023_2024_percent:h,0)/(i.filter(h=>h.growth_2023_2024_percent!==null).length||1);return O.jsx("div",{className:"w-full px-4 sm:px-6 py-6",children:O.jsx("div",{className:"max-w-screen-xl mx-auto",children:O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[O.jsx("div",{className:"md:col-span-1",children:O.jsx(UL,{value:r,label:"Impact-fretag",icon:O.jsx(XO,{className:"w-5 h-5 text-loop-lime"})})}),O.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[O.jsx(Fd,{value:Math.round(o*10)/10,label:"Total Funding",suffix:" mdr kr",icon:O.jsx(OL,{className:"w-5 h-5"}),gradient:"from-primary-blue to-blue-600",delay:.1}),O.jsx(Fd,{value:Math.round(l*10)/10,label:"Snitt Tillvxt",suffix:"%",prefix:l>=0?"+":"",icon:O.jsx(Mp,{className:"w-5 h-5"}),gradient:"from-teal to-emerald-500",delay:.2}),O.jsx(Fd,{value:f,label:"Positiv Tillvxt",icon:O.jsx(RL,{className:"w-5 h-5"}),gradient:"from-purple to-pink-500",delay:.3})]})]})})})};var ns={},zc={},Am=function(i,e){return Am=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(r[f]=o[f])},Am(i,e)};function Ow(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Am(i,e);function r(){this.constructor=i}i.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var oh=function(){return oh=Object.assign||function(e){for(var r,o=1,f=arguments.length;o<f;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},oh.apply(this,arguments)};function _o(i,e){var r={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.indexOf(o)<0&&(r[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(i);f<o.length;f++)e.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(i,o[f])&&(r[o[f]]=i[o[f]]);return r}function Lw(i,e,r,o){var f=arguments.length,l=f<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,r):o,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(i,e,r,o);else for(var p=i.length-1;p>=0;p--)(h=i[p])&&(l=(f<3?h(l):f>3?h(e,r,l):h(e,r))||l);return f>3&&l&&Object.defineProperty(e,r,l),l}function Mw(i,e){return function(r,o){e(r,o,i)}}function Rw(i,e,r,o,f,l){function h(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var p=o.kind,g=p==="getter"?"get":p==="setter"?"set":"value",v=!e&&i?o.static?i:i.prototype:null,b=e||(v?Object.getOwnPropertyDescriptor(v,o.name):{}),w,T=!1,E=r.length-1;E>=0;E--){var M={};for(var R in o)M[R]=R==="access"?{}:o[R];for(var R in o.access)M.access[R]=o.access[R];M.addInitializer=function(z){if(T)throw new TypeError("Cannot add initializers after decoration has completed");l.push(h(z||null))};var N=(0,r[E])(p==="accessor"?{get:b.get,set:b.set}:b[g],M);if(p==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(w=h(N.get))&&(b.get=w),(w=h(N.set))&&(b.set=w),(w=h(N.init))&&f.unshift(w)}else(w=h(N))&&(p==="field"?f.unshift(w):b[g]=w)}v&&Object.defineProperty(v,o.name,b),T=!0}function kw(i,e,r){for(var o=arguments.length>2,f=0;f<e.length;f++)r=o?e[f].call(i,r):e[f].call(i);return o?r:void 0}function jw(i){return typeof i=="symbol"?i:"".concat(i)}function Pw(i,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Nw(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function dt(i,e,r,o){function f(l){return l instanceof r?l:new r(function(h){h(l)})}return new(r||(r=Promise))(function(l,h){function p(b){try{v(o.next(b))}catch(w){h(w)}}function g(b){try{v(o.throw(b))}catch(w){h(w)}}function v(b){b.done?l(b.value):f(b.value).then(p,g)}v((o=o.apply(i,e||[])).next())})}function Dw(i,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,f,l,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=p(0),h.throw=p(1),h.return=p(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(v){return function(b){return g([v,b])}}function g(v){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(r=0)),r;)try{if(o=1,f&&(l=v[0]&2?f.return:v[0]?f.throw||((l=f.return)&&l.call(f),0):f.next)&&!(l=l.call(f,v[1])).done)return l;switch(f=0,l&&(v=[v[0]&2,l.value]),v[0]){case 0:case 1:l=v;break;case 4:return r.label++,{value:v[1],done:!1};case 5:r.label++,f=v[1],v=[0];continue;case 7:v=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(v[0]===6||v[0]===2)){r=0;continue}if(v[0]===3&&(!l||v[1]>l[0]&&v[1]<l[3])){r.label=v[1];break}if(v[0]===6&&r.label<l[1]){r.label=l[1],l=v;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(v);break}l[2]&&r.ops.pop(),r.trys.pop();continue}v=e.call(i,r)}catch(b){v=[6,b],f=0}finally{o=l=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var wh=Object.create?(function(i,e,r,o){o===void 0&&(o=r);var f=Object.getOwnPropertyDescriptor(e,r);(!f||("get"in f?!e.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(i,o,f)}):(function(i,e,r,o){o===void 0&&(o=r),i[o]=e[r]});function zw(i,e){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&wh(e,i,r)}function lh(i){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&i[e],o=0;if(r)return r.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rp(i,e){var r=typeof Symbol=="function"&&i[Symbol.iterator];if(!r)return i;var o=r.call(i),f,l=[],h;try{for(;(e===void 0||e-- >0)&&!(f=o.next()).done;)l.push(f.value)}catch(p){h={error:p}}finally{try{f&&!f.done&&(r=o.return)&&r.call(o)}finally{if(h)throw h.error}}return l}function Bw(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(Rp(arguments[e]));return i}function Uw(){for(var i=0,e=0,r=arguments.length;e<r;e++)i+=arguments[e].length;for(var o=Array(i),f=0,e=0;e<r;e++)for(var l=arguments[e],h=0,p=l.length;h<p;h++,f++)o[f]=l[h];return o}function Vw(i,e,r){if(r||arguments.length===2)for(var o=0,f=e.length,l;o<f;o++)(l||!(o in e))&&(l||(l=Array.prototype.slice.call(e,0,o)),l[o]=e[o]);return i.concat(l||Array.prototype.slice.call(e))}function co(i){return this instanceof co?(this.v=i,this):new co(i)}function Iw(i,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(i,e||[]),f,l=[];return f=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",h),f[Symbol.asyncIterator]=function(){return this},f;function h(E){return function(M){return Promise.resolve(M).then(E,w)}}function p(E,M){o[E]&&(f[E]=function(R){return new Promise(function(N,z){l.push([E,R,N,z])>1||g(E,R)})},M&&(f[E]=M(f[E])))}function g(E,M){try{v(o[E](M))}catch(R){T(l[0][3],R)}}function v(E){E.value instanceof co?Promise.resolve(E.value.v).then(b,w):T(l[0][2],E)}function b(E){g("next",E)}function w(E){g("throw",E)}function T(E,M){E(M),l.shift(),l.length&&g(l[0][0],l[0][1])}}function Hw(i){var e,r;return e={},o("next"),o("throw",function(f){throw f}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(f,l){e[f]=i[f]?function(h){return(r=!r)?{value:co(i[f](h)),done:!1}:l?l(h):h}:l}}function qw(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],r;return e?e.call(i):(i=typeof lh=="function"?lh(i):i[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(l){r[l]=i[l]&&function(h){return new Promise(function(p,g){h=i[l](h),f(p,g,h.done,h.value)})}}function f(l,h,p,g){Promise.resolve(g).then(function(v){l({value:v,done:p})},h)}}function Zw(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}var IL=Object.create?(function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}):function(i,e){i.default=e},Om=function(i){return Om=Object.getOwnPropertyNames||function(e){var r=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[r.length]=o);return r},Om(i)};function Gw(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var r=Om(i),o=0;o<r.length;o++)r[o]!=="default"&&wh(e,i,r[o]);return IL(e,i),e}function $w(i){return i&&i.__esModule?i:{default:i}}function Fw(i,e,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!o:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(i):o?o.value:e.get(i)}function Kw(i,e,r,o,f){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!f:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?f.call(i,r):f?f.value=r:e.set(i,r),r}function Yw(i,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?e===i:i.has(e)}function Xw(i,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var o,f;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=e[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=e[Symbol.dispose],r&&(f=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");f&&(o=function(){try{f.call(this)}catch(l){return Promise.reject(l)}}),i.stack.push({value:e,dispose:o,async:r})}else r&&i.stack.push({async:!0});return e}var HL=typeof SuppressedError=="function"?SuppressedError:function(i,e,r){var o=new Error(r);return o.name="SuppressedError",o.error=i,o.suppressed=e,o};function Ww(i){function e(l){i.error=i.hasError?new HL(l,i.error,"An error was suppressed during disposal."):l,i.hasError=!0}var r,o=0;function f(){for(;r=i.stack.pop();)try{if(!r.async&&o===1)return o=0,i.stack.push(r),Promise.resolve().then(f);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return o|=2,Promise.resolve(l).then(f,function(h){return e(h),f()})}else o|=1}catch(h){e(h)}if(o===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return f()}function Jw(i,e){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,o,f,l,h){return o?e?".jsx":".js":f&&(!l||!h)?r:f+l+"."+h.toLowerCase()+"js"}):i}const qL={__extends:Ow,__assign:oh,__rest:_o,__decorate:Lw,__param:Mw,__esDecorate:Rw,__runInitializers:kw,__propKey:jw,__setFunctionName:Pw,__metadata:Nw,__awaiter:dt,__generator:Dw,__createBinding:wh,__exportStar:zw,__values:lh,__read:Rp,__spread:Bw,__spreadArrays:Uw,__spreadArray:Vw,__await:co,__asyncGenerator:Iw,__asyncDelegator:Hw,__asyncValues:qw,__makeTemplateObject:Zw,__importStar:Gw,__importDefault:$w,__classPrivateFieldGet:Fw,__classPrivateFieldSet:Kw,__classPrivateFieldIn:Yw,__addDisposableResource:Xw,__disposeResources:Ww,__rewriteRelativeImportExtension:Jw},ZL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Xw,get __assign(){return oh},__asyncDelegator:Hw,__asyncGenerator:Iw,__asyncValues:qw,__await:co,__awaiter:dt,__classPrivateFieldGet:Fw,__classPrivateFieldIn:Yw,__classPrivateFieldSet:Kw,__createBinding:wh,__decorate:Lw,__disposeResources:Ww,__esDecorate:Rw,__exportStar:zw,__extends:Ow,__generator:Dw,__importDefault:$w,__importStar:Gw,__makeTemplateObject:Zw,__metadata:Nw,__param:Mw,__propKey:jw,__read:Rp,__rest:_o,__rewriteRelativeImportExtension:Jw,__runInitializers:kw,__setFunctionName:Pw,__spread:Bw,__spreadArray:Vw,__spreadArrays:Uw,__values:lh,default:qL},Symbol.toStringTag,{value:"Module"})),GL=i=>i?(...e)=>i(...e):(...e)=>fetch(...e);let xh=class extends Error{constructor(e,r="FunctionsError",o){super(e),this.name=r,this.context=o}},Qw=class extends xh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Lm=class extends xh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Mm=class extends xh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var uh;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(uh||(uh={}));class $L{constructor(e,{headers:r={},customFetch:o,region:f=uh.Any}={}){this.url=e,this.headers=r,this.region=f,this.fetch=GL(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return dt(this,arguments,void 0,function*(r,o={}){var f;let l,h;try{const{headers:p,method:g,body:v,signal:b,timeout:w}=o;let T={},{region:E}=o;E||(E=this.region);const M=new URL(`${this.url}/${r}`);E&&E!=="any"&&(T["x-region"]=E,M.searchParams.set("forceFunctionRegion",E));let R;v&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",R=v):typeof v=="string"?(T["Content-Type"]="text/plain",R=v):typeof FormData<"u"&&v instanceof FormData?R=v:(T["Content-Type"]="application/json",R=JSON.stringify(v)):R=v;let N=b;w&&(h=new AbortController,l=setTimeout(()=>h.abort(),w),b?(N=h.signal,b.addEventListener("abort",()=>h.abort())):N=h.signal);const z=yield this.fetch(M.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),p),body:R,signal:N}).catch(nt=>{throw new Qw(nt)}),q=z.headers.get("x-relay-error");if(q&&q==="true")throw new Lm(z);if(!z.ok)throw new Mm(z);let B=((f=z.headers.get("Content-Type"))!==null&&f!==void 0?f:"text/plain").split(";")[0].trim(),tt;return B==="application/json"?tt=yield z.json():B==="application/octet-stream"||B==="application/pdf"?tt=yield z.blob():B==="text/event-stream"?tt=z:B==="multipart/form-data"?tt=yield z.formData():tt=yield z.text(),{data:tt,error:null,response:z}}catch(p){return{data:null,error:p,response:p instanceof Mm||p instanceof Lm?p.context:void 0}}finally{l&&clearTimeout(l)}})}}const FL=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return uh},FunctionsClient:$L,FunctionsError:xh,FunctionsFetchError:Qw,FunctionsHttpError:Mm,FunctionsRelayError:Lm},Symbol.toStringTag,{value:"Module"})),tx=Kl(FL);var Je={};const vo=Kl(ZL);var Bc={},Uc={},Vc={},Ic={},Hc={},qc={},l0;function ex(){if(l0)return qc;l0=1,Object.defineProperty(qc,"__esModule",{value:!0});class i extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return qc.default=i,qc}var u0;function nx(){if(u0)return Hc;u0=1,Object.defineProperty(Hc,"__esModule",{value:!0});const e=vo.__importDefault(ex());let r=class{constructor(f){var l,h;this.shouldThrowOnError=!1,this.method=f.method,this.url=f.url,this.headers=new Headers(f.headers),this.schema=f.schema,this.body=f.body,this.shouldThrowOnError=(l=f.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=f.signal,this.isMaybeSingle=(h=f.isMaybeSingle)!==null&&h!==void 0?h:!1,f.fetch?this.fetch=f.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(f,l){return this.headers=new Headers(this.headers),this.headers.set(f,l),this}then(f,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var v,b,w,T;let E=null,M=null,R=null,N=g.status,z=g.statusText;if(g.ok){if(this.method!=="HEAD"){const nt=await g.text();nt===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?M=nt:M=JSON.parse(nt))}const B=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),tt=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");B&&tt&&tt.length>1&&(R=parseInt(tt[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(M)&&(M.length>1?(E={code:"PGRST116",details:`Results contain ${M.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},M=null,R=null,N=406,z="Not Acceptable"):M.length===1?M=M[0]:M=null)}else{const B=await g.text();try{E=JSON.parse(B),Array.isArray(E)&&g.status===404&&(M=[],E=null,N=200,z="OK")}catch{g.status===404&&B===""?(N=204,z="No Content"):E={message:B}}if(E&&this.isMaybeSingle&&(!((T=E?.details)===null||T===void 0)&&T.includes("0 rows"))&&(E=null,N=200,z="OK"),E&&this.shouldThrowOnError)throw new e.default(E)}return{error:E,data:M,count:R,status:N,statusText:z}});return this.shouldThrowOnError||(p=p.catch(g=>{var v,b,w,T,E,M;let R="";const N=g?.cause;if(N){const z=(v=N?.message)!==null&&v!==void 0?v:"",q=(b=N?.code)!==null&&b!==void 0?b:"";R=`${(w=g?.name)!==null&&w!==void 0?w:"FetchError"}: ${g?.message}`,R+=`

Caused by: ${(T=N?.name)!==null&&T!==void 0?T:"Error"}: ${z}`,q&&(R+=` (${q})`),N?.stack&&(R+=`
${N.stack}`)}else R=(E=g?.stack)!==null&&E!==void 0?E:"";return{error:{message:`${(M=g?.name)!==null&&M!==void 0?M:"FetchError"}: ${g?.message}`,details:R,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(f,l)}returns(){return this}overrideTypes(){return this}};return Hc.default=r,Hc}var c0;function ix(){if(c0)return Ic;c0=1,Object.defineProperty(Ic,"__esModule",{value:!0});const e=vo.__importDefault(nx());let r=class extends e.default{select(f){let l=!1;const h=(f??"*").split("").map(p=>/\s/.test(p)&&!l?"":(p==='"'&&(l=!l),p)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(f,{ascending:l=!0,nullsFirst:h,foreignTable:p,referencedTable:g=p}={}){const v=g?`${g}.order`:"order",b=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${b?`${b},`:""}${f}.${l?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(f,{foreignTable:l,referencedTable:h=l}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${f}`),this}range(f,l,{foreignTable:h,referencedTable:p=h}={}){const g=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${f}`),this.url.searchParams.set(v,`${l-f+1}`),this}abortSignal(f){return this.signal=f,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:f=!1,verbose:l=!1,settings:h=!1,buffers:p=!1,wal:g=!1,format:v="text"}={}){var b;const w=[f?"analyze":null,l?"verbose":null,h?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),T=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${T}"; options=${w};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(f){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${f}`),this}};return Ic.default=r,Ic}var h0;function kp(){if(h0)return Vc;h0=1,Object.defineProperty(Vc,"__esModule",{value:!0});const e=vo.__importDefault(ix()),r=new RegExp("[,()]");let o=class extends e.default{eq(l,h){return this.url.searchParams.append(l,`eq.${h}`),this}neq(l,h){return this.url.searchParams.append(l,`neq.${h}`),this}gt(l,h){return this.url.searchParams.append(l,`gt.${h}`),this}gte(l,h){return this.url.searchParams.append(l,`gte.${h}`),this}lt(l,h){return this.url.searchParams.append(l,`lt.${h}`),this}lte(l,h){return this.url.searchParams.append(l,`lte.${h}`),this}like(l,h){return this.url.searchParams.append(l,`like.${h}`),this}likeAllOf(l,h){return this.url.searchParams.append(l,`like(all).{${h.join(",")}}`),this}likeAnyOf(l,h){return this.url.searchParams.append(l,`like(any).{${h.join(",")}}`),this}ilike(l,h){return this.url.searchParams.append(l,`ilike.${h}`),this}ilikeAllOf(l,h){return this.url.searchParams.append(l,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(l,h){return this.url.searchParams.append(l,`ilike(any).{${h.join(",")}}`),this}regexMatch(l,h){return this.url.searchParams.append(l,`match.${h}`),this}regexIMatch(l,h){return this.url.searchParams.append(l,`imatch.${h}`),this}is(l,h){return this.url.searchParams.append(l,`is.${h}`),this}isDistinct(l,h){return this.url.searchParams.append(l,`isdistinct.${h}`),this}in(l,h){const p=Array.from(new Set(h)).map(g=>typeof g=="string"&&r.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(l,`in.(${p})`),this}contains(l,h){return typeof h=="string"?this.url.searchParams.append(l,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(l,`cs.{${h.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(h)}`),this}containedBy(l,h){return typeof h=="string"?this.url.searchParams.append(l,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(l,`cd.{${h.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(h)}`),this}rangeGt(l,h){return this.url.searchParams.append(l,`sr.${h}`),this}rangeGte(l,h){return this.url.searchParams.append(l,`nxl.${h}`),this}rangeLt(l,h){return this.url.searchParams.append(l,`sl.${h}`),this}rangeLte(l,h){return this.url.searchParams.append(l,`nxr.${h}`),this}rangeAdjacent(l,h){return this.url.searchParams.append(l,`adj.${h}`),this}overlaps(l,h){return typeof h=="string"?this.url.searchParams.append(l,`ov.${h}`):this.url.searchParams.append(l,`ov.{${h.join(",")}}`),this}textSearch(l,h,{config:p,type:g}={}){let v="";g==="plain"?v="pl":g==="phrase"?v="ph":g==="websearch"&&(v="w");const b=p===void 0?"":`(${p})`;return this.url.searchParams.append(l,`${v}fts${b}.${h}`),this}match(l){return Object.entries(l).forEach(([h,p])=>{this.url.searchParams.append(h,`eq.${p}`)}),this}not(l,h,p){return this.url.searchParams.append(l,`not.${h}.${p}`),this}or(l,{foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.or`:"or";return this.url.searchParams.append(g,`(${l})`),this}filter(l,h,p){return this.url.searchParams.append(l,`${h}.${p}`),this}};return Vc.default=o,Vc}var f0;function sx(){if(f0)return Uc;f0=1,Object.defineProperty(Uc,"__esModule",{value:!0});const e=vo.__importDefault(kp());let r=class{constructor(f,{headers:l={},schema:h,fetch:p}){this.url=f,this.headers=new Headers(l),this.schema=h,this.fetch=p}select(f,l){const{head:h=!1,count:p}=l??{},g=h?"HEAD":"GET";let v=!1;const b=(f??"*").split("").map(w=>/\s/.test(w)&&!v?"":(w==='"'&&(v=!v),w)).join("");return this.url.searchParams.set("select",b),p&&this.headers.append("Prefer",`count=${p}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(f,{count:l,defaultToNull:h=!0}={}){var p;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(f)){const v=f.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(v.length>0){const b=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:f,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(f,{onConflict:l,ignoreDuplicates:h=!1,count:p,defaultToNull:g=!0}={}){var v;const b="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(f)){const w=f.reduce((T,E)=>T.concat(Object.keys(E)),[]);if(w.length>0){const T=[...new Set(w)].map(E=>`"${E}"`);this.url.searchParams.set("columns",T.join(","))}}return new e.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:f,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(f,{count:l}={}){var h;const p="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:f,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:f}={}){var l;const h="DELETE";return f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return Uc.default=r,Uc}var d0;function KL(){if(d0)return Bc;d0=1,Object.defineProperty(Bc,"__esModule",{value:!0});const i=vo,e=i.__importDefault(sx()),r=i.__importDefault(kp());let o=class rx{constructor(l,{headers:h={},schema:p,fetch:g}={}){this.url=l,this.headers=new Headers(h),this.schemaName=p,this.fetch=g}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const h=new URL(`${this.url}/${l}`);return new e.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new rx(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,h={},{head:p=!1,get:g=!1,count:v}={}){var b;let w;const T=new URL(`${this.url}/rpc/${l}`);let E;p||g?(w=p?"HEAD":"GET",Object.entries(h).filter(([R,N])=>N!==void 0).map(([R,N])=>[R,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([R,N])=>{T.searchParams.append(R,N)})):(w="POST",E=h);const M=new Headers(this.headers);return v&&M.set("Prefer",`count=${v}`),new r.default({method:w,url:T,headers:M,schema:this.schemaName,body:E,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}};return Bc.default=o,Bc}var m0;function ax(){if(m0)return Je;m0=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.PostgrestError=Je.PostgrestBuilder=Je.PostgrestTransformBuilder=Je.PostgrestFilterBuilder=Je.PostgrestQueryBuilder=Je.PostgrestClient=void 0;const i=vo,e=i.__importDefault(KL());Je.PostgrestClient=e.default;const r=i.__importDefault(sx());Je.PostgrestQueryBuilder=r.default;const o=i.__importDefault(kp());Je.PostgrestFilterBuilder=o.default;const f=i.__importDefault(ix());Je.PostgrestTransformBuilder=f.default;const l=i.__importDefault(nx());Je.PostgrestBuilder=l.default;const h=i.__importDefault(ex());return Je.PostgrestError=h.default,Je.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:f.default,PostgrestBuilder:l.default,PostgrestError:h.default},Je}class ox{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const o=r.node,f=parseInt(o.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const o=this.getWebSocketConstructor();return new o(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const YL="2.87.1",XL=`realtime-js/${YL}`,lx="1.0.0",WL="2.0.0",p0=lx,Rm=1e4,JL=1e3,QL=100;var Kr;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Kr||(Kr={}));var Le;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Le||(Le={}));var ui;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(ui||(ui={}));var km;(function(i){i.websocket="websocket"})(km||(km={}));var Yr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Yr||(Yr={}));class t2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,o;const f=(o=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,f)}_encodeJsonUserBroadcastPush(e){var r,o;const f=(o=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(f)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(e,r,o){var f,l;const h=e.topic,p=(f=e.ref)!==null&&f!==void 0?f:"",g=(l=e.join_ref)!==null&&l!==void 0?l:"",v=e.payload.event,b=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},w=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const T=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+p.length+h.length+v.length+w.length,E=new ArrayBuffer(this.HEADER_LENGTH+T);let M=new DataView(E),R=0;M.setUint8(R++,this.KINDS.userBroadcastPush),M.setUint8(R++,g.length),M.setUint8(R++,p.length),M.setUint8(R++,h.length),M.setUint8(R++,v.length),M.setUint8(R++,w.length),M.setUint8(R++,r),Array.from(g,z=>M.setUint8(R++,z.charCodeAt(0))),Array.from(p,z=>M.setUint8(R++,z.charCodeAt(0))),Array.from(h,z=>M.setUint8(R++,z.charCodeAt(0))),Array.from(v,z=>M.setUint8(R++,z.charCodeAt(0))),Array.from(w,z=>M.setUint8(R++,z.charCodeAt(0)));var N=new Uint8Array(E.byteLength+o.byteLength);return N.set(new Uint8Array(E),0),N.set(new Uint8Array(o),E.byteLength),N.buffer}decode(e,r){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return r(o)}if(typeof e=="string"){const o=JSON.parse(e),[f,l,h,p,g]=o;return r({join_ref:f,ref:l,topic:h,event:p,payload:g})}return r({})}_binaryDecode(e){const r=new DataView(e),o=r.getUint8(0),f=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,f)}}_decodeUserBroadcast(e,r,o){const f=r.getUint8(1),l=r.getUint8(2),h=r.getUint8(3),p=r.getUint8(4);let g=this.HEADER_LENGTH+4;const v=o.decode(e.slice(g,g+f));g=g+f;const b=o.decode(e.slice(g,g+l));g=g+l;const w=o.decode(e.slice(g,g+h));g=g+h;const T=e.slice(g,e.byteLength),E=p===this.JSON_ENCODING?JSON.parse(o.decode(T)):T,M={type:this.BROADCAST_EVENT,event:b,payload:E};return h>0&&(M.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:M}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>r.includes(o)))}}class ux{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(ne||(ne={}));const g0=(i,e,r={})=>{var o;const f=(o=r.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((l,h)=>(l[h]=e2(h,i,e,f),l),{}):{}},e2=(i,e,r,o)=>{const f=e.find(p=>p.name===i),l=f?.type,h=r[i];return l&&!o.includes(l)?cx(l,h):jm(h)},cx=(i,e)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return r2(e,r)}switch(i){case ne.bool:return n2(e);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return i2(e);case ne.json:case ne.jsonb:return s2(e);case ne.timestamp:return a2(e);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return jm(e);default:return jm(e)}},jm=i=>i,n2=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},i2=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},s2=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},r2=(i,e)=>{if(typeof i!="string")return i;const r=i.length-1,o=i[r];if(i[0]==="{"&&o==="}"){let l;const h=i.slice(1,r);try{l=JSON.parse("["+h+"]")}catch{l=h?h.split(","):[]}return l.map(p=>cx(e,p))}return i},a2=i=>typeof i=="string"?i.replace(" ","T"):i,hx=i=>{const e=new URL(i);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Kd{constructor(e,r,o={},f=Rm){this.channel=e,this.event=r,this.payload=o,this.timeout=f,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var o;return this._hasReceived(e)&&r((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pm;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Pm||(Pm={}));let fx=class Xc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},f=>{const{onJoin:l,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xc.syncState(this.state,f,l,h),this.pendingDiffs.forEach(g=>{this.state=Xc.syncDiff(this.state,g,l,h)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},f=>{const{onJoin:l,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(f):(this.state=Xc.syncDiff(this.state,f,l,h),p())}),this.onJoin((f,l,h)=>{this.channel._trigger("presence",{event:"join",key:f,currentPresences:l,newPresences:h})}),this.onLeave((f,l,h)=>{this.channel._trigger("presence",{event:"leave",key:f,currentPresences:l,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,o,f){const l=this.cloneDeep(e),h=this.transformState(r),p={},g={};return this.map(l,(v,b)=>{h[v]||(g[v]=b)}),this.map(h,(v,b)=>{const w=l[v];if(w){const T=b.map(N=>N.presence_ref),E=w.map(N=>N.presence_ref),M=b.filter(N=>E.indexOf(N.presence_ref)<0),R=w.filter(N=>T.indexOf(N.presence_ref)<0);M.length>0&&(p[v]=M),R.length>0&&(g[v]=R)}else p[v]=b}),this.syncDiff(l,{joins:p,leaves:g},o,f)}static syncDiff(e,r,o,f){const{joins:l,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return o||(o=()=>{}),f||(f=()=>{}),this.map(l,(p,g)=>{var v;const b=(v=e[p])!==null&&v!==void 0?v:[];if(e[p]=this.cloneDeep(g),b.length>0){const w=e[p].map(E=>E.presence_ref),T=b.filter(E=>w.indexOf(E.presence_ref)<0);e[p].unshift(...T)}o(p,b,g)}),this.map(h,(p,g)=>{let v=e[p];if(!v)return;const b=g.map(w=>w.presence_ref);v=v.filter(w=>b.indexOf(w.presence_ref)<0),e[p]=v,f(p,v,g),v.length===0&&delete e[p]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(o=>r(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,o)=>{const f=e[o];return"metas"in f?r[o]=f.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[o]=f,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Nm;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Nm||(Nm={}));var ao;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(ao||(ao={}));var Ci;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Ci||(Ci={}));const o2=Le;let dx=class jl{constructor(e,r={config:{}},o){var f,l;if(this.topic=e,this.params=r,this.socket=o,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kd(this,ui.join,this.params,this.timeout),this.rejoinTimer=new ux(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ui.reply,{},(h,p)=>{this._trigger(this._replyEventName(p),h)}),this.presence=new fx(this),this.broadcastEndpointURL=hx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(f=this.params.config)===null||f===void 0?void 0:f.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var o,f,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Le.closed){const{config:{broadcast:h,presence:p,private:g}}=this.params,v=(f=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(E=>E.filter))!==null&&f!==void 0?f:[],b=!!this.bindings[ao.PRESENCE]&&this.bindings[ao.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,w={},T={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:b}),postgres_changes:v,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(E=>e?.(Ci.CHANNEL_ERROR,E)),this._onClose(()=>e?.(Ci.CLOSED)),this.updateJoinPayload(Object.assign({config:T},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var M;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){e?.(Ci.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,N=(M=R?.length)!==null&&M!==void 0?M:0,z=[];for(let q=0;q<N;q++){const B=R[q],{filter:{event:tt,schema:nt,table:at,filter:st}}=B,ft=E&&E[q];if(ft&&ft.event===tt&&jl.isFilterValueEqual(ft.schema,nt)&&jl.isFilterValueEqual(ft.table,at)&&jl.isFilterValueEqual(ft.filter,st))z.push(Object.assign(Object.assign({},B),{id:ft.id}));else{this.unsubscribe(),this.state=Le.errored,e?.(Ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,e&&e(Ci.SUBSCRIBED);return}}).receive("error",E=>{this.state=Le.errored,e?.(Ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,o){return this.state===Le.joined&&e===ao.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,o)}async httpSend(e,r,o={}){var f;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(f=o.timeout)!==null&&f!==void 0?f:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const v=await p.json();g=v.error||v.message||g}catch{}return Promise.reject(new Error(g))}async send(e,r={}){var o,f;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:h}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);return await((f=v.body)===null||f===void 0?void 0:f.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var h,p,g;const v=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),v.receive("ok",()=>l("ok")),v.receive("error",()=>l("error")),v.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Le.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ui.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(f=>{o=new Kd(this,ui.leave,{},e),o.receive("ok",()=>{r(),f("ok")}).receive("timeout",()=>{r(),f("timed out")}).receive("error",()=>{f("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Le.closed,this.bindings={}}async _fetchWithTimeout(e,r,o){const f=new AbortController,l=setTimeout(()=>f.abort(),o),h=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:f.signal}));return clearTimeout(l),h}_push(e,r,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let f=new Kd(this,e,r,o);return this._canPush()?f.send():this._addToPushBuffer(f),f}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>QL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,o){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,o){var f,l;const h=e.toLocaleLowerCase(),{close:p,error:g,leave:v,join:b}=ui;if(o&&[p,g,v,b].indexOf(h)>=0&&o!==this._joinRef())return;let T=this._onMessage(h,r,o);if(r&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(f=this.bindings.postgres_changes)===null||f===void 0||f.filter(E=>{var M,R,N;return((M=E.filter)===null||M===void 0?void 0:M.event)==="*"||((N=(R=E.filter)===null||R===void 0?void 0:R.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===h}).map(E=>E.callback(T,o)):(l=this.bindings[h])===null||l===void 0||l.filter(E=>{var M,R,N,z,q,B;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const tt=E.id,nt=(M=E.filter)===null||M===void 0?void 0:M.event;return tt&&((R=r.ids)===null||R===void 0?void 0:R.includes(tt))&&(nt==="*"||nt?.toLocaleLowerCase()===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const tt=(q=(z=E?.filter)===null||z===void 0?void 0:z.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return tt==="*"||tt===((B=r?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof T=="object"&&"ids"in T){const M=T.data,{schema:R,table:N,commit_timestamp:z,type:q,errors:B}=M;T=Object.assign(Object.assign({},{schema:R,table:N,commit_timestamp:z,eventType:q,new:{},old:{},errors:B}),this._getPayloadRecords(M))}E.callback(T,o)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,o){const f=e.toLocaleLowerCase(),l={type:f,filter:r,callback:o};return this.bindings[f]?this.bindings[f].push(l):this.bindings[f]=[l],this}_off(e,r){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(f=>{var l;return!(((l=f.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&jl.isEqual(f.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const o in e)if(e[o]!==r[o])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ui.close,{},e)}_onError(e){this._on(ui.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=g0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=g0(e.columns,e.old_record)),r}};const Yd=()=>{},Zc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},l2=[1e3,2e3,5e3,1e4],u2=1e4,c2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let h2=class{constructor(e,r){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rm,this.transport=null,this.heartbeatIntervalMs=Zc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yd,this.ref=0,this.reconnectTimer=null,this.vsn=p0,this.logger=Yd,this.conn=null,this.sendBuffer=[],this.serializer=new t2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=f=>f?(...l)=>f(...l):(...l)=>fetch(...l),!(!((o=r?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${km.websocket}`,this.httpEndpoint=hx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ox.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,o){this.logger(e,r,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Kr.connecting:return Yr.Connecting;case Kr.open:return Yr.Open;case Kr.closing:return Yr.Closing;default:return Yr.Closed}}isConnected(){return this.connectionState()===Yr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const o=`realtime:${e}`,f=this.getChannels().find(l=>l.topic===o);if(f)return f;{const l=new dx(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:o,payload:f,ref:l}=e,h=()=>{this.encode(e,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${r} ${o} (${l})`,f),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(JL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Zc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:f,payload:l,ref:h}=r,p=h?`(${h})`:"",g=l.status||"";this.log("receive",`${g} ${o} ${f} ${p}`.trim(),l),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(f,l,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Kr.open||this.conn.readyState===Kr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ui.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const o=e.match(/\?/)?"&":"?",f=new URLSearchParams(r);return`${e}${o}${f}`}_workerObjectUrl(e){let r;if(e)r=e;else{const o=new Blob([c2],{type:"application/javascript"});r=URL.createObjectURL(o)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,o=!1;if(e)r=e,o=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(f){this.log("error","Error fetching access token from callback",f),r=this.accessTokenValue}else r=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(f=>{const l={access_token:r,version:XL};r&&f.updateJoinPayload(l),f.joinedOnce&&f._isJoined()&&f._push(ui.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(r)}catch(f){this.log("error",`error in ${e} callback`,f)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new ux(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,o,f,l,h,p,g,v,b,w,T,E;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(o=e?.timeout)!==null&&o!==void 0?o:Rm,this.heartbeatIntervalMs=(f=e?.heartbeatIntervalMs)!==null&&f!==void 0?f:Zc.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(h=e?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=e?.heartbeatCallback)!==null&&p!==void 0?p:Yd,this.vsn=(g=e?.vsn)!==null&&g!==void 0?g:p0,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=e?.reconnectAfterMs)!==null&&v!==void 0?v:(M=>l2[M-1]||u2),this.vsn){case lx:this.encode=(b=e?.encode)!==null&&b!==void 0?b:((M,R)=>R(JSON.stringify(M))),this.decode=(w=e?.decode)!==null&&w!==void 0?w:((M,R)=>R(JSON.parse(M)));break;case WL:this.encode=(T=e?.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(E=e?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const f2=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:o2,get REALTIME_LISTEN_TYPES(){return ao},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Nm},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Pm},get REALTIME_SUBSCRIBE_STATES(){return Ci},RealtimeChannel:dx,RealtimeClient:h2,RealtimePresence:fx,WebSocketFactory:ox},Symbol.toStringTag,{value:"Module"})),mx=Kl(f2);class nu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ce(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class px extends nu{constructor(e,r,o){super(e),this.name="StorageApiError",this.status=r,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ch extends nu{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const jp=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),d2=()=>Response,Dm=i=>{if(Array.isArray(i))return i.map(r=>Dm(r));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([r,o])=>{const f=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[f]=Dm(o)}),e},m2=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},p2=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),Xd=i=>{var e;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(e=i.error)===null||e===void 0?void 0:e.message)||JSON.stringify(i)},g2=(i,e,r)=>dt(void 0,void 0,void 0,function*(){const o=yield d2();i instanceof o&&!r?.noResolveJson?i.json().then(f=>{const l=i.status||500,h=f?.statusCode||l+"";e(new px(Xd(f),l,h))}).catch(f=>{e(new ch(Xd(f),f))}):e(new ch(Xd(i),i))}),_2=(i,e,r,o)=>{const f={method:i,headers:e?.headers||{}};return i==="GET"||!o?f:(m2(o)?(f.headers=Object.assign({"Content-Type":"application/json"},e?.headers),f.body=JSON.stringify(o)):f.body=o,e?.duplex&&(f.duplex=e.duplex),Object.assign(Object.assign({},f),r))};function iu(i,e,r,o,f,l){return dt(this,void 0,void 0,function*(){return new Promise((h,p)=>{i(r,_2(e,o,f,l)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>g2(g,p,o))})})}function $l(i,e,r,o){return dt(this,void 0,void 0,function*(){return iu(i,"GET",e,r,o)})}function li(i,e,r,o,f){return dt(this,void 0,void 0,function*(){return iu(i,"POST",e,o,f,r)})}function zm(i,e,r,o,f){return dt(this,void 0,void 0,function*(){return iu(i,"PUT",e,o,f,r)})}function v2(i,e,r,o){return dt(this,void 0,void 0,function*(){return iu(i,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),o)})}function Pp(i,e,r,o,f){return dt(this,void 0,void 0,function*(){return iu(i,"DELETE",e,o,f,r)})}class y2{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return dt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ce(e))return{data:null,error:e};throw e}})}}var gx;class b2{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[gx]="BlobDownloadBuilder",this.promise=null}asStream(){return new y2(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return dt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ce(e))return{data:null,error:e};throw e}})}}gx=Symbol.toStringTag;const w2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class x2{constructor(e,r={},o,f){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=o,this.fetch=jp(f)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,o,f){return dt(this,void 0,void 0,function*(){try{let l;const h=Object.assign(Object.assign({},_0),f);let p=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&o instanceof Blob?(l=new FormData,l.append("cacheControl",h.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",o)):typeof FormData<"u"&&o instanceof FormData?(l=o,l.has("cacheControl")||l.append("cacheControl",h.cacheControl),g&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(g))):(l=o,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!h.duplex&&(h.duplex="half")),f?.headers&&(p=Object.assign(Object.assign({},p),f.headers));const v=this._removeEmptyFolders(r),b=this._getFinalPath(v),w=yield(e=="PUT"?zm:li)(this.fetch,`${this.url}/object/${b}`,l,Object.assign({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ce(l))return{data:null,error:l};throw l}})}upload(e,r,o){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,o)})}uploadToSignedUrl(e,r,o,f){return dt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),h=this._getFinalPath(l),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",r);try{let g;const v=Object.assign({upsert:_0.upsert},f),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",v.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",v.cacheControl)):(g=o,b["cache-control"]=`max-age=${v.cacheControl}`,b["content-type"]=v.contentType);const w=yield zm(this.fetch,p.toString(),g,{headers:b});return{data:{path:l,fullPath:w.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(ce(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,r){return dt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const f=Object.assign({},this.headers);r?.upsert&&(f["x-upsert"]="true");const l=yield li(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:f}),h=new URL(this.url+l.url),p=h.searchParams.get("token");if(!p)throw new nu("No token returned by API");return{data:{signedUrl:h.toString(),path:e,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}})}update(e,r,o){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,o)})}move(e,r,o){return dt(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ce(f))return{data:null,error:f};throw f}})}copy(e,r,o){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield li(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ce(f))return{data:null,error:f};throw f}})}createSignedUrl(e,r,o){return dt(this,void 0,void 0,function*(){try{let f=this._getFinalPath(e),l=yield li(this.fetch,`${this.url}/object/sign/${f}`,Object.assign({expiresIn:r},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const h=o?.download?`&download=${o.download===!0?"":o.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${h}`)},{data:l,error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ce(f))return{data:null,error:f};throw f}})}createSignedUrls(e,r,o){return dt(this,void 0,void 0,function*(){try{const f=yield li(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:f.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${l}`):null})),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ce(f))return{data:null,error:f};throw f}})}download(e,r){const f=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),h=l?`?${l}`:"",p=this._getFinalPath(e),g=()=>$l(this.fetch,`${this.url}/${f}/${p}${h}`,{headers:this.headers,noResolveJson:!0});return new b2(g,this.shouldThrowOnError)}info(e){return dt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const o=yield $l(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Dm(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}})}exists(e){return dt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield v2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ce(o)&&o instanceof ch){const f=o.originalError;if([400,404].includes(f?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,r){const o=this._getFinalPath(e),f=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&f.push(l);const p=typeof r?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(r?.transform||{});g!==""&&f.push(g);let v=f.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${v}`)}}}remove(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Pp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}list(e,r,o){return dt(this,void 0,void 0,function*(){try{const f=Object.assign(Object.assign(Object.assign({},w2),r),{prefix:e||""});return{data:yield li(this.fetch,`${this.url}/object/list/${this.bucketId}`,f,{headers:this.headers},o),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ce(f))return{data:null,error:f};throw f}})}listV2(e,r){return dt(this,void 0,void 0,function*(){try{const o=Object.assign({},e);return{data:yield li(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const _x="2.87.1",vx={"X-Client-Info":`storage-js/${_x}`};class S2{constructor(e,r={},o,f){this.shouldThrowOnError=!1;const l=new URL(e);f?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vx),r),this.fetch=jp(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return dt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield $l(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}getBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield $l(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}createBucket(e){return dt(this,arguments,void 0,function*(r,o={public:!1}){try{return{data:yield li(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ce(f))return{data:null,error:f};throw f}})}updateBucket(e,r){return dt(this,void 0,void 0,function*(){try{return{data:yield zm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ce(o))return{data:null,error:o};throw o}})}emptyBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Pp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Fl=class extends Error{constructor(i,e){super(i),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function T2(i,e,r){const o=new URL(e,i);if(r)for(const[f,l]of Object.entries(r))l!==void 0&&o.searchParams.set(f,l);return o.toString()}async function E2(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function C2(i){const e=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:o,query:f,body:l,headers:h}){const p=T2(i.baseUrl,o,f),g=await E2(i.auth),v=await e(p,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...g,...h},body:l?JSON.stringify(l):void 0}),b=await v.text(),w=(v.headers.get("content-type")||"").includes("application/json"),T=w&&b?JSON.parse(b):b;if(!v.ok){const E=w?T:void 0,M=E?.error;throw new Fl(M?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:M?.type,icebergCode:M?.code,details:E})}return{status:v.status,headers:v.headers,data:T}}}}function Gc(i){return i.join("")}var A2=class{constructor(i,e=""){this.client=i,this.prefix=e}async listNamespaces(i){const e=i?{parent:Gc(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(i,e){const r={namespace:i.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gc(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gc(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gc(i.namespace)}`}),!0}catch(e){if(e instanceof Fl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(i,e){try{return await this.createNamespace(i,e)}catch(r){if(r instanceof Fl&&r.status===409)return;throw r}}};function Ka(i){return i.join("")}var O2=class{constructor(i,e="",r){this.client=i,this.prefix=e,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ka(i.namespace)}/tables`})).data.identifiers}async createTable(i,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ka(i.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(i,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ka(i.namespace)}/tables/${i.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ka(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(i){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ka(i.namespace)}/tables/${i.name}`,headers:e})).data.metadata}async tableExists(i){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ka(i.namespace)}/tables/${i.name}`,headers:e}),!0}catch(r){if(r instanceof Fl&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,e){try{return await this.createTable(i,e)}catch(r){if(r instanceof Fl&&r.status===409)return await this.loadTable({namespace:i.namespace,name:e.name});throw r}}},L2=class{constructor(i){let e="v1";i.catalogName&&(e+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=C2({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new A2(this.client,e),this.tableOps=new O2(this.client,e,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,e){return this.namespaceOps.createNamespace(i,e)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,e){return this.tableOps.createTable(i,e)}async updateTable(i,e){return this.tableOps.updateTable(i,e)}async dropTable(i,e){await this.tableOps.dropTable(i,e)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,e){return this.namespaceOps.createNamespaceIfNotExists(i,e)}async createTableIfNotExists(i,e){return this.tableOps.createTableIfNotExists(i,e)}};class yx{constructor(e,r={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vx),r),this.fetch=jp(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}listBuckets(e){return dt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const o=r.toString(),f=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield $l(this.fetch,f,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield Pp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}from(e){if(!p2(e))throw new nu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new L2({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>dt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(r,{get(l,h){const p=l[h];return typeof p!="function"?p:(...g)=>dt(this,void 0,void 0,function*(){try{return{data:yield p.apply(l,g),error:null}}catch(v){if(o)throw v;return{data:null,error:v}}})}})}}const Np={"X-Client-Info":`storage-js/${_x}`,"Content-Type":"application/json"};class Dp extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function wn(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class Wc extends Dp{constructor(e,r,o){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bx extends Dp{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Bm;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Bm||(Bm={}));const Sh=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),M2=()=>Response,wx=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},R2=i=>Array.from(new Float32Array(i)),k2=(i,e)=>{if(e!==void 0&&i.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${i.float32.length}`)},v0=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),j2=(i,e,r)=>dt(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!r?.noResolveJson){const f=i.status||500,l=i;if(typeof l.json=="function")l.json().then(h=>{const p=h?.statusCode||h?.code||f+"";e(new Wc(v0(h),f,p))}).catch(()=>{const h=f+"",p=l.statusText||`HTTP ${f} error`;e(new Wc(p,f,h))});else{const h=f+"",p=l.statusText||`HTTP ${f} error`;e(new Wc(p,f,h))}}else e(new bx(v0(i),i))}),P2=(i,e,r,o)=>{const f={method:i,headers:e?.headers||{}};return o?(wx(o)?(f.headers=Object.assign({"Content-Type":"application/json"},e?.headers),f.body=JSON.stringify(o)):f.body=o,Object.assign(Object.assign({},f),r)):f};function N2(i,e,r,o,f,l){return dt(this,void 0,void 0,function*(){return new Promise((h,p)=>{i(r,P2(e,o,f,l)).then(g=>{if(!g.ok)throw g;if(o?.noResolveJson)return g;const v=g.headers.get("content-type");return!v||!v.includes("application/json")?{}:g.json()}).then(g=>h(g)).catch(g=>j2(g,p,o))})})}function kn(i,e,r,o,f){return dt(this,void 0,void 0,function*(){return N2(i,"POST",e,o,f,r)})}class xx{constructor(e,r={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Np),r),this.fetch=Sh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return dt(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return dt(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(wn(o))return{data:null,error:o};throw o}})}listIndexes(e){return dt(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return dt(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(wn(o))return{data:null,error:o};throw o}})}}class Sx{constructor(e,r={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Np),r),this.fetch=Sh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return dt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield kn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}getVectors(e){return dt(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}listVectors(e){return dt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield kn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}queryVectors(e){return dt(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return dt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield kn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}}class Tx{constructor(e,r={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Np),r),this.fetch=Sh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}getBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:yield kn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}listBuckets(){return dt(this,arguments,void 0,function*(e={}){try{return{data:yield kn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return dt(this,void 0,void 0,function*(){try{return{data:(yield kn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}}class Ex extends Tx{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Cx(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return dt(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return dt(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return dt(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return dt(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Cx extends xx{constructor(e,r,o,f){super(e,r,f),this.vectorBucketName=o}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return dt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return dt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return dt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return dt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Ax(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Ax extends Sx{constructor(e,r,o,f,l){super(e,r,l),this.vectorBucketName=o,this.indexName=f}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return dt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return dt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return dt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return dt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return dt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class D2 extends S2{constructor(e,r={},o,f){super(e,r,o,f)}from(e){return new x2(this.url,this.headers,e,this.fetch)}get vectors(){return new Ex(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yx(this.url+"/iceberg",this.headers,this.fetch)}}const z2=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:yx,StorageApiError:px,StorageClient:D2,StorageError:nu,StorageUnknownError:ch,StorageVectorsApiError:Wc,StorageVectorsClient:Ex,StorageVectorsError:Dp,get StorageVectorsErrorCode(){return Bm},StorageVectorsUnknownError:bx,VectorBucketApi:Tx,VectorBucketScope:Cx,VectorDataApi:Sx,VectorIndexApi:xx,VectorIndexScope:Ax,isPlainObject:wx,isStorageError:ce,isStorageVectorsError:wn,normalizeToFloat32:R2,resolveFetch:Sh,resolveResponse:M2,validateVectorDimension:k2},Symbol.toStringTag,{value:"Module"})),B2=Kl(z2);var Wd={},Ol={},y0;function U2(){return y0||(y0=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.version=void 0,Ol.version="2.87.1"),Ol}var b0;function V2(){return b0||(b0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_REALTIME_OPTIONS=i.DEFAULT_AUTH_OPTIONS=i.DEFAULT_DB_OPTIONS=i.DEFAULT_GLOBAL_OPTIONS=i.DEFAULT_HEADERS=void 0;const e=U2();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",i.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},i.DEFAULT_GLOBAL_OPTIONS={headers:i.DEFAULT_HEADERS},i.DEFAULT_DB_OPTIONS={schema:"public"},i.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i.DEFAULT_REALTIME_OPTIONS={}})(Wd)),Wd}var Jd={},w0;function I2(){return w0||(w0=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.fetchWithAuth=i.resolveHeadersConstructor=i.resolveFetch=void 0;const e=f=>f?(...l)=>f(...l):(...l)=>fetch(...l);i.resolveFetch=e;const r=()=>Headers;i.resolveHeadersConstructor=r;const o=(f,l,h)=>{const p=(0,i.resolveFetch)(h),g=(0,i.resolveHeadersConstructor)();return async(v,b)=>{var w;const T=(w=await l())!==null&&w!==void 0?w:f;let E=new g(b?.headers);return E.has("apikey")||E.set("apikey",f),E.has("Authorization")||E.set("Authorization",`Bearer ${T}`),p(v,Object.assign(Object.assign({},b),{headers:E}))}};i.fetchWithAuth=o})(Jd)),Jd}var is={},x0;function H2(){if(x0)return is;x0=1,Object.defineProperty(is,"__esModule",{value:!0}),is.isBrowser=void 0,is.uuid=i,is.ensureTrailingSlash=e,is.applySettingDefaults=o,is.validateSupabaseUrl=f;function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var h=Math.random()*16|0,p=l=="x"?h:h&3|8;return p.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const r=()=>typeof window<"u";is.isBrowser=r;function o(l,h){var p,g;const{db:v,auth:b,realtime:w,global:T}=l,{db:E,auth:M,realtime:R,global:N}=h,z={db:Object.assign(Object.assign({},E),v),auth:Object.assign(Object.assign({},M),b),realtime:Object.assign(Object.assign({},R),w),storage:{},global:Object.assign(Object.assign(Object.assign({},N),T),{headers:Object.assign(Object.assign({},(p=N?.headers)!==null&&p!==void 0?p:{}),(g=T?.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return l.accessToken?z.accessToken=l.accessToken:delete z.accessToken,z}function f(l){const h=l?.trim();if(!h)throw new Error("supabaseUrl is required.");if(!h.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(h))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return is}var Ll={};const Ox="2.87.1",Ja=30*1e3,Um=3,Qd=Um*Ja,q2="http://localhost:9999",Z2="supabase.auth.token",G2={"X-Client-Info":`gotrue-js/${Ox}`},Vm="X-Supabase-Api-Version",Lx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,F2=600*1e3;let ho=class extends Error{constructor(e,r,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=o}};function _t(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}let Mx=class extends ho{constructor(e,r,o){super(e,r,o),this.name="AuthApiError",this.status=r,this.code=o}};function Rx(i){return _t(i)&&i.name==="AuthApiError"}let Fs=class extends ho{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},as=class extends ho{constructor(e,r,o,f){super(e,o,f),this.name=r,this.status=o}},bn=class extends as{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function kx(i){return _t(i)&&i.name==="AuthSessionMissingError"}let Gr=class extends as{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Pl=class extends as{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Nl=class extends as{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function jx(i){return _t(i)&&i.name==="AuthImplicitGrantRedirectError"}let Im=class extends as{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},hh=class extends as{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Jc(i){return _t(i)&&i.name==="AuthRetryableFetchError"}let Hm=class extends as{constructor(e,r,o){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=o}};function K2(i){return _t(i)&&i.name==="AuthWeakPasswordError"}let fh=class extends as{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const dh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),S0=` 	
\r=`.split(""),Y2=(()=>{const i=new Array(128);for(let e=0;e<i.length;e+=1)i[e]=-1;for(let e=0;e<S0.length;e+=1)i[S0[e].charCodeAt(0)]=-2;for(let e=0;e<dh.length;e+=1)i[dh[e].charCodeAt(0)]=e;return i})();function T0(i,e,r){if(i!==null)for(e.queue=e.queue<<8|i,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;r(dh[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;r(dh[o]),e.queuedBits-=6}}function Px(i,e,r){const o=Y2[i];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function E0(i){const e=[],r=h=>{e.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},f={queue:0,queuedBits:0},l=h=>{J2(h,o,r)};for(let h=0;h<i.length;h+=1)Px(i.charCodeAt(h),f,l);return e.join("")}function X2(i,e){if(i<=127){e(i);return}else if(i<=2047){e(192|i>>6),e(128|i&63);return}else if(i<=65535){e(224|i>>12),e(128|i>>6&63),e(128|i&63);return}else if(i<=1114111){e(240|i>>18),e(128|i>>12&63),e(128|i>>6&63),e(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function W2(i,e){for(let r=0;r<i.length;r+=1){let o=i.charCodeAt(r);if(o>55295&&o<=56319){const f=(o-55296)*1024&65535;o=(i.charCodeAt(r+1)-56320&65535|f)+65536,r+=1}X2(o,e)}}function J2(i,e,r){if(e.utf8seq===0){if(i<=127){r(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=i&31;else if(e.utf8seq===3)e.codepoint=i&15;else if(e.utf8seq===4)e.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|i&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function oo(i){const e=[],r={queue:0,queuedBits:0},o=f=>{e.push(f)};for(let f=0;f<i.length;f+=1)Px(i.charCodeAt(f),r,o);return new Uint8Array(e)}function Q2(i){const e=[];return W2(i,r=>e.push(r)),new Uint8Array(e)}function Jr(i){const e=[],r={queue:0,queuedBits:0},o=f=>{e.push(f)};return i.forEach(f=>T0(f,r,o)),T0(null,r,o),e.join("")}function tM(i){return Math.round(Date.now()/1e3)+i}function eM(){return Symbol("auth-callback")}const $e=()=>typeof window<"u"&&typeof document<"u",Hr={tested:!1,writable:!1},Nx=()=>{if(!$e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hr.tested)return Hr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Hr.tested=!0,Hr.writable=!0}catch{Hr.tested=!0,Hr.writable=!1}return Hr.writable};function nM(i){const e={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((f,l)=>{e[l]=f})}catch{}return r.searchParams.forEach((o,f)=>{e[f]=o}),e}const Dx=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),iM=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Qa=async(i,e,r)=>{await i.setItem(e,JSON.stringify(r))},qr=async(i,e)=>{const r=await i.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ge=async(i,e)=>{await i.removeItem(e)};class Th{constructor(){this.promise=new Th.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Th.promiseConstructor=Promise;function tm(i){const e=i.split(".");if(e.length!==3)throw new fh("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!$2.test(e[o]))throw new fh("JWT not in base64url format");return{header:JSON.parse(E0(e[0])),payload:JSON.parse(E0(e[1])),signature:oo(e[2]),raw:{header:e[0],payload:e[1]}}}async function sM(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function rM(i,e){return new Promise((o,f)=>{(async()=>{for(let l=0;l<1/0;l++)try{const h=await i(l);if(!e(l,null,h)){o(h);return}}catch(h){if(!e(l,h)){f(h);return}}})()})}function aM(i){return("0"+i.toString(16)).substr(-2)}function oM(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=r.length;let f="";for(let l=0;l<56;l++)f+=r.charAt(Math.floor(Math.random()*o));return f}return crypto.getRandomValues(e),Array.from(e,aM).join("")}async function lM(i){const r=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",r),f=new Uint8Array(o);return Array.from(f).map(l=>String.fromCharCode(l)).join("")}async function uM(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await lM(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ya(i,e,r=!1){const o=oM();let f=o;r&&(f+="/PASSWORD_RECOVERY"),await Qa(i,`${e}-code-verifier`,f);const l=await uM(o);return[l,o===l?"plain":"s256"]}const cM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hM(i){const e=i.headers.get(Vm);if(!e||!e.match(cM))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fM(i){if(!i)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(i<=e)throw new Error("JWT has expired")}function dM(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xa(i){if(!mM.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function em(){const i={};return new Proxy(i,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pM(i,e){return new Proxy(i,{get:(r,o,f)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,o,f)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,o,f)}})}function C0(i){return JSON.parse(JSON.stringify(i))}const $r=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),gM=[502,503,504];async function A0(i){var e;if(!iM(i))throw new hh($r(i),0);if(gM.includes(i.status))throw new hh($r(i),i.status);let r;try{r=await i.json()}catch(l){throw new Fs($r(l),l)}let o;const f=hM(i);if(f&&f.getTime()>=Lx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?o=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(o=r.error_code),o){if(o==="weak_password")throw new Hm($r(r),i.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new bn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,h)=>l&&typeof h=="string",!0))throw new Hm($r(r),i.status,r.weak_password.reasons);throw new Mx($r(r),i.status||500,o)}const _M=(i,e,r,o)=>{const f={method:i,headers:e?.headers||{}};return i==="GET"?f:(f.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),f.body=JSON.stringify(o),Object.assign(Object.assign({},f),r))};async function wt(i,e,r,o){var f;const l=Object.assign({},o?.headers);l[Vm]||(l[Vm]=Lx["2024-01-01"].name),o?.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const h=(f=o?.query)!==null&&f!==void 0?f:{};o?.redirectTo&&(h.redirect_to=o.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await vM(i,e,r+p,{headers:l,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function vM(i,e,r,o,f,l){const h=_M(e,o,f,l);let p;try{p=await i(r,Object.assign({},h))}catch(g){throw console.error(g),new hh($r(g),0)}if(p.ok||await A0(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await A0(g)}}function ai(i){var e;let r=null;wM(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=tM(i.expires_in)));const o=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:r,user:o},error:null}}function O0(i){const e=ai(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0)&&(e.data.weak_password=i.weak_password),e}function Ks(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function yM(i){return{data:i,error:null}}function bM(i){const{action_link:e,email_otp:r,hashed_token:o,redirect_to:f,verification_type:l}=i,h=_o(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:e,email_otp:r,hashed_token:o,redirect_to:f,verification_type:l},g=Object.assign({},h);return{data:{properties:p,user:g},error:null}}function L0(i){return i}function wM(i){return i.access_token&&i.refresh_token&&i.expires_in}const Qc=["global","local","others"];let zp=class{constructor({url:e="",headers:r={},fetch:o}){this.url=e,this.headers=r,this.fetch=Dx(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Qc[0]){if(Qc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qc.join(", ")}`);try{return await wt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(_t(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,r={}){try{return await wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ks})}catch(o){if(_t(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:r}=e,o=_o(e,["options"]),f=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(f.new_email=o?.newEmail,delete f.newEmail),await wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:f,headers:this.headers,xform:bM,redirectTo:r?.redirectTo})}catch(r){if(_t(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await wt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ks})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,o,f,l,h,p,g;try{const v={nextPage:null,lastPage:0,total:0},b=await wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(l=(f=e?.perPage)===null||f===void 0?void 0:f.toString())!==null&&l!==void 0?l:""},xform:L0});if(b.error)throw b.error;const w=await b.json(),T=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(g=(p=b.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(M=>{const R=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(M.split(";")[1].split("=")[1]);v[`${N}Page`]=R}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(_t(v))return{data:{users:[]},error:v};throw v}}async getUserById(e){Xa(e);try{return await wt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ks})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Xa(e);try{return await wt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ks})}catch(o){if(_t(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,r=!1){Xa(e);try{return await wt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ks})}catch(o){if(_t(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){Xa(e.userId);try{const{data:r,error:o}=await wt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:f=>({data:{factors:f},error:null})});return{data:r,error:o}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Xa(e.userId),Xa(e.id);try{return{data:await wt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,o,f,l,h,p,g;try{const v={nextPage:null,lastPage:0,total:0},b=await wt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(l=(f=e?.perPage)===null||f===void 0?void 0:f.toString())!==null&&l!==void 0?l:""},xform:L0});if(b.error)throw b.error;const w=await b.json(),T=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(g=(p=b.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(M=>{const R=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(M.split(";")[1].split("=")[1]);v[`${N}Page`]=R}),v.total=parseInt(T)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(_t(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(e){try{return await wt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await wt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await wt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(_t(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await wt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await wt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}};function M0(i={}){return{getItem:e=>i[e]||null,setItem:(e,r)=>{i[e]=r},removeItem:e=>{delete i[e]}}}const Fr={debug:!!(globalThis&&Nx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let zx=class extends Bp{};class xM extends Bp{}async function Bx(i,e,r){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async f=>{if(f){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,f.name);try{return await r()}finally{Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,f.name)}}else{if(e===0)throw Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new zx(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Fr.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const R0={};async function SM(i,e,r){var o;const f=(o=R0[i])!==null&&o!==void 0?o:Promise.resolve(),l=Promise.race([f.catch(()=>null),e>=0?new Promise((h,p)=>{setTimeout(()=>{p(new xM(`Acquring process lock with name "${i}" timed out`))},e)}):null].filter(h=>h)).catch(h=>{if(h&&h.isAcquireTimeout)throw h;return null}).then(async()=>await r());return R0[i]=l.catch(async h=>{if(h&&h.isAcquireTimeout)return await f,null;throw h}),await l}function TM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ux(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function EM(i){return parseInt(i,16)}function CM(i){const e=new TextEncoder().encode(i);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function AM(i){var e;const{chainId:r,domain:o,expirationTime:f,issuedAt:l=new Date,nonce:h,notBefore:p,requestId:g,resources:v,scheme:b,uri:w,version:T}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((e=i.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const E=Ux(i.address),M=b?`${b}://${o}`:o,R=i.statement?`${i.statement}
`:"",N=`${M} wants you to sign in with your Ethereum account:
${E}

${R}`;let z=`URI: ${w}
Version: ${T}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${l.toISOString()}`;if(f&&(z+=`
Expiration Time: ${f.toISOString()}`),p&&(z+=`
Not Before: ${p.toISOString()}`),g&&(z+=`
Request ID: ${g}`),v){let q=`
Resources:`;for(const B of v){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);q+=`
- ${B}`}z+=q}return`${N}
${z}`}class Me extends Error{constructor({message:e,code:r,cause:o,name:f}){var l;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=f??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class mh extends Me{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function OM({error:i,options:e}){var r,o,f;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(e.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((f=l.authenticatorSelection)===null||f===void 0?void 0:f.userVerification)==="required")return new Me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Me({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return l.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const h=window.location.hostname;if(Vx(h)){if(l.rp.id!==h)return new Me({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function LM({error:i,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Me({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const o=window.location.hostname;if(Vx(o)){if(r.rpId!==o)return new Me({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class MM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const RM=new MM;function kM(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:e,user:r,excludeCredentials:o}=i,f=_o(i,["challenge","user","excludeCredentials"]),l=oo(e).buffer,h=Object.assign(Object.assign({},r),{id:oo(r.id).buffer}),p=Object.assign(Object.assign({},f),{challenge:l,user:h});if(o&&o.length>0){p.excludeCredentials=new Array(o.length);for(let g=0;g<o.length;g++){const v=o[g];p.excludeCredentials[g]=Object.assign(Object.assign({},v),{id:oo(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return p}function jM(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:e,allowCredentials:r}=i,o=_o(i,["challenge","allowCredentials"]),f=oo(e).buffer,l=Object.assign(Object.assign({},o),{challenge:f});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const p=r[h];l.allowCredentials[h]=Object.assign(Object.assign({},p),{id:oo(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return l}function PM(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:Jr(new Uint8Array(i.response.attestationObject)),clientDataJSON:Jr(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function NM(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,o=i.getClientExtensionResults(),f=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Jr(new Uint8Array(f.authenticatorData)),clientDataJSON:Jr(new Uint8Array(f.clientDataJSON)),signature:Jr(new Uint8Array(f.signature)),userHandle:f.userHandle?Jr(new Uint8Array(f.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Vx(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function k0(){var i,e;return!!($e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function DM(i){try{const e=await navigator.credentials.create(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mh("Browser returned unexpected credential type",e)}:{data:null,error:new mh("Empty credential response",e)}}catch(e){return{data:null,error:OM({error:e,options:i})}}}async function zM(i){try{const e=await navigator.credentials.get(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mh("Browser returned unexpected credential type",e)}:{data:null,error:new mh("Empty credential response",e)}}catch(e){return{data:null,error:LM({error:e,options:i})}}}const BM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},UM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ph(...i){const e=f=>f!==null&&typeof f=="object"&&!Array.isArray(f),r=f=>f instanceof ArrayBuffer||ArrayBuffer.isView(f),o={};for(const f of i)if(f)for(const l in f){const h=f[l];if(h!==void 0)if(Array.isArray(h))o[l]=h;else if(r(h))o[l]=h;else if(e(h)){const p=o[l];e(p)?o[l]=ph(p,h):o[l]=ph(h)}else o[l]=h}return o}function VM(i,e){return ph(BM,i,e||{})}function IM(i,e){return ph(UM,i,e||{})}class HM{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:o,signal:f},l){try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!h)return{data:null,error:p};const g=f??RM.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${o}`),v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=VM(h.webauthn.credential_options.publicKey,l?.create),{data:b,error:w}=await DM({publicKey:v,signal:g});return b?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const v=IM(h.webauthn.credential_options.publicKey,l?.request),{data:b,error:w}=await zM(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:g}));return b?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(h){return _t(h)?{data:null,error:h}:{data:null,error:new Fs("Unexpected error in challenge",h)}}}async _verify({challengeId:e,factorId:r,webauthn:o}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:f}={}},l){if(!r)return{data:null,error:new ho("rpId is required for WebAuthn authentication")};try{if(!k0())return{data:null,error:new Fs("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:o},signal:f},{request:l});if(!h)return{data:null,error:p};const{webauthn:g}=h;return this._verify({factorId:e,challengeId:h.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:o,credential_response:g.credential_response}})}catch(h){return _t(h)?{data:null,error:h}:{data:null,error:new Fs("Unexpected error in authenticate",h)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:f}={}},l){if(!r)return{data:null,error:new ho("rpId is required for WebAuthn registration")};try{if(!k0())return{data:null,error:new Fs("Browser does not support WebAuthn",null)};const{data:h,error:p}=await this._enroll({friendlyName:e});if(!h)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===e&&T.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:p};const{data:g,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:o},signal:f},{create:l});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:o,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:v}}catch(h){return _t(h)?{data:null,error:h}:{data:null,error:new Fs("Unexpected error in register",h)}}}}TM();const qM={url:q2,storageKey:Z2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function j0(i,e,r){return await r()}const Wa={};let Up=class qm{get jwks(){var e,r;return(r=(e=Wa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Wa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{cachedAt:e})}constructor(e){var r,o,f;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},qM),e);if(this.storageKey=l.storageKey,this.instanceID=(r=qm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,qm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&$e()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new zp({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Dx(l.fetch),this.lock=l.lock||j0,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&$e()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=Bx:this.lock=j0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new HM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Nx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=M0(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=M0(this.memoryStorage)),$e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(f=this.broadcastChannel)===null||f===void 0||f.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ox}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},o="none";if($e()&&(r=nM(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),$e()&&this.detectSessionInUrl&&o!=="none"){const{data:f,error:l}=await this._getSessionFromURL(r,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),jx(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:h,redirectType:p}=f;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _t(r)?this._returnResult({error:r}):this._returnResult({error:new Fs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,o,f;try{const l=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(f=e?.options)===null||f===void 0?void 0:f.captchaToken}},xform:ai}),{data:h,error:p}=l;if(p||!h)return this._returnResult({data:{user:null,session:null},error:p});const g=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(l){if(_t(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,o,f;try{let l;if("email"in e){const{email:b,password:w,options:T}=e;let E=null,M=null;this.flowType==="pkce"&&([E,M]=await Ya(this.storage,this.storageKey)),l=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T?.emailRedirectTo,body:{email:b,password:w,data:(r=T?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:T?.captchaToken},code_challenge:E,code_challenge_method:M},xform:ai})}else if("phone"in e){const{phone:b,password:w,options:T}=e;l=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(o=T?.data)!==null&&o!==void 0?o:{},channel:(f=T?.channel)!==null&&f!==void 0?f:"sms",gotrue_meta_security:{captcha_token:T?.captchaToken}},xform:ai})}else throw new Pl("You must provide either an email or phone number and a password");const{data:h,error:p}=l;if(p||!h)return await Ge(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const g=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(l){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),_t(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:h,options:p}=e;r=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:O0})}else if("phone"in e){const{phone:l,password:h,options:p}=e;r=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:O0})}else throw new Pl("You must provide either an email or phone number and a password");const{data:o,error:f}=r;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!o||!o.session||!o.user){const l=new Gr;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:f})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,o,f,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,o,f,l,h,p,g,v,b,w,T;let E,M;if("message"in e)E=e.message,M=e.signature;else{const{chain:R,wallet:N,statement:z,options:q}=e;let B;if($e())if(typeof N=="object")B=N;else{const Ct=window;if("ethereum"in Ct&&typeof Ct.ethereum=="object"&&"request"in Ct.ethereum&&typeof Ct.ethereum.request=="function")B=Ct.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=N}const tt=new URL((r=q?.url)!==null&&r!==void 0?r:window.location.href),nt=await B.request({method:"eth_requestAccounts"}).then(Ct=>Ct).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!nt||nt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const at=Ux(nt[0]);let st=(o=q?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!st){const Ct=await B.request({method:"eth_chainId"});st=EM(Ct)}const ft={domain:tt.host,address:at,statement:z,uri:tt.href,version:"1",chainId:st,nonce:(f=q?.signInWithEthereum)===null||f===void 0?void 0:f.nonce,issuedAt:(h=(l=q?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(p=q?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=q?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(v=q?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(b=q?.signInWithEthereum)===null||b===void 0?void 0:b.resources};E=AM(ft),M=await B.request({method:"personal_sign",params:[CM(E),at]})}try{const{data:R,error:N}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:M},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:ai});if(N)throw N;if(!R||!R.session||!R.user){const z=new Gr;return this._returnResult({data:{user:null,session:null},error:z})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:N})}catch(R){if(_t(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(e){var r,o,f,l,h,p,g,v,b,w,T,E;let M,R;if("message"in e)M=e.message,R=e.signature;else{const{chain:N,wallet:z,statement:q,options:B}=e;let tt;if($e())if(typeof z=="object")tt=z;else{const at=window;if("solana"in at&&typeof at.solana=="object"&&("signIn"in at.solana&&typeof at.solana.signIn=="function"||"signMessage"in at.solana&&typeof at.solana.signMessage=="function"))tt=at.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");tt=z}const nt=new URL((r=B?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in tt&&tt.signIn){const at=await tt.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:nt.host,uri:nt.href}),q?{statement:q}:null));let st;if(Array.isArray(at)&&at[0]&&typeof at[0]=="object")st=at[0];else if(at&&typeof at=="object"&&"signedMessage"in at&&"signature"in at)st=at;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in st&&"signature"in st&&(typeof st.signedMessage=="string"||st.signedMessage instanceof Uint8Array)&&st.signature instanceof Uint8Array)M=typeof st.signedMessage=="string"?st.signedMessage:new TextDecoder().decode(st.signedMessage),R=st.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in tt)||typeof tt.signMessage!="function"||!("publicKey"in tt)||typeof tt!="object"||!tt.publicKey||!("toBase58"in tt.publicKey)||typeof tt.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");M=[`${nt.host} wants you to sign in with your Solana account:`,tt.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${nt.href}`,`Issued At: ${(f=(o=B?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&f!==void 0?f:new Date().toISOString()}`,...!((l=B?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((h=B?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((p=B?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((v=B?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((w=(b=B?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...B.signInWithSolana.resources.map(st=>`- ${st}`)]:[]].join(`
`);const at=await tt.signMessage(new TextEncoder().encode(M),"utf8");if(!at||!(at instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=at}}try{const{data:N,error:z}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:M,signature:Jr(R)},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:ai});if(z)throw z;if(!N||!N.session||!N.user){const q=new Gr;return this._returnResult({data:{user:null,session:null},error:q})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:z})}catch(N){if(_t(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(e){const r=await qr(this.storage,`${this.storageKey}-code-verifier`),[o,f]=(r??"").split("/");try{const{data:l,error:h}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:ai});if(await Ge(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!l||!l.session||!l.user){const p=new Gr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:f??null}),error:h})}catch(l){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),_t(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:o,token:f,access_token:l,nonce:h}=e,p=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:f,access_token:l,nonce:h,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ai}),{data:g,error:v}=p;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!g||!g.session||!g.user){const b=new Gr;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:v})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,o,f,l,h;try{if("email"in e){const{email:p,options:g}=e;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await Ya(this.storage,this.storageKey));const{error:w}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:b},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in e){const{phone:p,options:g}=e,{data:v,error:b}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(f=g?.data)!==null&&f!==void 0?f:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:b})}throw new Pl("You must provide either an email or phone number.")}catch(p){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),_t(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(e){var r,o;try{let f,l;"options"in e&&(f=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:p}=await wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:f,xform:ai});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,v=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(f){if(_t(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSSO(e){var r,o,f,l,h;try{let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ya(this.storage,this.storageKey));const v=await wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((f=e?.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:g}),headers:this.headers,xform:yM});return!((l=v.data)===null||l===void 0)&&l.url&&$e()&&!(!((h=e.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(p){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),_t(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:o}=e;if(o)throw o;if(!r)throw new bn;const{error:f}=await wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:f})})}catch(e){if(_t(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:o,type:f,options:l}=e,{error:h}=await wt(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:f,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in e){const{phone:o,type:f,options:l}=e,{data:h,error:p}=await wt(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:f,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new Pl("You must provide either an email or phone number and a type")}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),f=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await f}catch{}})()),f}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const f=[...this.pendingInLock];await Promise.all(f),this.pendingInLock.splice(0,f.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<Qd:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const h=await qr(this.userStorage,this.storageKey+"-user");h?.user?e.user=h.user:e.user=em()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};e.user=pM(e.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:f,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:f},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ks}):await this._useSession(async r=>{var o,f,l;const{data:h,error:p}=r;if(p)throw p;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(f=h.session)===null||f===void 0?void 0:f.access_token)!==null&&l!==void 0?l:void 0,xform:Ks})})}catch(r){if(_t(r))return kx(r)&&(await this._removeSession(),await Ge(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async o=>{const{data:f,error:l}=o;if(l)throw l;if(!f.session)throw new bn;const h=f.session;let p=null,g=null;this.flowType==="pkce"&&e.email!=null&&([p,g]=await Ya(this.storage,this.storageKey));const{data:v,error:b}=await wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:p,code_challenge_method:g}),jwt:h.access_token,xform:Ks});if(b)throw b;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(o){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),_t(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bn;const r=Date.now()/1e3;let o=r,f=!0,l=null;const{payload:h}=tm(e.access_token);if(h.exp&&(o=h.exp,f=o<=r),f){const{data:p,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};l=p}else{const{data:p,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:p.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(_t(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var o;if(!e){const{data:h,error:p}=r;if(p)throw p;e=(o=h.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new bn;const{data:f,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):f?this._returnResult({data:{user:f.user,session:f},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!$e())throw new Nl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Nl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Im("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Im("No code detected.");const{data:q,error:B}=await this._exchangeCodeForSession(e.code);if(B)throw B;const tt=new URL(window.location.href);return tt.searchParams.delete("code"),window.history.replaceState(window.history.state,"",tt.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:f,access_token:l,refresh_token:h,expires_in:p,expires_at:g,token_type:v}=e;if(!l||!p||!h||!v)throw new Nl("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(p);let T=b+w;g&&(T=parseInt(g));const E=T-b;E*1e3<=Ja&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${w}s`);const M=T-w;b-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,T,b):b-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,T,b);const{data:R,error:N}=await this._getUser(l);if(N)throw N;const z={provider_token:o,provider_refresh_token:f,access_token:l,expires_in:w,expires_at:T,refresh_token:h,token_type:v,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:z,redirectType:e.type},error:null})}catch(o){if(_t(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await qr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var o;const{data:f,error:l}=r;if(l)return this._returnResult({error:l});const h=(o=f.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:p}=await this.admin.signOut(h,e);if(p&&!(Rx(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return e!=="others"&&(await this._removeSession(),await Ge(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=eM(),o={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async r=>{var o,f;try{const{data:{session:l},error:h}=r;if(h)throw h;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((f=this.stateChangeEmitters.get(e))===null||f===void 0?void 0:f.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let o=null,f=null;this.flowType==="pkce"&&([o,f]=await Ya(this.storage,this.storageKey,!0));try{return await wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:f,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),_t(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:o,error:f}=await this._useSession(async l=>{var h,p,g,v,b;const{data:w,error:T}=l;if(T)throw T;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(h=e.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=e.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await wt(this.fetch,"GET",E,{headers:this.headers,jwt:(b=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&b!==void 0?b:void 0})});if(f)throw f;return $e()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:e.provider,url:o?.url},error:null})}catch(o){if(_t(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var o;try{const{error:f,data:{session:l}}=r;if(f)throw f;const{options:h,provider:p,token:g,access_token:v,nonce:b}=e,w=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:p,id_token:g,access_token:v,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:ai}),{data:T,error:E}=w;return E?this._returnResult({data:{user:null,session:null},error:E}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new Gr}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:E}))}catch(f){if(await Ge(this.storage,`${this.storageKey}-code-verifier`),_t(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var o,f;const{data:l,error:h}=r;if(h)throw h;return await wt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(f=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&f!==void 0?f:void 0})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const o=Date.now();return await rM(async f=>(f>0&&await sM(200*Math.pow(2,f-1)),this._debug(r,"refreshing attempt",f),await wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ai})),(f,l)=>{const h=200*Math.pow(2,f);return l&&Jc(l)&&Date.now()+h-o<Ja})}catch(o){if(this._debug(r,"error",o),_t(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",o),$e()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,r;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const f=await qr(this.storage,this.storageKey);if(f&&this.userStorage){let h=await qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:f.user},await Qa(this.userStorage,this.storageKey+"-user",h)),f.user=(e=h?.user)!==null&&e!==void 0?e:em()}else if(f&&!f.user&&!f.user){const h=await qr(this.storage,this.storageKey+"-user");h&&h?.user?(f.user=h.user,await Ge(this.storage,this.storageKey+"-user"),await Qa(this.storage,this.storageKey,f)):f.user=em()}if(this._debug(o,"session from storage",f),!this._isValidSession(f)){this._debug(o,"session is not valid"),f!==null&&await this._removeSession();return}const l=((r=f.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Qd;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${Qd}s`),l){if(this.autoRefreshToken&&f.refresh_token){const{error:h}=await this._callRefreshToken(f.refresh_token);h&&(console.error(h),Jc(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(f.user&&f.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(f.access_token);!p&&h?.user?(f.user=h.user,await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",f)}catch(f){this._debug(o,"error",f),console.error(f);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var r,o;if(!e)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const f=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(f,"begin");try{this.refreshingDeferred=new Th;const{data:l,error:h}=await this._refreshAccessToken(e);if(h)throw h;if(!l.session)throw new bn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const p={data:l.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(l){if(this._debug(f,"error",l),_t(l)){const h={data:null,error:l};return Jc(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(f,"end")}}async _notifyAllSubscribers(e,r,o=!0){const f=`#_notifyAllSubscribers(${e})`;this._debug(f,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(e,r)}catch(g){l.push(g)}});if(await Promise.all(h),l.length>0){for(let p=0;p<l.length;p+=1)console.error(l[p]);throw l[0]}}finally{this._debug(f,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ge(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Qa(this.userStorage,this.storageKey+"-user",{user:r.user});const f=Object.assign({},r);delete f.user;const l=C0(f);await Qa(this.storage,this.storageKey,l)}else{const f=C0(r);await Qa(this.storage,this.storageKey,f)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ge(this.storage,this.storageKey),await Ge(this.storage,this.storageKey+"-code-verifier"),await Ge(this.storage,this.storageKey+"-user"),this.userStorage&&await Ge(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$e()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ja);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const f=Math.floor((o.expires_at*1e3-e)/Ja);this._debug("#_autoRefreshTokenTick()",`access token expires in ${f} ticks, a tick lasts ${Ja}ms, refresh threshold is ${Um} ticks`),f<=Um&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Bp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$e()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,o){const f=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&f.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&f.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,h]=await Ya(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(h)}`});f.push(p.toString())}if(o?.queryParams){const l=new URLSearchParams(o.queryParams);f.push(l.toString())}return o?.skipBrowserRedirect&&f.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${f.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var o;const{data:f,error:l}=r;return l?this._returnResult({data:null,error:l}):await wt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=f?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var o,f;const{data:l,error:h}=r;if(h)return this._returnResult({data:null,error:h});const p=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:v}=await wt(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return v?this._returnResult({data:null,error:v}):(e.factorType==="totp"&&g.type==="totp"&&(!((f=g?.totp)===null||f===void 0)&&f.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:f,error:l}=r;if(l)return this._returnResult({data:null,error:l});const h=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?PM(e.webauthn.credential_response):NM(e.webauthn.credential_response)})}:{code:e.code}),{data:p,error:g}=await wt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:h,headers:this.headers,jwt:(o=f?.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:f,error:l}=r;if(l)return this._returnResult({data:null,error:l});const h=await wt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=f?.session)===null||o===void 0?void 0:o.access_token});if(h.error)return h;const{data:p}=h;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:kM(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:jM(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};const f={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])f.all.push(l),l.status==="verified"&&f[l.factor_type].push(l);return{data:f,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:o},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=tm(o.access_token);let h=null;l.aal&&(h=l.aal);let p=h;((r=(e=o.user.factors)===null||e===void 0?void 0:e.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const v=l.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:o},error:f}=r;return f?this._returnResult({data:null,error:f}):o?await wt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new bn})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async o=>{const{data:{session:f},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!f)return this._returnResult({data:null,error:new bn});const h=await wt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:f.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&$e()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(o){if(_t(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,r){try{return await this._useSession(async o=>{const{data:{session:f},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!f)return this._returnResult({data:null,error:new bn});const h=await wt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:f.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return h.data&&h.data.redirect_url&&$e()&&!r?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(o){if(_t(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:o}=e;return o?this._returnResult({data:null,error:o}):r?await wt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new bn})})}catch(e){if(_t(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:o},error:f}=r;return f?this._returnResult({data:null,error:f}):o?(await wt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new bn})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let o=r.keys.find(p=>p.kid===e);if(o)return o;const f=Date.now();if(o=this.jwks.keys.find(p=>p.kid===e),o&&this.jwks_cached_at+F2>f)return o;const{data:l,error:h}=await wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=f,o=l.keys.find(p=>p.kid===e),!o)?null:o}async getClaims(e,r={}){try{let o=e;if(!o){const{data:E,error:M}=await this.getSession();if(M||!E.session)return this._returnResult({data:null,error:M});o=E.session.access_token}const{header:f,payload:l,signature:h,raw:{header:p,payload:g}}=tm(o);r?.allowExpired||fM(l.exp);const v=!f.alg||f.alg.startsWith("HS")||!f.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(f.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!v){const{error:E}=await this.getUser(o);if(E)throw E;return{data:{claims:l,header:f,signature:h},error:null}}const b=dM(f.alg),w=await crypto.subtle.importKey("jwk",v,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,h,Q2(`${p}.${g}`)))throw new fh("Invalid JWT signature");return{data:{claims:l,header:f,signature:h},error:null}}catch(o){if(_t(o))return this._returnResult({data:null,error:o});throw o}}};Up.nextInstanceID={};const ZM=zp,GM=Up,$M=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:ZM,AuthApiError:Mx,AuthClient:GM,AuthError:ho,AuthImplicitGrantRedirectError:Nl,AuthInvalidCredentialsError:Pl,AuthInvalidJwtError:fh,AuthInvalidTokenResponseError:Gr,AuthPKCEGrantCodeExchangeError:Im,AuthRetryableFetchError:hh,AuthSessionMissingError:bn,AuthUnknownError:Fs,AuthWeakPasswordError:Hm,CustomAuthError:as,GoTrueAdminApi:zp,GoTrueClient:Up,NavigatorLockAcquireTimeoutError:zx,SIGN_OUT_SCOPES:Qc,isAuthApiError:Rx,isAuthError:_t,isAuthImplicitGrantRedirectError:jx,isAuthRetryableFetchError:Jc,isAuthSessionMissingError:kx,isAuthWeakPasswordError:K2,lockInternals:Fr,navigatorLock:Bx,processLock:SM},Symbol.toStringTag,{value:"Module"})),Ix=Kl($M);var P0;function FM(){if(P0)return Ll;P0=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.SupabaseAuthClient=void 0;const i=Ix;let e=class extends i.AuthClient{constructor(o){super(o)}};return Ll.SupabaseAuthClient=e,Ll}var N0;function D0(){if(N0)return zc;N0=1,Object.defineProperty(zc,"__esModule",{value:!0});const i=tx,e=ax(),r=mx,o=B2,f=V2(),l=I2(),h=H2(),p=FM();class g{constructor(b,w,T){var E,M,R;this.supabaseUrl=b,this.supabaseKey=w;const N=(0,h.validateSupabaseUrl)(b);if(!w)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",N),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",N),this.storageUrl=new URL("storage/v1",N),this.functionsUrl=new URL("functions/v1",N);const z=`sb-${N.hostname.split(".")[0]}-auth-token`,q={db:f.DEFAULT_DB_OPTIONS,realtime:f.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},f.DEFAULT_AUTH_OPTIONS),{storageKey:z}),global:f.DEFAULT_GLOBAL_OPTIONS},B=(0,h.applySettingDefaults)(T??{},q);this.storageKey=(E=B.auth.storageKey)!==null&&E!==void 0?E:"",this.headers=(M=B.global.headers)!==null&&M!==void 0?M:{},B.accessToken?(this.accessToken=B.accessToken,this.auth=new Proxy({},{get:(tt,nt)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(nt)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((R=B.auth)!==null&&R!==void 0?R:{},this.headers,B.global.fetch),this.fetch=(0,l.fetchWithAuth)(w,this._getAccessToken.bind(this),B.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},B.realtime)),this.accessToken&&this.accessToken().then(tt=>this.realtime.setAuth(tt)).catch(tt=>console.warn("Failed to set initial Realtime auth token:",tt)),this.rest=new e.PostgrestClient(new URL("rest/v1",N).href,{headers:this.headers,schema:B.db.schema,fetch:this.fetch}),this.storage=new o.StorageClient(this.storageUrl.href,this.headers,this.fetch,T?.storage),B.accessToken||this._listenForAuthEvents()}get functions(){return new i.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(b){return this.rest.from(b)}schema(b){return this.rest.schema(b)}rpc(b,w={},T={head:!1,get:!1,count:void 0}){return this.rest.rpc(b,w,T)}channel(b,w={config:{}}){return this.realtime.channel(b,w)}getChannels(){return this.realtime.getChannels()}removeChannel(b){return this.realtime.removeChannel(b)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var b,w;if(this.accessToken)return await this.accessToken();const{data:T}=await this.auth.getSession();return(w=(b=T.session)===null||b===void 0?void 0:b.access_token)!==null&&w!==void 0?w:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:b,persistSession:w,detectSessionInUrl:T,storage:E,userStorage:M,storageKey:R,flowType:N,lock:z,debug:q,throwOnError:B},tt,nt){const at={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},at),tt),storageKey:R,autoRefreshToken:b,persistSession:w,detectSessionInUrl:T,storage:E,userStorage:M,flowType:N,lock:z,debug:q,throwOnError:B,fetch:nt,hasCustomAuthorizationHeader:Object.keys(this.headers).some(st=>st.toLowerCase()==="authorization")})}_initRealtimeClient(b){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},b),{params:Object.assign({apikey:this.supabaseKey},b?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((w,T)=>{this._handleTokenChanged(w,"CLIENT",T?.access_token)})}_handleTokenChanged(b,w,T){(b==="TOKEN_REFRESHED"||b==="SIGNED_IN")&&this.changedAccessToken!==T?(this.changedAccessToken=T,this.realtime.setAuth(T)):b==="SIGNED_OUT"&&(this.realtime.setAuth(),w=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return zc.default=g,zc}var z0;function KM(){return z0||(z0=1,(function(i){var e=ns&&ns.__createBinding||(Object.create?(function(b,w,T,E){E===void 0&&(E=T);var M=Object.getOwnPropertyDescriptor(w,T);(!M||("get"in M?!w.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return w[T]}}),Object.defineProperty(b,E,M)}):(function(b,w,T,E){E===void 0&&(E=T),b[E]=w[T]})),r=ns&&ns.__exportStar||function(b,w){for(var T in b)T!=="default"&&!Object.prototype.hasOwnProperty.call(w,T)&&e(w,b,T)},o=ns&&ns.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(i,"__esModule",{value:!0}),i.createClient=i.SupabaseClient=i.FunctionRegion=i.FunctionsError=i.FunctionsRelayError=i.FunctionsFetchError=i.FunctionsHttpError=i.PostgrestError=void 0;const f=o(D0());r(Ix,i);var l=ax();Object.defineProperty(i,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var h=tx;Object.defineProperty(i,"FunctionsHttpError",{enumerable:!0,get:function(){return h.FunctionsHttpError}}),Object.defineProperty(i,"FunctionsFetchError",{enumerable:!0,get:function(){return h.FunctionsFetchError}}),Object.defineProperty(i,"FunctionsRelayError",{enumerable:!0,get:function(){return h.FunctionsRelayError}}),Object.defineProperty(i,"FunctionsError",{enumerable:!0,get:function(){return h.FunctionsError}}),Object.defineProperty(i,"FunctionRegion",{enumerable:!0,get:function(){return h.FunctionRegion}}),r(mx,i);var p=D0();Object.defineProperty(i,"SupabaseClient",{enumerable:!0,get:function(){return o(p).default}});const g=(b,w,T)=>new f.default(b,w,T);i.createClient=g;function v(){if(typeof window<"u"||typeof process>"u")return!1;const b=process.version;if(b==null)return!1;const w=b.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}v()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ns)),ns}var Hx=KM();const qx=Zm(Hx),YM=aT({__proto__:null,default:qx},[Hx]),{PostgrestError:LR,FunctionsHttpError:MR,FunctionsFetchError:RR,FunctionsRelayError:kR,FunctionsError:jR,FunctionRegion:PR,SupabaseClient:NR,createClient:XM,GoTrueAdminApi:DR,GoTrueClient:zR,AuthAdminApi:BR,AuthClient:UR,navigatorLock:VR,NavigatorLockAcquireTimeoutError:IR,lockInternals:HR,processLock:qR,SIGN_OUT_SCOPES:ZR,AuthError:GR,AuthApiError:$R,AuthUnknownError:FR,CustomAuthError:KR,AuthSessionMissingError:YR,AuthInvalidTokenResponseError:XR,AuthInvalidCredentialsError:WR,AuthImplicitGrantRedirectError:JR,AuthPKCEGrantCodeExchangeError:QR,AuthRetryableFetchError:tk,AuthWeakPasswordError:ek,AuthInvalidJwtError:nk,isAuthError:ik,isAuthApiError:sk,isAuthSessionMissingError:rk,isAuthImplicitGrantRedirectError:ak,isAuthRetryableFetchError:ok,isAuthWeakPasswordError:lk,RealtimePresence:uk,RealtimeChannel:ck,RealtimeClient:hk,REALTIME_LISTEN_TYPES:fk,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:dk,REALTIME_PRESENCE_LISTEN_EVENTS:mk,REALTIME_SUBSCRIBE_STATES:pk,REALTIME_CHANNEL_STATES:gk}=qx||YM,WM="https://wzkohritxdrstsmwopco.supabase.co",JM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6a29ocml0eGRyc3RzbXdvcGNvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMjkzMjUsImV4cCI6MjA4MDgwNTMyNX0.GigaAVp781QF9rv-AslVD_p4ksT8auWHwXU72H1kOqo",B0=XM(WM,JM);async function QM(){console.log("Starting fetchCompaniesWithCoords...");const{data:i,error:e}=await B0.from("loop_table").select(`
      orgnr,
      company_name,
      sector,
      city,
      turnover_2024_sek,
      total_funding_sek,
      latest_valuation_sek,
      growth_2023_2024_percent,
      foundation_date,
      ceo_contact,
      investment_status
    `);if(console.log("Loop table query result:",{count:i?.length,error:e}),e)throw console.error("Loop table query error:",e),e;const{data:r,error:o}=await B0.from("companies").select(`
      orgnr,
      latitude,
      longitude,
      city,
      county,
      logo_url
    `).not("latitude","is",null).not("longitude","is",null);if(console.log("Companies coords query result:",{count:r?.length,error:o}),o)throw console.error("Companies coords query error:",o),o;const f=new Map(r?.map(l=>[l.orgnr,l])||[]);return(i||[]).map(l=>{const h=f.get(l.orgnr),p=h?.latitude?typeof h.latitude=="string"?parseFloat(h.latitude):Number(h.latitude):0,g=h?.longitude?typeof h.longitude=="string"?parseFloat(h.longitude):Number(h.longitude):0;return{orgnr:l.orgnr,name:l.company_name,latitude:p,longitude:g,city:h?.city||l.city||null,county:h?.county||null,logo_url:h?.logo_url||null,sector:l.sector||null,turnover_2024_sek:l.turnover_2024_sek||null,total_funding_sek:l.total_funding_sek||null,latest_valuation_sek:l.latest_valuation_sek||null,growth_2023_2024_percent:l.growth_2023_2024_percent||null,foundation_date:l.foundation_date||null,ceo_contact:l.ceo_contact||null,investment_status:l.investment_status||null}})}function tR(){const[i,e]=W.useState([]),[r,o]=W.useState(!0),[f,l]=W.useState(null);return W.useEffect(()=>{async function h(){try{o(!0),console.log("Fetching companies with coordinates...");const p=await QM();console.log(`Fetched ${p.length} companies`),p.length>0&&console.log("Sample company:",p[0]),e(p)}catch(p){console.error("Error fetching companies:",p),l(p instanceof Error?p:new Error("Failed to fetch companies"))}finally{o(!1)}}h()},[]),{companies:i,loading:r,error:f}}function eR(){return O.jsxs(Qt.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.8,ease:[.4,0,.2,1]},className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center overflow-hidden",children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-loop-black to-gray-900"}),O.jsxs("div",{className:"relative z-10 text-center",children:[O.jsxs("div",{className:"flex items-center justify-center gap-[0.15em] overflow-hidden",children:["Loop".split("").map((i,e)=>O.jsx(Qt.span,{initial:{opacity:0,y:"100%",rotateX:-90},animate:{opacity:1,y:0,rotateX:0},transition:{duration:.6,delay:.1+e*.1,ease:[.16,1,.3,1]},className:"inline-block font-serif font-bold text-white",style:{fontSize:"clamp(3rem, 12vw, 8rem)",transformOrigin:"top center"},children:i},`loop-${e}`)),O.jsx("span",{className:"inline-block w-[0.3em]"}),"Tool".split("").map((i,e)=>O.jsx(Qt.span,{initial:{opacity:0,y:"100%",rotateX:-90},animate:{opacity:1,y:0,rotateX:0},transition:{duration:.6,delay:.6+e*.1,ease:[.16,1,.3,1]},className:"inline-block font-serif font-bold text-loop-lime",style:{fontSize:"clamp(3rem, 12vw, 8rem)",transformOrigin:"top center"},children:i},`tool-${e}`))]}),O.jsx(Qt.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.8,delay:1.2,ease:[.16,1,.3,1]},className:"h-1 mx-auto mt-4 rounded-full origin-left",style:{background:"linear-gradient(90deg, #CDFF00, #14b8a6)",width:"80%",maxWidth:"400px"}}),O.jsx(Qt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.6,ease:"easeOut"},className:"mt-6 text-lg text-gray-400 font-medium tracking-wide",children:"Impact Investing Database"}),O.jsxs(Qt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},className:"mt-8 flex items-center justify-center gap-3",children:[O.jsx(Qt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-loop-lime border-t-transparent rounded-full"}),O.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Laddar data..."})]})]})]})}function nR(){const{companies:i,loading:e,error:r}=tR(),{viewMode:o}=ea();return r?O.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:O.jsxs("div",{className:"text-center p-6",children:[O.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4",children:O.jsx("span",{className:"text-2xl",children:""})}),O.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ngot gick fel"}),O.jsx("p",{className:"text-sm text-gray-500 mb-4",children:r.message}),O.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:"Frsk igen"})]})}):O.jsxs(O.Fragment,{children:[O.jsx(ih,{children:e&&O.jsx(eR,{})}),O.jsxs("div",{className:"min-h-screen w-screen bg-gray-100 flex flex-col items-center justify-center p-4 sm:p-8",children:[O.jsxs(Qt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"w-full max-w-7xl bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-200",children:[O.jsx(zL,{companyCount:i.length,loading:e}),O.jsx(VL,{companies:i,loading:e}),O.jsx("div",{className:"relative",children:O.jsx(ih,{mode:"wait",children:o==="map"?O.jsx(Qt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"h-[60vh] min-h-[450px]",children:O.jsx(i1,{companies:i})},"map"):O.jsx(Qt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"h-[60vh] min-h-[450px]",children:O.jsx(jL,{companies:i})},"table")})}),O.jsx(BL,{})]}),O.jsx(NL,{})]})]})}function iR(){return O.jsx(_T,{children:O.jsx(nR,{})})}pT.createRoot(document.getElementById("root")).render(O.jsx(W.StrictMode,{children:O.jsx(iR,{})}));
