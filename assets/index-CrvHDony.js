function dE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Wh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yc(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var cg={exports:{}},fc={};var ex;function MM(){if(ex)return fc;ex=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,a){var u=null;if(a!==void 0&&(u=""+a),o.key!==void 0&&(u=""+o.key),"key"in o){a={};for(var d in o)d!=="key"&&(a[d]=o[d])}else a=o;return o=a.ref,{$$typeof:t,type:r,key:u,ref:o!==void 0?o:null,props:a}}return fc.Fragment=e,fc.jsx=n,fc.jsxs=n,fc}var nx;function LM(){return nx||(nx=1,cg.exports=MM()),cg.exports}var P=LM(),dg={exports:{}},$t={};var ix;function PM(){if(ix)return $t;ix=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function x(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,R={};function M(I,z,K){this.props=I,this.context=z,this.refs=R,this.updater=K||C}M.prototype.isReactComponent={},M.prototype.setState=function(I,z){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,z,"setState")},M.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function j(){}j.prototype=M.prototype;function D(I,z,K){this.props=I,this.context=z,this.refs=R,this.updater=K||C}var B=D.prototype=new j;B.constructor=D,E(B,M.prototype),B.isPureReactComponent=!0;var q=Array.isArray;function W(){}var U={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function ot(I,z,K){var st=K.ref;return{$$typeof:t,type:I,key:z,ref:st!==void 0?st:null,props:K}}function gt(I,z){return ot(I.type,z,I.props)}function yt(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function _t(I){var z={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(K){return z[K]})}var vt=/\/+/g;function ut(I,z){return typeof I=="object"&&I!==null&&I.key!=null?_t(""+I.key):z.toString(36)}function bt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(W,W):(I.status="pending",I.then(function(z){I.status==="pending"&&(I.status="fulfilled",I.value=z)},function(z){I.status==="pending"&&(I.status="rejected",I.reason=z)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function $(I,z,K,st,J){var ct=typeof I;(ct==="undefined"||ct==="boolean")&&(I=null);var wt=!1;if(I===null)wt=!0;else switch(ct){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(I.$$typeof){case t:case e:wt=!0;break;case g:return wt=I._init,$(wt(I._payload),z,K,st,J)}}if(wt)return J=J(I),wt=st===""?"."+ut(I,0):st,q(J)?(K="",wt!=null&&(K=wt.replace(vt,"$&/")+"/"),$(J,z,K,"",function(Te){return Te})):J!=null&&(yt(J)&&(J=gt(J,K+(J.key==null||I&&I.key===J.key?"":(""+J.key).replace(vt,"$&/")+"/")+wt)),z.push(J)),1;wt=0;var St=st===""?".":st+":";if(q(I))for(var Dt=0;Dt<I.length;Dt++)st=I[Dt],ct=St+ut(st,Dt),wt+=$(st,z,K,ct,J);else if(Dt=x(I),typeof Dt=="function")for(I=Dt.call(I),Dt=0;!(st=I.next()).done;)st=st.value,ct=St+ut(st,Dt++),wt+=$(st,z,K,ct,J);else if(ct==="object"){if(typeof I.then=="function")return $(bt(I),z,K,st,J);throw z=String(I),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return wt}function G(I,z,K){if(I==null)return I;var st=[],J=0;return $(I,st,"","",function(ct){return z.call(K,ct,J++)}),st}function H(I){if(I._status===-1){var z=I._result;z=z(),z.then(function(K){(I._status===0||I._status===-1)&&(I._status=1,I._result=K)},function(K){(I._status===0||I._status===-1)&&(I._status=2,I._result=K)}),I._status===-1&&(I._status=0,I._result=z)}if(I._status===1)return I._result.default;throw I._result}var dt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},at={map:G,forEach:function(I,z,K){G(I,function(){z.apply(this,arguments)},K)},count:function(I){var z=0;return G(I,function(){z++}),z},toArray:function(I){return G(I,function(z){return z})||[]},only:function(I){if(!yt(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return $t.Activity=y,$t.Children=at,$t.Component=M,$t.Fragment=n,$t.Profiler=o,$t.PureComponent=D,$t.StrictMode=r,$t.Suspense=m,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,$t.__COMPILER_RUNTIME={__proto__:null,c:function(I){return U.H.useMemoCache(I)}},$t.cache=function(I){return function(){return I.apply(null,arguments)}},$t.cacheSignal=function(){return null},$t.cloneElement=function(I,z,K){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var st=E({},I.props),J=I.key;if(z!=null)for(ct in z.key!==void 0&&(J=""+z.key),z)!Y.call(z,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&z.ref===void 0||(st[ct]=z[ct]);var ct=arguments.length-2;if(ct===1)st.children=K;else if(1<ct){for(var wt=Array(ct),St=0;St<ct;St++)wt[St]=arguments[St+2];st.children=wt}return ot(I.type,J,st)},$t.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:a,_context:I},I},$t.createElement=function(I,z,K){var st,J={},ct=null;if(z!=null)for(st in z.key!==void 0&&(ct=""+z.key),z)Y.call(z,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(J[st]=z[st]);var wt=arguments.length-2;if(wt===1)J.children=K;else if(1<wt){for(var St=Array(wt),Dt=0;Dt<wt;Dt++)St[Dt]=arguments[Dt+2];J.children=St}if(I&&I.defaultProps)for(st in wt=I.defaultProps,wt)J[st]===void 0&&(J[st]=wt[st]);return ot(I,ct,J)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(I){return{$$typeof:d,render:I}},$t.isValidElement=yt,$t.lazy=function(I){return{$$typeof:g,_payload:{_status:-1,_result:I},_init:H}},$t.memo=function(I,z){return{$$typeof:p,type:I,compare:z===void 0?null:z}},$t.startTransition=function(I){var z=U.T,K={};U.T=K;try{var st=I(),J=U.S;J!==null&&J(K,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(W,dt)}catch(ct){dt(ct)}finally{z!==null&&K.types!==null&&(z.types=K.types),U.T=z}},$t.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},$t.use=function(I){return U.H.use(I)},$t.useActionState=function(I,z,K){return U.H.useActionState(I,z,K)},$t.useCallback=function(I,z){return U.H.useCallback(I,z)},$t.useContext=function(I){return U.H.useContext(I)},$t.useDebugValue=function(){},$t.useDeferredValue=function(I,z){return U.H.useDeferredValue(I,z)},$t.useEffect=function(I,z){return U.H.useEffect(I,z)},$t.useEffectEvent=function(I){return U.H.useEffectEvent(I)},$t.useId=function(){return U.H.useId()},$t.useImperativeHandle=function(I,z,K){return U.H.useImperativeHandle(I,z,K)},$t.useInsertionEffect=function(I,z){return U.H.useInsertionEffect(I,z)},$t.useLayoutEffect=function(I,z){return U.H.useLayoutEffect(I,z)},$t.useMemo=function(I,z){return U.H.useMemo(I,z)},$t.useOptimistic=function(I,z){return U.H.useOptimistic(I,z)},$t.useReducer=function(I,z,K){return U.H.useReducer(I,z,K)},$t.useRef=function(I){return U.H.useRef(I)},$t.useState=function(I){return U.H.useState(I)},$t.useSyncExternalStore=function(I,z,K){return U.H.useSyncExternalStore(I,z,K)},$t.useTransition=function(){return U.H.useTransition()},$t.version="19.2.1",$t}var rx;function Vy(){return rx||(rx=1,dg.exports=PM()),dg.exports}var O=Vy();const rt=Wh(O),Yh=dE({__proto__:null,default:rt},[O]);var fg={exports:{}},hc={},hg={exports:{}},mg={};var sx;function kM(){return sx||(sx=1,(function(t){function e($,G){var H=$.length;$.push(G);t:for(;0<H;){var dt=H-1>>>1,at=$[dt];if(0<o(at,G))$[dt]=G,$[H]=at,H=dt;else break t}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],H=$.pop();if(H!==G){$[0]=H;t:for(var dt=0,at=$.length,I=at>>>1;dt<I;){var z=2*(dt+1)-1,K=$[z],st=z+1,J=$[st];if(0>o(K,H))st<at&&0>o(J,K)?($[dt]=J,$[st]=H,dt=st):($[dt]=K,$[z]=H,dt=z);else if(st<at&&0>o(J,H))$[dt]=J,$[st]=H,dt=st;else break t}}return G}function o($,G){var H=$.sortIndex-G.sortIndex;return H!==0?H:$.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],p=[],g=1,y=null,w=3,x=!1,C=!1,E=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B($){for(var G=n(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=$)r(p),G.sortIndex=G.expirationTime,e(m,G);else break;G=n(p)}}function q($){if(E=!1,B($),!C)if(n(m)!==null)C=!0,W||(W=!0,_t());else{var G=n(p);G!==null&&bt(q,G.startTime-$)}}var W=!1,U=-1,Y=5,ot=-1;function gt(){return R?!0:!(t.unstable_now()-ot<Y)}function yt(){if(R=!1,W){var $=t.unstable_now();ot=$;var G=!0;try{t:{C=!1,E&&(E=!1,j(U),U=-1),x=!0;var H=w;try{e:{for(B($),y=n(m);y!==null&&!(y.expirationTime>$&&gt());){var dt=y.callback;if(typeof dt=="function"){y.callback=null,w=y.priorityLevel;var at=dt(y.expirationTime<=$);if($=t.unstable_now(),typeof at=="function"){y.callback=at,B($),G=!0;break e}y===n(m)&&r(m),B($)}else r(m);y=n(m)}if(y!==null)G=!0;else{var I=n(p);I!==null&&bt(q,I.startTime-$),G=!1}}break t}finally{y=null,w=H,x=!1}G=void 0}}finally{G?_t():W=!1}}}var _t;if(typeof D=="function")_t=function(){D(yt)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,ut=vt.port2;vt.port1.onmessage=yt,_t=function(){ut.postMessage(null)}}else _t=function(){M(yt,0)};function bt($,G){U=M(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function($){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var H=w;w=G;try{return $()}finally{w=H}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=w;w=$;try{return G()}finally{w=H}},t.unstable_scheduleCallback=function($,G,H){var dt=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?dt+H:dt):H=dt,$){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=H+at,$={id:g++,callback:G,priorityLevel:$,startTime:H,expirationTime:at,sortIndex:-1},H>dt?($.sortIndex=H,e(p,$),n(m)===null&&$===n(p)&&(E?(j(U),U=-1):E=!0,bt(q,H-dt))):($.sortIndex=at,e(m,$),C||x||(C=!0,W||(W=!0,_t()))),$},t.unstable_shouldYield=gt,t.unstable_wrapCallback=function($){var G=w;return function(){var H=w;w=G;try{return $.apply(this,arguments)}finally{w=H}}}})(mg)),mg}var ox;function DM(){return ox||(ox=1,hg.exports=kM()),hg.exports}var pg={exports:{}},Nn={};var ax;function NM(){if(ax)return Nn;ax=1;var t=Vy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(m,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:p,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nn.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(m,p,null,g)},Nn.flushSync=function(m){var p=u.T,g=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=p,r.p=g,r.d.f()}},Nn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},Nn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Nn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,y=d(g,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:x}):g==="script"&&r.d.X(m,{crossOrigin:y,integrity:w,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Nn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},Nn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=d(g,p.crossOrigin);r.d.L(m,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Nn.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},Nn.requestFormReset=function(m){r.d.r(m)},Nn.unstable_batchedUpdates=function(m,p){return m(p)},Nn.useFormState=function(m,p,g){return u.H.useFormState(m,p,g)},Nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Nn.version="19.2.1",Nn}var lx;function fE(){if(lx)return pg.exports;lx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pg.exports=NM(),pg.exports}var ux;function jM(){if(ux)return hc;ux=1;var t=DM(),e=Vy(),n=fE();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(a(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=a(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,h=s;;){var _=c.return;if(_===null)break;var b=_.alternate;if(b===null){if(h=_.return,h!==null){c=h;continue}break}if(_.child===b.child){for(b=_.child;b;){if(b===c)return m(_),i;if(b===h)return m(_),s;b=b.sibling}throw Error(r(188))}if(c.return!==h.return)c=_,h=b;else{for(var A=!1,N=_.child;N;){if(N===c){A=!0,c=_,h=b;break}if(N===h){A=!0,h=_,c=b;break}N=N.sibling}if(!A){for(N=b.child;N;){if(N===c){A=!0,c=b,h=_;break}if(N===h){A=!0,h=b,c=_;break}N=N.sibling}if(!A)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ot=Symbol.for("react.activity"),gt=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function _t(i){return i===null||typeof i!="object"?null:(i=yt&&i[yt]||i["@@iterator"],typeof i=="function"?i:null)}var vt=Symbol.for("react.client.reference");function ut(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===vt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case M:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case W:return"SuspenseList";case ot:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case D:return i.displayName||"Context";case j:return(i._context.displayName||"Context")+".Consumer";case B:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return s=i.displayName||null,s!==null?s:ut(i.type)||"Memo";case Y:s=i._payload,i=i._init;try{return ut(i(s))}catch{}}return null}var bt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},dt=[],at=-1;function I(i){return{current:i}}function z(i){0>at||(i.current=dt[at],dt[at]=null,at--)}function K(i,s){at++,dt[at]=i.current,i.current=s}var st=I(null),J=I(null),ct=I(null),wt=I(null);function St(i,s){switch(K(ct,s),K(J,i),K(st,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Ew(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Ew(s),i=Cw(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}z(st),K(st,i)}function Dt(){z(st),z(J),z(ct)}function Te(i){i.memoizedState!==null&&K(wt,i);var s=st.current,c=Cw(s,i.type);s!==c&&(K(J,i),K(st,c))}function ze(i){J.current===i&&(z(st),z(J)),wt.current===i&&(z(wt),lc._currentValue=H)}var He,hi;function Pt(i){if(He===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);He=s&&s[1]||"",hi=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+i+hi}var Yi=!1;function Li(i,s){if(!i||Yi)return"";Yi=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(lt){var it=lt}Reflect.construct(i,[],pt)}else{try{pt.call()}catch(lt){it=lt}i.call(pt.prototype)}}else{try{throw Error()}catch(lt){it=lt}(pt=i())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(lt){if(lt&&it&&typeof lt.stack=="string")return[lt.stack,it.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),A=b[0],N=b[1];if(A&&N){var F=A.split(`
`),et=N.split(`
`);for(_=h=0;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;for(;_<et.length&&!et[_].includes("DetermineComponentFrameRoot");)_++;if(h===F.length||_===et.length)for(h=F.length-1,_=et.length-1;1<=h&&0<=_&&F[h]!==et[_];)_--;for(;1<=h&&0<=_;h--,_--)if(F[h]!==et[_]){if(h!==1||_!==1)do if(h--,_--,0>_||F[h]!==et[_]){var ft=`
`+F[h].replace(" at new "," at ");return i.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",i.displayName)),ft}while(1<=h&&0<=_);break}}}finally{Yi=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Pt(c):""}function Un(i,s){switch(i.tag){case 26:case 27:case 5:return Pt(i.type);case 16:return Pt("Lazy");case 13:return i.child!==s&&s!==null?Pt("Suspense Fallback"):Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 15:return Li(i.type,!1);case 11:return Li(i.type.render,!1);case 1:return Li(i.type,!0);case 31:return Pt("Activity");default:return""}}function Pi(i){try{var s="",c=null;do s+=Un(i,c),c=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var _n=Object.prototype.hasOwnProperty,Vn=t.unstable_scheduleCallback,ki=t.unstable_cancelCallback,Ke=t.unstable_shouldYield,bn=t.unstable_requestPaint,an=t.unstable_now,Rs=t.unstable_getCurrentPriorityLevel,mi=t.unstable_ImmediatePriority,Fr=t.unstable_UserBlockingPriority,Fn=t.unstable_NormalPriority,$r=t.unstable_LowPriority,$n=t.unstable_IdlePriority,Hr=t.log,Mn=t.unstable_setDisableYieldValue,pi=null,qe=null;function Ln(i){if(typeof Hr=="function"&&Mn(i),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(pi,i)}catch{}}var We=Math.clz32?Math.clz32:Ot,Xi=Math.log,qr=Math.LN2;function Ot(i){return i>>>=0,i===0?32:31-(Xi(i)/qr|0)|0}var Wt=256,te=262144,Ht=4194304;function se(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function At(i,s,c){var h=i.pendingLanes;if(h===0)return 0;var _=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var N=h&134217727;return N!==0?(h=N&~b,h!==0?_=se(h):(A&=N,A!==0?_=se(A):c||(c=N&~i,c!==0&&(_=se(c))))):(N=h&~b,N!==0?_=se(N):A!==0?_=se(A):c||(c=h&~i,c!==0&&(_=se(c)))),_===0?0:s!==0&&s!==_&&(s&b)===0&&(b=_&-_,c=s&-s,b>=c||b===32&&(c&4194048)!==0)?s:_}function qt(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function he(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function de(){var i=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),i}function mn(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function ee(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function be(i,s,c,h,_,b){var A=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var N=i.entanglements,F=i.expirationTimes,et=i.hiddenUpdates;for(c=A&~c;0<c;){var ft=31-We(c),pt=1<<ft;N[ft]=0,F[ft]=-1;var it=et[ft];if(it!==null)for(et[ft]=null,ft=0;ft<it.length;ft++){var lt=it[ft];lt!==null&&(lt.lane&=-536870913)}c&=~pt}h!==0&&Wn(i,h,0),b!==0&&_===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~s))}function Wn(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-We(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function ln(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var h=31-We(c),_=1<<h;_&s|i[h]&s&&(i[h]|=s),c&=~_}}function Pn(i,s){var c=s&-s;return c=(c&42)!==0?1:wn(c),(c&(i.suspendedLanes|s))!==0?0:c}function wn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Et(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ua(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:Kw(i.type))}function fu(i,s){var c=G.p;try{return G.p=i,s()}finally{G.p=c}}var Qi=Math.random().toString(36).slice(2),Ye="__reactFiber$"+Qi,pn="__reactProps$"+Qi,Gr="__reactContainer$"+Qi,gr="__reactEvents$"+Qi,hd="__reactListeners$"+Qi,_m="__reactHandles$"+Qi,md="__reactResources$"+Qi,Mo="__reactMarker$"+Qi;function hu(i){delete i[Ye],delete i[pn],delete i[gr],delete i[hd],delete i[_m]}function Zr(i){var s=i[Ye];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Gr]||c[Ye]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=Pw(i);i!==null;){if(c=i[Ye])return c;i=Pw(i)}return s}i=c,c=i.parentNode}return null}function Os(i){if(i=i[Ye]||i[Gr]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function vr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ms(i){var s=i[md];return s||(s=i[md]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Xe(i){i[Mo]=!0}var pd=new Set,gd={};function Kr(i,s){yr(i,s),yr(i+"Capture",s)}function yr(i,s){for(gd[i]=s,i=0;i<s.length;i++)pd.add(s[i])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mu={},pu={};function Po(i){return _n.call(pu,i)?!0:_n.call(mu,i)?!1:Lo.test(i)?pu[i]=!0:(mu[i]=!0,!1)}function Yt(i,s,c){if(Po(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function ge(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function Yn(i,s,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+h)}}function un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Wr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gu(i,s,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,b=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return _.call(this)},set:function(A){c=""+A,b.call(this,A)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ft(i){if(!i._valueTracker){var s=Wr(i)?"checked":"value";i._valueTracker=gu(i,s,""+i[s])}}function Me(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),h="";return i&&(h=Wr(i)?i.checked?"true":"false":i.value),i=h,i!==c?(s.setValue(i),!0):!1}function Ls(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Va=/[\n"\\]/g;function Ae(i){return i.replace(Va,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vu(i,s,c,h,_,b,A,N){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+un(s)):i.value!==""+un(s)&&(i.value=""+un(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?Ji(i,A,un(s)):c!=null?Ji(i,A,un(c)):h!=null&&i.removeAttribute("value"),_==null&&b!=null&&(i.defaultChecked=!!b),_!=null&&(i.checked=_&&typeof _!="function"&&typeof _!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+un(N):i.removeAttribute("name")}function ko(i,s,c,h,_,b,A,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),s!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){Ft(i);return}c=c!=null?""+un(c):"",s=s!=null?""+un(s):c,N||s===i.value||(i.value=s),i.defaultValue=s}h=h??_,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=N?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Ft(i)}function Ji(i,s,c){s==="number"&&Ls(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function we(i,s,c,h){if(i=i.options,s){s={};for(var _=0;_<c.length;_++)s["$"+c[_]]=!0;for(c=0;c<i.length;c++)_=s.hasOwnProperty("$"+i[c].value),i[c].selected!==_&&(i[c].selected=_),_&&h&&(i[c].defaultSelected=!0)}else{for(c=""+un(c),s=null,_=0;_<i.length;_++){if(i[_].value===c){i[_].selected=!0,h&&(i[_].defaultSelected=!0);return}s!==null||i[_].disabled||(s=i[_])}s!==null&&(s.selected=!0)}}function _r(i,s,c){if(s!=null&&(s=""+un(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+un(c):""}function Ps(i,s,c,h){if(s==null){if(h!=null){if(c!=null)throw Error(r(92));if(bt(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),s=c}c=un(s),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),Ft(i)}function Di(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ks(i,s,c){var h=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,c):typeof c!="number"||c===0||yu.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function Fa(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var _ in s)h=s[_],s.hasOwnProperty(_)&&c[_]!==h&&ks(i,_,h)}else for(var b in s)s.hasOwnProperty(b)&&ks(i,b,s[b])}function Do(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $a=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_u=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(i){return _u.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Xn(){}var Ha=null;function No(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ns=null,Bt=null;function gi(i){var s=Os(i);if(s&&(i=s.stateNode)){var c=i[pn]||null;t:switch(i=s.stateNode,s.type){case"input":if(vu(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ae(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var h=c[s];if(h!==i&&h.form===i.form){var _=h[pn]||null;if(!_)throw Error(r(90));vu(h,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(s=0;s<c.length;s++)h=c[s],h.form===i.form&&Me(h)}break t;case"textarea":_r(i,c.value,c.defaultValue);break t;case"select":s=c.value,s!=null&&we(i,!!c.multiple,s,!1)}}}var fe=!1;function bu(i,s,c){if(fe)return i(s,c);fe=!0;try{var h=i(s);return h}finally{if(fe=!1,(Ns!==null||Bt!==null)&&(hf(),Ns&&(s=Ns,i=Bt,Bt=Ns=null,gi(s),i)))for(s=0;s<i.length;s++)gi(i[s])}}function Yr(i,s){var c=i.stateNode;if(c===null)return null;var h=c[pn]||null;if(h===null)return null;c=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=!1;if(vi)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){jo=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{jo=!1}var Ni=null,Xr=null,Ie=null;function br(){if(Ie)return Ie;var i,s=Xr,c=s.length,h,_="value"in Ni?Ni.value:Ni.textContent,b=_.length;for(i=0;i<c&&s[i]===_[i];i++);var A=c-i;for(h=1;h<=A&&s[c-h]===_[b-h];h++);return Ie=_.slice(i,1<h?1-h:void 0)}function Bo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function zo(){return!0}function vd(){return!1}function xn(i){function s(c,h,_,b,A){this._reactName=c,this._targetInst=_,this.type=h,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(c=i[N],this[N]=c?c(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?zo:vd,this.isPropagationStopped=vd,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=zo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=zo)},persist:function(){},isPersistent:zo}),s}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=xn(tr),js=y({},tr,{view:0,detail:0}),ne=xn(js),wu,Hn,er,Io=y({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==er&&(er&&i.type==="mousemove"?(wu=i.screenX-er.screenX,Hn=i.screenY-er.screenY):Hn=wu=0,er=i),wu)},movementY:function(i){return"movementY"in i?i.movementY:Hn}}),yd=xn(Io),xu=y({},Io,{dataTransfer:0}),bm=xn(xu),_d=y({},js,{relatedTarget:0}),Su=xn(_d),wm=y({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=xn(wm),xm=y({},tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ji=xn(xm),Sm=y({},tr,{data:0}),Cu=xn(Sm),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=wd[i])?!!s[i]:!1}function Au(){return Tu}var xd=y({},js,{key:function(i){if(i.key){var s=wr[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Bo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?bd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(i){return i.type==="keypress"?Bo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Bo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Sd=xn(xd),Em=y({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=xn(Em),Ru=y({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),Cm=xn(Ru),Cd=y({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Td=xn(Cd),Ga=y({},Io,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Qr=xn(Ga),Tm=y({},tr,{newState:0,oldState:0}),Uo=xn(Tm),Qn=[9,13,27,32],Za=vi&&"CompositionEvent"in window,Bs=null;vi&&"documentMode"in document&&(Bs=document.documentMode);var Am=vi&&"TextEvent"in window&&!Bs,Ka=vi&&(!Za||Bs&&8<Bs&&11>=Bs),Wa=" ",Ad=!1;function Rd(i,s){switch(i){case"keyup":return Qn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zs=!1;function _i(i,s){switch(i){case"compositionend":return Ou(s);case"keypress":return s.which!==32?null:(Ad=!0,Wa);case"textInput":return i=s.data,i===Wa&&Ad?null:i;default:return null}}function Is(i,s){if(zs)return i==="compositionend"||!Za&&Rd(i,s)?(i=br(),Ie=Xr=Ni=null,zs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ka&&s.locale!=="ko"?null:s.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bi(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Rm[i.type]:s==="textarea"}function Od(i,s,c,h){Ns?Bt?Bt.push(h):Bt=[h]:Ns=h,s=bf(s,"onChange"),0<s.length&&(c=new qa("onChange","change",null,c,h),i.push({event:c,listeners:s}))}var zi=null,Vo=null;function Fo(i){yw(i,0)}function $o(i){var s=vr(i);if(Me(s))return i}function Ho(i,s){if(i==="change")return s}var Md=!1;if(vi){var Ii;if(vi){var Us="oninput"in document;if(!Us){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),Us=typeof Ld.oninput=="function"}Ii=Us}else Ii=!1;Md=Ii&&(!document.documentMode||9<document.documentMode)}function Ya(){zi&&(zi.detachEvent("onpropertychange",Pd),Vo=zi=null)}function Pd(i){if(i.propertyName==="value"&&$o(Vo)){var s=[];Od(s,Vo,i,No(i)),bu(Fo,s)}}function nr(i,s,c){i==="focusin"?(Ya(),zi=s,Vo=c,zi.attachEvent("onpropertychange",Pd)):i==="focusout"&&Ya()}function Om(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $o(Vo)}function Vs(i,s){if(i==="click")return $o(s)}function Mm(i,s){if(i==="input"||i==="change")return $o(s)}function ir(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var gn=typeof Object.is=="function"?Object.is:ir;function Fs(i,s){if(gn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),h=Object.keys(s);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var _=c[h];if(!_n.call(s,_)||!gn(i[_],s[_]))return!1}return!0}function Xa(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qo(i,s){var c=Xa(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=s&&h>=s)return{node:c,offset:s-i};i=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Xa(c)}}function Qa(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Qa(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Go(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ls(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=Ls(i.document)}return s}function xr(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Ja=vi&&"documentMode"in document&&11>=document.documentMode,Sr=null,tl=null,Zo=null,$s=!1;function kd(i,s,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;$s||Sr==null||Sr!==Ls(h)||(h=Sr,"selectionStart"in h&&xr(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Zo&&Fs(Zo,h)||(Zo=h,h=bf(tl,"onSelect"),0<h.length&&(s=new qa("onSelect","select",null,s,c),i.push({event:s,listeners:h}),s.target=Sr)))}function Er(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var Hs={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},el={},Dd={};vi&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function vn(i){if(el[i])return el[i];if(!Hs[i])return i;var s=Hs[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in Dd)return el[i]=s[c];return i}var Ko=vn("animationend"),Nd=vn("animationiteration"),Wo=vn("animationstart"),Lm=vn("transitionrun"),jd=vn("transitionstart"),Pm=vn("transitioncancel"),qs=vn("transitionend"),Bd=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cr.push("scrollEnd");function Jn(i,s){Bd.set(i,s),Kr(s,[i])}var Yo=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ti=[],kn=0,nl=0;function Xo(){for(var i=kn,s=nl=kn=0;s<i;){var c=ti[s];ti[s++]=null;var h=ti[s];ti[s++]=null;var _=ti[s];ti[s++]=null;var b=ti[s];if(ti[s++]=null,h!==null&&_!==null){var A=h.pending;A===null?_.next=_:(_.next=A.next,A.next=_),h.pending=_}b!==0&&Gs(c,_,b)}}function Tr(i,s,c,h){ti[kn++]=i,ti[kn++]=s,ti[kn++]=c,ti[kn++]=h,nl|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Mu(i,s,c,h){return Tr(i,s,c,h),Qo(i)}function Ui(i,s){return Tr(i,null,null,s),Qo(i)}function Gs(i,s,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var _=!1,b=i.return;b!==null;)b.childLanes|=c,h=b.alternate,h!==null&&(h.childLanes|=c),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(_=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,_&&s!==null&&(_=31-We(c),i=b.hiddenUpdates,h=i[_],h===null?i[_]=[s]:h.push(s),s.lane=c|536870912),b):null}function Qo(i){if(50<ec)throw ec=0,Dp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Jr={};function km(i,s,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,s,c,h){return new km(i,s,c,h)}function il(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Vi(i,s){var c=i.alternate;return c===null?(c=Dn(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Lu(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Jo(i,s,c,h,_,b){var A=0;if(h=i,typeof i=="function")il(i)&&(A=1);else if(typeof i=="string")A=yM(i,c,st.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case ot:return i=Dn(31,c,s,_),i.elementType=ot,i.lanes=b,i;case E:return ts(c.children,_,b,s);case R:A=8,_|=24;break;case M:return i=Dn(12,c,s,_|2),i.elementType=M,i.lanes=b,i;case q:return i=Dn(13,c,s,_),i.elementType=q,i.lanes=b,i;case W:return i=Dn(19,c,s,_),i.elementType=W,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:A=10;break t;case j:A=9;break t;case B:A=11;break t;case U:A=14;break t;case Y:A=16,h=null;break t}A=29,c=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=Dn(A,c,s,_),s.elementType=i,s.type=h,s.lanes=b,s}function ts(i,s,c,h){return i=Dn(7,i,h,s),i.lanes=c,i}function rl(i,s,c){return i=Dn(6,i,null,s),i.lanes=c,i}function Pu(i){var s=Dn(18,null,null,0);return s.stateNode=i,s}function ku(i,s,c){return s=Dn(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var l=new WeakMap;function f(i,s){if(typeof i=="object"&&i!==null){var c=l.get(i);return c!==void 0?c:(s={value:i,source:s,stack:Pi(s)},l.set(i,s),s)}return{value:i,source:s,stack:Pi(s)}}var v=[],S=0,T=null,k=0,V=[],Q=0,nt=null,mt=1,xt="";function Lt(i,s){v[S++]=k,v[S++]=T,T=i,k=s}function Zt(i,s,c){V[Q++]=mt,V[Q++]=xt,V[Q++]=nt,nt=i;var h=mt;i=xt;var _=32-We(h)-1;h&=~(1<<_),c+=1;var b=32-We(s)+_;if(30<b){var A=_-_%5;b=(h&(1<<A)-1).toString(32),h>>=A,_-=A,mt=1<<32-We(s)+_|c<<_|h,xt=b+i}else mt=1<<b|c<<_|h,xt=i}function cn(i){i.return!==null&&(Lt(i,1),Zt(i,1,0))}function Ue(i){for(;i===T;)T=v[--S],v[S]=null,k=v[--S],v[S]=null;for(;i===nt;)nt=V[--Q],V[Q]=null,xt=V[--Q],V[Q]=null,mt=V[--Q],V[Q]=null}function qn(i,s){V[Q++]=mt,V[Q++]=xt,V[Q++]=nt,mt=s.id,xt=s.overflow,nt=i}var oe=null,ae=null,Xt=!1,Ar=null,ei=!1,sl=Error(r(519));function Rr(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ta(f(s,i)),sl}function Du(i){var s=i.stateNode,c=i.type,h=i.memoizedProps;switch(s[Ye]=i,s[pn]=h,c){case"dialog":Jt("cancel",s),Jt("close",s);break;case"iframe":case"object":case"embed":Jt("load",s);break;case"video":case"audio":for(c=0;c<ic.length;c++)Jt(ic[c],s);break;case"source":Jt("error",s);break;case"img":case"image":case"link":Jt("error",s),Jt("load",s);break;case"details":Jt("toggle",s);break;case"input":Jt("invalid",s),ko(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Jt("invalid",s);break;case"textarea":Jt("invalid",s),Ps(s,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||h.suppressHydrationWarning===!0||xw(s.textContent,c)?(h.popover!=null&&(Jt("beforetoggle",s),Jt("toggle",s)),h.onScroll!=null&&Jt("scroll",s),h.onScrollEnd!=null&&Jt("scrollend",s),h.onClick!=null&&(s.onclick=Xn),s=!0):s=!1,s||Rr(i,!0)}function Ne(i){for(oe=i.return;oe;)switch(oe.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:oe=oe.return}}function rr(i){if(i!==oe)return!1;if(!Xt)return Ne(i),Xt=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Wp(i.type,i.memoizedProps)),c=!c),c&&ae&&Rr(i),Ne(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ae=Lw(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ae=Lw(i)}else s===27?(s=ae,oo(i.type)?(i=tg,tg=null,ae=i):ae=s):ae=oe?$i(i.stateNode.nextSibling):null;return!0}function es(){ae=oe=null,Xt=!1}function Nu(){var i=Ar;return i!==null&&(si===null?si=i:si.push.apply(si,i),Ar=null),i}function ta(i){Ar===null?Ar=[i]:Ar.push(i)}var ea=I(null),Or=null,sr=null;function Zs(i,s,c){K(ea,s._currentValue),s._currentValue=c}function ns(i){i._currentValue=ea.current,z(ea)}function Dm(i,s,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===c)break;i=i.return}}function Nm(i,s,c,h){var _=i.child;for(_!==null&&(_.return=i);_!==null;){var b=_.dependencies;if(b!==null){var A=_.child;b=b.firstContext;t:for(;b!==null;){var N=b;b=_;for(var F=0;F<s.length;F++)if(N.context===s[F]){b.lanes|=c,N=b.alternate,N!==null&&(N.lanes|=c),Dm(b.return,c,i),h||(A=null);break t}b=N.next}}else if(_.tag===18){if(A=_.return,A===null)throw Error(r(341));A.lanes|=c,b=A.alternate,b!==null&&(b.lanes|=c),Dm(A,c,i),A=null}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===i){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}}function ol(i,s,c,h){i=null;for(var _=s,b=!1;_!==null;){if(!b){if((_.flags&524288)!==0)b=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var A=_.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var N=_.type;gn(_.pendingProps.value,A.value)||(i!==null?i.push(N):i=[N])}}else if(_===wt.current){if(A=_.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(i!==null?i.push(lc):i=[lc])}_=_.return}i!==null&&Nm(s,i,c,h),s.flags|=262144}function zd(i){for(i=i.firstContext;i!==null;){if(!gn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function na(i){Or=i,sr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Sn(i){return a_(Or,i)}function Id(i,s){return Or===null&&na(i),a_(i,s)}function a_(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},sr===null){if(i===null)throw Error(r(308));sr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else sr=sr.next=s;return c}var mO=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},pO=t.unstable_scheduleCallback,gO=t.unstable_NormalPriority,Qe={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new mO,data:new Map,refCount:0}}function ju(i){i.refCount--,i.refCount===0&&pO(gO,function(){i.controller.abort()})}var Bu=null,Bm=0,al=0,ll=null;function vO(i,s){if(Bu===null){var c=Bu=[];Bm=0,al=Up(),ll={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Bm++,s.then(l_,l_),s}function l_(){if(--Bm===0&&Bu!==null){ll!==null&&(ll.status="fulfilled");var i=Bu;Bu=null,al=0,ll=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function yO(i,s){var c=[],h={status:"pending",value:null,reason:null,then:function(_){c.push(_)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var _=0;_<c.length;_++)(0,c[_])(s)},function(_){for(h.status="rejected",h.reason=_,_=0;_<c.length;_++)(0,c[_])(void 0)}),h}var u_=$.S;$.S=function(i,s){Gb=an(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&vO(i,s),u_!==null&&u_(i,s)};var ia=I(null);function zm(){var i=ia.current;return i!==null?i:xe.pooledCache}function Ud(i,s){s===null?K(ia,ia.current):K(ia,s.pool)}function c_(){var i=zm();return i===null?null:{parent:Qe._currentValue,pool:i}}var ul=Error(r(460)),Im=Error(r(474)),Vd=Error(r(542)),Fd={then:function(){}};function d_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function f_(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(Xn,Xn),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,m_(i),i;default:if(typeof s.status=="string")s.then(Xn,Xn);else{if(i=xe,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var _=s;_.status="fulfilled",_.value=h}},function(h){if(s.status==="pending"){var _=s;_.status="rejected",_.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,m_(i),i}throw sa=s,ul}}function ra(i){try{var s=i._init;return s(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(sa=c,ul):c}}var sa=null;function h_(){if(sa===null)throw Error(r(459));var i=sa;return sa=null,i}function m_(i){if(i===ul||i===Vd)throw Error(r(483))}var cl=null,zu=0;function $d(i){var s=zu;return zu+=1,cl===null&&(cl=[]),f_(cl,i,s)}function Iu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Hd(i,s){throw s.$$typeof===w?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function p_(i){function s(X,Z){if(i){var tt=X.deletions;tt===null?(X.deletions=[Z],X.flags|=16):tt.push(Z)}}function c(X,Z){if(!i)return null;for(;Z!==null;)s(X,Z),Z=Z.sibling;return null}function h(X){for(var Z=new Map;X!==null;)X.key!==null?Z.set(X.key,X):Z.set(X.index,X),X=X.sibling;return Z}function _(X,Z){return X=Vi(X,Z),X.index=0,X.sibling=null,X}function b(X,Z,tt){return X.index=tt,i?(tt=X.alternate,tt!==null?(tt=tt.index,tt<Z?(X.flags|=67108866,Z):tt):(X.flags|=67108866,Z)):(X.flags|=1048576,Z)}function A(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function N(X,Z,tt,ht){return Z===null||Z.tag!==6?(Z=rl(tt,X.mode,ht),Z.return=X,Z):(Z=_(Z,tt),Z.return=X,Z)}function F(X,Z,tt,ht){var kt=tt.type;return kt===E?ft(X,Z,tt.props.children,ht,tt.key):Z!==null&&(Z.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===Y&&ra(kt)===Z.type)?(Z=_(Z,tt.props),Iu(Z,tt),Z.return=X,Z):(Z=Jo(tt.type,tt.key,tt.props,null,X.mode,ht),Iu(Z,tt),Z.return=X,Z)}function et(X,Z,tt,ht){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==tt.containerInfo||Z.stateNode.implementation!==tt.implementation?(Z=ku(tt,X.mode,ht),Z.return=X,Z):(Z=_(Z,tt.children||[]),Z.return=X,Z)}function ft(X,Z,tt,ht,kt){return Z===null||Z.tag!==7?(Z=ts(tt,X.mode,ht,kt),Z.return=X,Z):(Z=_(Z,tt),Z.return=X,Z)}function pt(X,Z,tt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=rl(""+Z,X.mode,tt),Z.return=X,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return tt=Jo(Z.type,Z.key,Z.props,null,X.mode,tt),Iu(tt,Z),tt.return=X,tt;case C:return Z=ku(Z,X.mode,tt),Z.return=X,Z;case Y:return Z=ra(Z),pt(X,Z,tt)}if(bt(Z)||_t(Z))return Z=ts(Z,X.mode,tt,null),Z.return=X,Z;if(typeof Z.then=="function")return pt(X,$d(Z),tt);if(Z.$$typeof===D)return pt(X,Id(X,Z),tt);Hd(X,Z)}return null}function it(X,Z,tt,ht){var kt=Z!==null?Z.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return kt!==null?null:N(X,Z,""+tt,ht);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:return tt.key===kt?F(X,Z,tt,ht):null;case C:return tt.key===kt?et(X,Z,tt,ht):null;case Y:return tt=ra(tt),it(X,Z,tt,ht)}if(bt(tt)||_t(tt))return kt!==null?null:ft(X,Z,tt,ht,null);if(typeof tt.then=="function")return it(X,Z,$d(tt),ht);if(tt.$$typeof===D)return it(X,Z,Id(X,tt),ht);Hd(X,tt)}return null}function lt(X,Z,tt,ht,kt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return X=X.get(tt)||null,N(Z,X,""+ht,kt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case x:return X=X.get(ht.key===null?tt:ht.key)||null,F(Z,X,ht,kt);case C:return X=X.get(ht.key===null?tt:ht.key)||null,et(Z,X,ht,kt);case Y:return ht=ra(ht),lt(X,Z,tt,ht,kt)}if(bt(ht)||_t(ht))return X=X.get(tt)||null,ft(Z,X,ht,kt,null);if(typeof ht.then=="function")return lt(X,Z,tt,$d(ht),kt);if(ht.$$typeof===D)return lt(X,Z,tt,Id(Z,ht),kt);Hd(Z,ht)}return null}function Tt(X,Z,tt,ht){for(var kt=null,le=null,Rt=Z,Kt=Z=0,re=null;Rt!==null&&Kt<tt.length;Kt++){Rt.index>Kt?(re=Rt,Rt=null):re=Rt.sibling;var ue=it(X,Rt,tt[Kt],ht);if(ue===null){Rt===null&&(Rt=re);break}i&&Rt&&ue.alternate===null&&s(X,Rt),Z=b(ue,Z,Kt),le===null?kt=ue:le.sibling=ue,le=ue,Rt=re}if(Kt===tt.length)return c(X,Rt),Xt&&Lt(X,Kt),kt;if(Rt===null){for(;Kt<tt.length;Kt++)Rt=pt(X,tt[Kt],ht),Rt!==null&&(Z=b(Rt,Z,Kt),le===null?kt=Rt:le.sibling=Rt,le=Rt);return Xt&&Lt(X,Kt),kt}for(Rt=h(Rt);Kt<tt.length;Kt++)re=lt(Rt,X,Kt,tt[Kt],ht),re!==null&&(i&&re.alternate!==null&&Rt.delete(re.key===null?Kt:re.key),Z=b(re,Z,Kt),le===null?kt=re:le.sibling=re,le=re);return i&&Rt.forEach(function(fo){return s(X,fo)}),Xt&&Lt(X,Kt),kt}function Nt(X,Z,tt,ht){if(tt==null)throw Error(r(151));for(var kt=null,le=null,Rt=Z,Kt=Z=0,re=null,ue=tt.next();Rt!==null&&!ue.done;Kt++,ue=tt.next()){Rt.index>Kt?(re=Rt,Rt=null):re=Rt.sibling;var fo=it(X,Rt,ue.value,ht);if(fo===null){Rt===null&&(Rt=re);break}i&&Rt&&fo.alternate===null&&s(X,Rt),Z=b(fo,Z,Kt),le===null?kt=fo:le.sibling=fo,le=fo,Rt=re}if(ue.done)return c(X,Rt),Xt&&Lt(X,Kt),kt;if(Rt===null){for(;!ue.done;Kt++,ue=tt.next())ue=pt(X,ue.value,ht),ue!==null&&(Z=b(ue,Z,Kt),le===null?kt=ue:le.sibling=ue,le=ue);return Xt&&Lt(X,Kt),kt}for(Rt=h(Rt);!ue.done;Kt++,ue=tt.next())ue=lt(Rt,X,Kt,ue.value,ht),ue!==null&&(i&&ue.alternate!==null&&Rt.delete(ue.key===null?Kt:ue.key),Z=b(ue,Z,Kt),le===null?kt=ue:le.sibling=ue,le=ue);return i&&Rt.forEach(function(OM){return s(X,OM)}),Xt&&Lt(X,Kt),kt}function _e(X,Z,tt,ht){if(typeof tt=="object"&&tt!==null&&tt.type===E&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:t:{for(var kt=tt.key;Z!==null;){if(Z.key===kt){if(kt=tt.type,kt===E){if(Z.tag===7){c(X,Z.sibling),ht=_(Z,tt.props.children),ht.return=X,X=ht;break t}}else if(Z.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===Y&&ra(kt)===Z.type){c(X,Z.sibling),ht=_(Z,tt.props),Iu(ht,tt),ht.return=X,X=ht;break t}c(X,Z);break}else s(X,Z);Z=Z.sibling}tt.type===E?(ht=ts(tt.props.children,X.mode,ht,tt.key),ht.return=X,X=ht):(ht=Jo(tt.type,tt.key,tt.props,null,X.mode,ht),Iu(ht,tt),ht.return=X,X=ht)}return A(X);case C:t:{for(kt=tt.key;Z!==null;){if(Z.key===kt)if(Z.tag===4&&Z.stateNode.containerInfo===tt.containerInfo&&Z.stateNode.implementation===tt.implementation){c(X,Z.sibling),ht=_(Z,tt.children||[]),ht.return=X,X=ht;break t}else{c(X,Z);break}else s(X,Z);Z=Z.sibling}ht=ku(tt,X.mode,ht),ht.return=X,X=ht}return A(X);case Y:return tt=ra(tt),_e(X,Z,tt,ht)}if(bt(tt))return Tt(X,Z,tt,ht);if(_t(tt)){if(kt=_t(tt),typeof kt!="function")throw Error(r(150));return tt=kt.call(tt),Nt(X,Z,tt,ht)}if(typeof tt.then=="function")return _e(X,Z,$d(tt),ht);if(tt.$$typeof===D)return _e(X,Z,Id(X,tt),ht);Hd(X,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,Z!==null&&Z.tag===6?(c(X,Z.sibling),ht=_(Z,tt),ht.return=X,X=ht):(c(X,Z),ht=rl(tt,X.mode,ht),ht.return=X,X=ht),A(X)):c(X,Z)}return function(X,Z,tt,ht){try{zu=0;var kt=_e(X,Z,tt,ht);return cl=null,kt}catch(Rt){if(Rt===ul||Rt===Vd)throw Rt;var le=Dn(29,Rt,null,X.mode);return le.lanes=ht,le.return=X,le}finally{}}}var oa=p_(!0),g_=p_(!1),Ks=!1;function Um(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ws(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ys(i,s,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(ce&2)!==0){var _=h.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),h.pending=s,s=Qo(i),Gs(i,null,c),s}return Tr(i,h,s,c),Qo(i)}function Uu(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,c|=h,s.lanes=c,ln(i,c)}}function Fm(i,s){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var _=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?_=b=A:b=b.next=A,c=c.next}while(c!==null);b===null?_=b=s:b=b.next=s}else _=b=s;c={baseState:h.baseState,firstBaseUpdate:_,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var $m=!1;function Vu(){if($m){var i=ll;if(i!==null)throw i}}function Fu(i,s,c,h){$m=!1;var _=i.updateQueue;Ks=!1;var b=_.firstBaseUpdate,A=_.lastBaseUpdate,N=_.shared.pending;if(N!==null){_.shared.pending=null;var F=N,et=F.next;F.next=null,A===null?b=et:A.next=et,A=F;var ft=i.alternate;ft!==null&&(ft=ft.updateQueue,N=ft.lastBaseUpdate,N!==A&&(N===null?ft.firstBaseUpdate=et:N.next=et,ft.lastBaseUpdate=F))}if(b!==null){var pt=_.baseState;A=0,ft=et=F=null,N=b;do{var it=N.lane&-536870913,lt=it!==N.lane;if(lt?(ie&it)===it:(h&it)===it){it!==0&&it===al&&($m=!0),ft!==null&&(ft=ft.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var Tt=i,Nt=N;it=s;var _e=c;switch(Nt.tag){case 1:if(Tt=Nt.payload,typeof Tt=="function"){pt=Tt.call(_e,pt,it);break t}pt=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Nt.payload,it=typeof Tt=="function"?Tt.call(_e,pt,it):Tt,it==null)break t;pt=y({},pt,it);break t;case 2:Ks=!0}}it=N.callback,it!==null&&(i.flags|=64,lt&&(i.flags|=8192),lt=_.callbacks,lt===null?_.callbacks=[it]:lt.push(it))}else lt={lane:it,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ft===null?(et=ft=lt,F=pt):ft=ft.next=lt,A|=it;if(N=N.next,N===null){if(N=_.shared.pending,N===null)break;lt=N,N=lt.next,lt.next=null,_.lastBaseUpdate=lt,_.shared.pending=null}}while(!0);ft===null&&(F=pt),_.baseState=F,_.firstBaseUpdate=et,_.lastBaseUpdate=ft,b===null&&(_.shared.lanes=0),eo|=A,i.lanes=A,i.memoizedState=pt}}function v_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function y_(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)v_(c[i],s)}var dl=I(null),qd=I(0);function __(i,s){i=ds,K(qd,i),K(dl,s),ds=i|s.baseLanes}function Hm(){K(qd,ds),K(dl,dl.current)}function qm(){ds=qd.current,z(dl),z(qd)}var bi=I(null),Fi=null;function Xs(i){var s=i.alternate;K(Ge,Ge.current&1),K(bi,i),Fi===null&&(s===null||dl.current!==null||s.memoizedState!==null)&&(Fi=i)}function Gm(i){K(Ge,Ge.current),K(bi,i),Fi===null&&(Fi=i)}function b_(i){i.tag===22?(K(Ge,Ge.current),K(bi,i),Fi===null&&(Fi=i)):Qs()}function Qs(){K(Ge,Ge.current),K(bi,bi.current)}function wi(i){z(bi),Fi===i&&(Fi=null),z(Ge)}var Ge=I(0);function Gd(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Qp(c)||Jp(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var is=0,Gt=null,ve=null,Je=null,Zd=!1,fl=!1,aa=!1,Kd=0,$u=0,hl=null,_O=0;function Ve(){throw Error(r(321))}function Zm(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!gn(i[c],s[c]))return!1;return!0}function Km(i,s,c,h,_,b){return is=b,Gt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=i===null||i.memoizedState===null?ib:up,aa=!1,b=c(h,_),aa=!1,fl&&(b=x_(s,c,h,_)),w_(i),b}function w_(i){$.H=Gu;var s=ve!==null&&ve.next!==null;if(is=0,Je=ve=Gt=null,Zd=!1,$u=0,hl=null,s)throw Error(r(300));i===null||tn||(i=i.dependencies,i!==null&&zd(i)&&(tn=!0))}function x_(i,s,c,h){Gt=i;var _=0;do{if(fl&&(hl=null),$u=0,fl=!1,25<=_)throw Error(r(301));if(_+=1,Je=ve=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}$.H=rb,b=s(c,h)}while(fl);return b}function bO(){var i=$.H,s=i.useState()[0];return s=typeof s.then=="function"?Hu(s):s,i=i.useState()[0],(ve!==null?ve.memoizedState:null)!==i&&(Gt.flags|=1024),s}function Wm(){var i=Kd!==0;return Kd=0,i}function Ym(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function Xm(i){if(Zd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Zd=!1}is=0,Je=ve=Gt=null,fl=!1,$u=Kd=0,hl=null}function Gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Gt.memoizedState=Je=i:Je=Je.next=i,Je}function Ze(){if(ve===null){var i=Gt.alternate;i=i!==null?i.memoizedState:null}else i=ve.next;var s=Je===null?Gt.memoizedState:Je.next;if(s!==null)Je=s,ve=i;else{if(i===null)throw Gt.alternate===null?Error(r(467)):Error(r(310));ve=i,i={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Je===null?Gt.memoizedState=Je=i:Je=Je.next=i}return Je}function Wd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hu(i){var s=$u;return $u+=1,hl===null&&(hl=[]),i=f_(hl,i,s),s=Gt,(Je===null?s.memoizedState:Je.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?ib:up),i}function Yd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hu(i);if(i.$$typeof===D)return Sn(i)}throw Error(r(438,String(i)))}function Qm(i){var s=null,c=Gt.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var h=Gt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(_){return _.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Wd(),Gt.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),h=0;h<i;h++)c[h]=gt;return s.index++,c}function rs(i,s){return typeof s=="function"?s(i):s}function Xd(i){var s=Ze();return Jm(s,ve,i)}function Jm(i,s,c){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var _=i.baseQueue,b=h.pending;if(b!==null){if(_!==null){var A=_.next;_.next=b.next,b.next=A}s.baseQueue=_=b,h.pending=null}if(b=i.baseState,_===null)i.memoizedState=b;else{s=_.next;var N=A=null,F=null,et=s,ft=!1;do{var pt=et.lane&-536870913;if(pt!==et.lane?(ie&pt)===pt:(is&pt)===pt){var it=et.revertLane;if(it===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),pt===al&&(ft=!0);else if((is&it)===it){et=et.next,it===al&&(ft=!0);continue}else pt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},F===null?(N=F=pt,A=b):F=F.next=pt,Gt.lanes|=it,eo|=it;pt=et.action,aa&&c(b,pt),b=et.hasEagerState?et.eagerState:c(b,pt)}else it={lane:pt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},F===null?(N=F=it,A=b):F=F.next=it,Gt.lanes|=pt,eo|=pt;et=et.next}while(et!==null&&et!==s);if(F===null?A=b:F.next=N,!gn(b,i.memoizedState)&&(tn=!0,ft&&(c=ll,c!==null)))throw c;i.memoizedState=b,i.baseState=A,i.baseQueue=F,h.lastRenderedState=b}return _===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function tp(i){var s=Ze(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var h=c.dispatch,_=c.pending,b=s.memoizedState;if(_!==null){c.pending=null;var A=_=_.next;do b=i(b,A.action),A=A.next;while(A!==_);gn(b,s.memoizedState)||(tn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),c.lastRenderedState=b}return[b,h]}function S_(i,s,c){var h=Gt,_=Ze(),b=Xt;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=s();var A=!gn((ve||_).memoizedState,c);if(A&&(_.memoizedState=c,tn=!0),_=_.queue,ip(T_.bind(null,h,_,i),[i]),_.getSnapshot!==s||A||Je!==null&&Je.memoizedState.tag&1){if(h.flags|=2048,ml(9,{destroy:void 0},C_.bind(null,h,_,c,s),null),xe===null)throw Error(r(349));b||(is&127)!==0||E_(h,s,c)}return c}function E_(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Gt.updateQueue,s===null?(s=Wd(),Gt.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function C_(i,s,c,h){s.value=c,s.getSnapshot=h,A_(s)&&R_(i)}function T_(i,s,c){return c(function(){A_(s)&&R_(i)})}function A_(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!gn(i,c)}catch{return!0}}function R_(i){var s=Ui(i,2);s!==null&&oi(s,i,2)}function ep(i){var s=Gn();if(typeof i=="function"){var c=i;if(i=c(),aa){Ln(!0);try{c()}finally{Ln(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:i},s}function O_(i,s,c,h){return i.baseState=c,Jm(i,ve,typeof h=="function"?h:rs)}function wO(i,s,c,h,_){if(tf(i))throw Error(r(485));if(i=s.action,i!==null){var b={payload:_,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};$.T!==null?c(!0):b.isTransition=!1,h(b),c=s.pending,c===null?(b.next=s.pending=b,M_(s,b)):(b.next=c.next,s.pending=c.next=b)}}function M_(i,s){var c=s.action,h=s.payload,_=i.state;if(s.isTransition){var b=$.T,A={};$.T=A;try{var N=c(_,h),F=$.S;F!==null&&F(A,N),L_(i,s,N)}catch(et){np(i,s,et)}finally{b!==null&&A.types!==null&&(b.types=A.types),$.T=b}}else try{b=c(_,h),L_(i,s,b)}catch(et){np(i,s,et)}}function L_(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){P_(i,s,h)},function(h){return np(i,s,h)}):P_(i,s,c)}function P_(i,s,c){s.status="fulfilled",s.value=c,k_(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,M_(i,c)))}function np(i,s,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=c,k_(s),s=s.next;while(s!==h)}i.action=null}function k_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function D_(i,s){return s}function N_(i,s){if(Xt){var c=xe.formState;if(c!==null){t:{var h=Gt;if(Xt){if(ae){e:{for(var _=ae,b=ei;_.nodeType!==8;){if(!b){_=null;break e}if(_=$i(_.nextSibling),_===null){_=null;break e}}b=_.data,_=b==="F!"||b==="F"?_:null}if(_){ae=$i(_.nextSibling),h=_.data==="F!";break t}}Rr(h)}h=!1}h&&(s=c[0])}}return c=Gn(),c.memoizedState=c.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D_,lastRenderedState:s},c.queue=h,c=tb.bind(null,Gt,h),h.dispatch=c,h=ep(!1),b=lp.bind(null,Gt,!1,h.queue),h=Gn(),_={state:s,dispatch:null,action:i,pending:null},h.queue=_,c=wO.bind(null,Gt,_,b,c),_.dispatch=c,h.memoizedState=i,[s,c,!1]}function j_(i){var s=Ze();return B_(s,ve,i)}function B_(i,s,c){if(s=Jm(i,s,D_)[0],i=Xd(rs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Hu(s)}catch(A){throw A===ul?Vd:A}else h=s;s=Ze();var _=s.queue,b=_.dispatch;return c!==s.memoizedState&&(Gt.flags|=2048,ml(9,{destroy:void 0},xO.bind(null,_,c),null)),[h,b,i]}function xO(i,s){i.action=s}function z_(i){var s=Ze(),c=ve;if(c!==null)return B_(s,c,i);Ze(),s=s.memoizedState,c=Ze();var h=c.queue.dispatch;return c.memoizedState=i,[s,h,!1]}function ml(i,s,c,h){return i={tag:i,create:c,deps:h,inst:s,next:null},s=Gt.updateQueue,s===null&&(s=Wd(),Gt.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,s.lastEffect=i),i}function I_(){return Ze().memoizedState}function Qd(i,s,c,h){var _=Gn();Gt.flags|=i,_.memoizedState=ml(1|s,{destroy:void 0},c,h===void 0?null:h)}function Jd(i,s,c,h){var _=Ze();h=h===void 0?null:h;var b=_.memoizedState.inst;ve!==null&&h!==null&&Zm(h,ve.memoizedState.deps)?_.memoizedState=ml(s,b,c,h):(Gt.flags|=i,_.memoizedState=ml(1|s,b,c,h))}function U_(i,s){Qd(8390656,8,i,s)}function ip(i,s){Jd(2048,8,i,s)}function SO(i){Gt.flags|=4;var s=Gt.updateQueue;if(s===null)s=Wd(),Gt.updateQueue=s,s.events=[i];else{var c=s.events;c===null?s.events=[i]:c.push(i)}}function V_(i){var s=Ze().memoizedState;return SO({ref:s,nextImpl:i}),function(){if((ce&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function F_(i,s){return Jd(4,2,i,s)}function $_(i,s){return Jd(4,4,i,s)}function H_(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function q_(i,s,c){c=c!=null?c.concat([i]):null,Jd(4,4,H_.bind(null,s,i),c)}function rp(){}function G_(i,s){var c=Ze();s=s===void 0?null:s;var h=c.memoizedState;return s!==null&&Zm(s,h[1])?h[0]:(c.memoizedState=[i,s],i)}function Z_(i,s){var c=Ze();s=s===void 0?null:s;var h=c.memoizedState;if(s!==null&&Zm(s,h[1]))return h[0];if(h=i(),aa){Ln(!0);try{i()}finally{Ln(!1)}}return c.memoizedState=[h,s],h}function sp(i,s,c){return c===void 0||(is&1073741824)!==0&&(ie&261930)===0?i.memoizedState=s:(i.memoizedState=c,i=Kb(),Gt.lanes|=i,eo|=i,c)}function K_(i,s,c,h){return gn(c,s)?c:dl.current!==null?(i=sp(i,c,h),gn(i,s)||(tn=!0),i):(is&42)===0||(is&1073741824)!==0&&(ie&261930)===0?(tn=!0,i.memoizedState=c):(i=Kb(),Gt.lanes|=i,eo|=i,s)}function W_(i,s,c,h,_){var b=G.p;G.p=b!==0&&8>b?b:8;var A=$.T,N={};$.T=N,lp(i,!1,s,c);try{var F=_(),et=$.S;if(et!==null&&et(N,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ft=yO(F,h);qu(i,s,ft,Ei(i))}else qu(i,s,h,Ei(i))}catch(pt){qu(i,s,{then:function(){},status:"rejected",reason:pt},Ei())}finally{G.p=b,A!==null&&N.types!==null&&(A.types=N.types),$.T=A}}function EO(){}function op(i,s,c,h){if(i.tag!==5)throw Error(r(476));var _=Y_(i).queue;W_(i,_,s,H,c===null?EO:function(){return X_(i),c(h)})}function Y_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:H},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function X_(i){var s=Y_(i);s.next===null&&(s=i.alternate.memoizedState),qu(i,s.next.queue,{},Ei())}function ap(){return Sn(lc)}function Q_(){return Ze().memoizedState}function J_(){return Ze().memoizedState}function CO(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=Ei();i=Ws(c);var h=Ys(s,i,c);h!==null&&(oi(h,s,c),Uu(h,s,c)),s={cache:jm()},i.payload=s;return}s=s.return}}function TO(i,s,c){var h=Ei();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},tf(i)?eb(s,c):(c=Mu(i,s,c,h),c!==null&&(oi(c,i,h),nb(c,s,h)))}function tb(i,s,c){var h=Ei();qu(i,s,c,h)}function qu(i,s,c,h){var _={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(tf(i))eb(s,_);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var A=s.lastRenderedState,N=b(A,c);if(_.hasEagerState=!0,_.eagerState=N,gn(N,A))return Tr(i,s,_,0),xe===null&&Xo(),!1}catch{}finally{}if(c=Mu(i,s,_,h),c!==null)return oi(c,i,h),nb(c,s,h),!0}return!1}function lp(i,s,c,h){if(h={lane:2,revertLane:Up(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},tf(i)){if(s)throw Error(r(479))}else s=Mu(i,c,h,2),s!==null&&oi(s,i,2)}function tf(i){var s=i.alternate;return i===Gt||s!==null&&s===Gt}function eb(i,s){fl=Zd=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function nb(i,s,c){if((c&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,c|=h,s.lanes=c,ln(i,c)}}var Gu={readContext:Sn,use:Yd,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Gu.useEffectEvent=Ve;var ib={readContext:Sn,use:Yd,useCallback:function(i,s){return Gn().memoizedState=[i,s===void 0?null:s],i},useContext:Sn,useEffect:U_,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,Qd(4194308,4,H_.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Qd(4194308,4,i,s)},useInsertionEffect:function(i,s){Qd(4,2,i,s)},useMemo:function(i,s){var c=Gn();s=s===void 0?null:s;var h=i();if(aa){Ln(!0);try{i()}finally{Ln(!1)}}return c.memoizedState=[h,s],h},useReducer:function(i,s,c){var h=Gn();if(c!==void 0){var _=c(s);if(aa){Ln(!0);try{c(s)}finally{Ln(!1)}}}else _=s;return h.memoizedState=h.baseState=_,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:_},h.queue=i,i=i.dispatch=TO.bind(null,Gt,i),[h.memoizedState,i]},useRef:function(i){var s=Gn();return i={current:i},s.memoizedState=i},useState:function(i){i=ep(i);var s=i.queue,c=tb.bind(null,Gt,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:rp,useDeferredValue:function(i,s){var c=Gn();return sp(c,i,s)},useTransition:function(){var i=ep(!1);return i=W_.bind(null,Gt,i.queue,!0,!1),Gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var h=Gt,_=Gn();if(Xt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),xe===null)throw Error(r(349));(ie&127)!==0||E_(h,s,c)}_.memoizedState=c;var b={value:c,getSnapshot:s};return _.queue=b,U_(T_.bind(null,h,b,i),[i]),h.flags|=2048,ml(9,{destroy:void 0},C_.bind(null,h,b,c,s),null),c},useId:function(){var i=Gn(),s=xe.identifierPrefix;if(Xt){var c=xt,h=mt;c=(h&~(1<<32-We(h)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Kd++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=_O++,s="_"+s+"r_"+c.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:ap,useFormState:N_,useActionState:N_,useOptimistic:function(i){var s=Gn();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=lp.bind(null,Gt,!0,c),c.dispatch=s,[i,s]},useMemoCache:Qm,useCacheRefresh:function(){return Gn().memoizedState=CO.bind(null,Gt)},useEffectEvent:function(i){var s=Gn(),c={impl:i};return s.memoizedState=c,function(){if((ce&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},up={readContext:Sn,use:Yd,useCallback:G_,useContext:Sn,useEffect:ip,useImperativeHandle:q_,useInsertionEffect:F_,useLayoutEffect:$_,useMemo:Z_,useReducer:Xd,useRef:I_,useState:function(){return Xd(rs)},useDebugValue:rp,useDeferredValue:function(i,s){var c=Ze();return K_(c,ve.memoizedState,i,s)},useTransition:function(){var i=Xd(rs)[0],s=Ze().memoizedState;return[typeof i=="boolean"?i:Hu(i),s]},useSyncExternalStore:S_,useId:Q_,useHostTransitionStatus:ap,useFormState:j_,useActionState:j_,useOptimistic:function(i,s){var c=Ze();return O_(c,ve,i,s)},useMemoCache:Qm,useCacheRefresh:J_};up.useEffectEvent=V_;var rb={readContext:Sn,use:Yd,useCallback:G_,useContext:Sn,useEffect:ip,useImperativeHandle:q_,useInsertionEffect:F_,useLayoutEffect:$_,useMemo:Z_,useReducer:tp,useRef:I_,useState:function(){return tp(rs)},useDebugValue:rp,useDeferredValue:function(i,s){var c=Ze();return ve===null?sp(c,i,s):K_(c,ve.memoizedState,i,s)},useTransition:function(){var i=tp(rs)[0],s=Ze().memoizedState;return[typeof i=="boolean"?i:Hu(i),s]},useSyncExternalStore:S_,useId:Q_,useHostTransitionStatus:ap,useFormState:z_,useActionState:z_,useOptimistic:function(i,s){var c=Ze();return ve!==null?O_(c,ve,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Qm,useCacheRefresh:J_};rb.useEffectEvent=V_;function cp(i,s,c,h){s=i.memoizedState,c=c(h,s),c=c==null?s:y({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var dp={enqueueSetState:function(i,s,c){i=i._reactInternals;var h=Ei(),_=Ws(h);_.payload=s,c!=null&&(_.callback=c),s=Ys(i,_,h),s!==null&&(oi(s,i,h),Uu(s,i,h))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var h=Ei(),_=Ws(h);_.tag=1,_.payload=s,c!=null&&(_.callback=c),s=Ys(i,_,h),s!==null&&(oi(s,i,h),Uu(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=Ei(),h=Ws(c);h.tag=2,s!=null&&(h.callback=s),s=Ys(i,h,c),s!==null&&(oi(s,i,c),Uu(s,i,c))}};function sb(i,s,c,h,_,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,A):s.prototype&&s.prototype.isPureReactComponent?!Fs(c,h)||!Fs(_,b):!0}function ob(i,s,c,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,h),s.state!==i&&dp.enqueueReplaceState(s,s.state,null)}function la(i,s){var c=s;if("ref"in s){c={};for(var h in s)h!=="ref"&&(c[h]=s[h])}if(i=i.defaultProps){c===s&&(c=y({},c));for(var _ in i)c[_]===void 0&&(c[_]=i[_])}return c}function ab(i){Yo(i)}function lb(i){console.error(i)}function ub(i){Yo(i)}function ef(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function cb(i,s,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function fp(i,s,c){return c=Ws(c),c.tag=3,c.payload={element:null},c.callback=function(){ef(i,s)},c}function db(i){return i=Ws(i),i.tag=3,i}function fb(i,s,c,h){var _=c.type.getDerivedStateFromError;if(typeof _=="function"){var b=h.value;i.payload=function(){return _(b)},i.callback=function(){cb(s,c,h)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){cb(s,c,h),typeof _!="function"&&(no===null?no=new Set([this]):no.add(this));var N=h.stack;this.componentDidCatch(h.value,{componentStack:N!==null?N:""})})}function AO(i,s,c,h,_){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=c.alternate,s!==null&&ol(s,c,_,!0),c=bi.current,c!==null){switch(c.tag){case 31:case 13:return Fi===null?mf():c.alternate===null&&Fe===0&&(Fe=3),c.flags&=-257,c.flags|=65536,c.lanes=_,h===Fd?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([h]):s.add(h),Bp(i,h,_)),!1;case 22:return c.flags|=65536,h===Fd?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([h]):c.add(h)),Bp(i,h,_)),!1}throw Error(r(435,c.tag))}return Bp(i,h,_),mf(),!1}if(Xt)return s=bi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=_,h!==sl&&(i=Error(r(422),{cause:h}),ta(f(i,c)))):(h!==sl&&(s=Error(r(423),{cause:h}),ta(f(s,c))),i=i.current.alternate,i.flags|=65536,_&=-_,i.lanes|=_,h=f(h,c),_=fp(i.stateNode,h,_),Fm(i,_),Fe!==4&&(Fe=2)),!1;var b=Error(r(520),{cause:h});if(b=f(b,c),tc===null?tc=[b]:tc.push(b),Fe!==4&&(Fe=2),s===null)return!0;h=f(h,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=_&-_,c.lanes|=i,i=fp(c.stateNode,h,i),Fm(c,i),!1;case 1:if(s=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(no===null||!no.has(b))))return c.flags|=65536,_&=-_,c.lanes|=_,_=db(_),fb(_,i,c,h),Fm(c,_),!1}c=c.return}while(c!==null);return!1}var hp=Error(r(461)),tn=!1;function En(i,s,c,h){s.child=i===null?g_(s,null,c,h):oa(s,i.child,c,h)}function hb(i,s,c,h,_){c=c.render;var b=s.ref;if("ref"in h){var A={};for(var N in h)N!=="ref"&&(A[N]=h[N])}else A=h;return na(s),h=Km(i,s,c,A,b,_),N=Wm(),i!==null&&!tn?(Ym(i,s,_),ss(i,s,_)):(Xt&&N&&cn(s),s.flags|=1,En(i,s,h,_),s.child)}function mb(i,s,c,h,_){if(i===null){var b=c.type;return typeof b=="function"&&!il(b)&&b.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=b,pb(i,s,b,h,_)):(i=Jo(c.type,null,h,s,s.mode,_),i.ref=s.ref,i.return=s,s.child=i)}if(b=i.child,!wp(i,_)){var A=b.memoizedProps;if(c=c.compare,c=c!==null?c:Fs,c(A,h)&&i.ref===s.ref)return ss(i,s,_)}return s.flags|=1,i=Vi(b,h),i.ref=s.ref,i.return=s,s.child=i}function pb(i,s,c,h,_){if(i!==null){var b=i.memoizedProps;if(Fs(b,h)&&i.ref===s.ref)if(tn=!1,s.pendingProps=h=b,wp(i,_))(i.flags&131072)!==0&&(tn=!0);else return s.lanes=i.lanes,ss(i,s,_)}return mp(i,s,c,h,_)}function gb(i,s,c,h){var _=h.children,b=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,i!==null){for(h=s.child=i.child,_=0;h!==null;)_=_|h.lanes|h.childLanes,h=h.sibling;h=_&~b}else h=0,s.child=null;return vb(i,s,b,c,h)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ud(s,b!==null?b.cachePool:null),b!==null?__(s,b):Hm(),b_(s);else return h=s.lanes=536870912,vb(i,s,b!==null?b.baseLanes|c:c,c,h)}else b!==null?(Ud(s,b.cachePool),__(s,b),Qs(),s.memoizedState=null):(i!==null&&Ud(s,null),Hm(),Qs());return En(i,s,_,c),s.child}function Zu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function vb(i,s,c,h,_){var b=zm();return b=b===null?null:{parent:Qe._currentValue,pool:b},s.memoizedState={baseLanes:c,cachePool:b},i!==null&&Ud(s,null),Hm(),b_(s),i!==null&&ol(i,s,h,!0),s.childLanes=_,null}function nf(i,s){return s=sf({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function yb(i,s,c){return oa(s,i.child,null,c),i=nf(s,s.pendingProps),i.flags|=2,wi(s),s.memoizedState=null,i}function RO(i,s,c){var h=s.pendingProps,_=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Xt){if(h.mode==="hidden")return i=nf(s,h),s.lanes=536870912,Zu(null,i);if(Gm(s),(i=ae)?(i=Mw(i,ei),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:nt!==null?{id:mt,overflow:xt}:null,retryLane:536870912,hydrationErrors:null},c=Pu(i),c.return=s,s.child=c,oe=s,ae=null)):i=null,i===null)throw Rr(s);return s.lanes=536870912,null}return nf(s,h)}var b=i.memoizedState;if(b!==null){var A=b.dehydrated;if(Gm(s),_)if(s.flags&256)s.flags&=-257,s=yb(i,s,c);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(tn||ol(i,s,c,!1),_=(c&i.childLanes)!==0,tn||_){if(h=xe,h!==null&&(A=Pn(h,c),A!==0&&A!==b.retryLane))throw b.retryLane=A,Ui(i,A),oi(h,i,A),hp;mf(),s=yb(i,s,c)}else i=b.treeContext,ae=$i(A.nextSibling),oe=s,Xt=!0,Ar=null,ei=!1,i!==null&&qn(s,i),s=nf(s,h),s.flags|=4096;return s}return i=Vi(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function rf(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function mp(i,s,c,h,_){return na(s),c=Km(i,s,c,h,void 0,_),h=Wm(),i!==null&&!tn?(Ym(i,s,_),ss(i,s,_)):(Xt&&h&&cn(s),s.flags|=1,En(i,s,c,_),s.child)}function _b(i,s,c,h,_,b){return na(s),s.updateQueue=null,c=x_(s,h,c,_),w_(i),h=Wm(),i!==null&&!tn?(Ym(i,s,b),ss(i,s,b)):(Xt&&h&&cn(s),s.flags|=1,En(i,s,c,b),s.child)}function bb(i,s,c,h,_){if(na(s),s.stateNode===null){var b=Jr,A=c.contextType;typeof A=="object"&&A!==null&&(b=Sn(A)),b=new c(h,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=dp,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=h,b.state=s.memoizedState,b.refs={},Um(s),A=c.contextType,b.context=typeof A=="object"&&A!==null?Sn(A):Jr,b.state=s.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(cp(s,c,A,h),b.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&dp.enqueueReplaceState(b,b.state,null),Fu(s,h,b,_),Vu(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){b=s.stateNode;var N=s.memoizedProps,F=la(c,N);b.props=F;var et=b.context,ft=c.contextType;A=Jr,typeof ft=="object"&&ft!==null&&(A=Sn(ft));var pt=c.getDerivedStateFromProps;ft=typeof pt=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,ft||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||et!==A)&&ob(s,b,h,A),Ks=!1;var it=s.memoizedState;b.state=it,Fu(s,h,b,_),Vu(),et=s.memoizedState,N||it!==et||Ks?(typeof pt=="function"&&(cp(s,c,pt,h),et=s.memoizedState),(F=Ks||sb(s,c,F,h,it,et,A))?(ft||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=et),b.props=h,b.state=et,b.context=A,h=F):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{b=s.stateNode,Vm(i,s),A=s.memoizedProps,ft=la(c,A),b.props=ft,pt=s.pendingProps,it=b.context,et=c.contextType,F=Jr,typeof et=="object"&&et!==null&&(F=Sn(et)),N=c.getDerivedStateFromProps,(et=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==pt||it!==F)&&ob(s,b,h,F),Ks=!1,it=s.memoizedState,b.state=it,Fu(s,h,b,_),Vu();var lt=s.memoizedState;A!==pt||it!==lt||Ks||i!==null&&i.dependencies!==null&&zd(i.dependencies)?(typeof N=="function"&&(cp(s,c,N,h),lt=s.memoizedState),(ft=Ks||sb(s,c,ft,h,it,lt,F)||i!==null&&i.dependencies!==null&&zd(i.dependencies))?(et||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,lt,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,lt,F)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=lt),b.props=h,b.state=lt,b.context=F,h=ft):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),h=!1)}return b=h,rf(i,s),h=(s.flags&128)!==0,b||h?(b=s.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,i!==null&&h?(s.child=oa(s,i.child,null,_),s.child=oa(s,null,c,_)):En(i,s,c,_),s.memoizedState=b.state,i=s.child):i=ss(i,s,_),i}function wb(i,s,c,h){return es(),s.flags|=256,En(i,s,c,h),s.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gp(i){return{baseLanes:i,cachePool:c_()}}function vp(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=Si),i}function xb(i,s,c){var h=s.pendingProps,_=!1,b=(s.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(Ge.current&2)!==0),A&&(_=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(Xt){if(_?Xs(s):Qs(),(i=ae)?(i=Mw(i,ei),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:nt!==null?{id:mt,overflow:xt}:null,retryLane:536870912,hydrationErrors:null},c=Pu(i),c.return=s,s.child=c,oe=s,ae=null)):i=null,i===null)throw Rr(s);return Jp(i)?s.lanes=32:s.lanes=536870912,null}var N=h.children;return h=h.fallback,_?(Qs(),_=s.mode,N=sf({mode:"hidden",children:N},_),h=ts(h,_,c,null),N.return=s,h.return=s,N.sibling=h,s.child=N,h=s.child,h.memoizedState=gp(c),h.childLanes=vp(i,A,c),s.memoizedState=pp,Zu(null,h)):(Xs(s),yp(s,N))}var F=i.memoizedState;if(F!==null&&(N=F.dehydrated,N!==null)){if(b)s.flags&256?(Xs(s),s.flags&=-257,s=_p(i,s,c)):s.memoizedState!==null?(Qs(),s.child=i.child,s.flags|=128,s=null):(Qs(),N=h.fallback,_=s.mode,h=sf({mode:"visible",children:h.children},_),N=ts(N,_,c,null),N.flags|=2,h.return=s,N.return=s,h.sibling=N,s.child=h,oa(s,i.child,null,c),h=s.child,h.memoizedState=gp(c),h.childLanes=vp(i,A,c),s.memoizedState=pp,s=Zu(null,h));else if(Xs(s),Jp(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var et=A.dgst;A=et,h=Error(r(419)),h.stack="",h.digest=A,ta({value:h,source:null,stack:null}),s=_p(i,s,c)}else if(tn||ol(i,s,c,!1),A=(c&i.childLanes)!==0,tn||A){if(A=xe,A!==null&&(h=Pn(A,c),h!==0&&h!==F.retryLane))throw F.retryLane=h,Ui(i,h),oi(A,i,h),hp;Qp(N)||mf(),s=_p(i,s,c)}else Qp(N)?(s.flags|=192,s.child=i.child,s=null):(i=F.treeContext,ae=$i(N.nextSibling),oe=s,Xt=!0,Ar=null,ei=!1,i!==null&&qn(s,i),s=yp(s,h.children),s.flags|=4096);return s}return _?(Qs(),N=h.fallback,_=s.mode,F=i.child,et=F.sibling,h=Vi(F,{mode:"hidden",children:h.children}),h.subtreeFlags=F.subtreeFlags&65011712,et!==null?N=Vi(et,N):(N=ts(N,_,c,null),N.flags|=2),N.return=s,h.return=s,h.sibling=N,s.child=h,Zu(null,h),h=s.child,N=i.child.memoizedState,N===null?N=gp(c):(_=N.cachePool,_!==null?(F=Qe._currentValue,_=_.parent!==F?{parent:F,pool:F}:_):_=c_(),N={baseLanes:N.baseLanes|c,cachePool:_}),h.memoizedState=N,h.childLanes=vp(i,A,c),s.memoizedState=pp,Zu(i.child,h)):(Xs(s),c=i.child,i=c.sibling,c=Vi(c,{mode:"visible",children:h.children}),c.return=s,c.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=c,s.memoizedState=null,c)}function yp(i,s){return s=sf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function sf(i,s){return i=Dn(22,i,null,s),i.lanes=0,i}function _p(i,s,c){return oa(s,i.child,null,c),i=yp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Sb(i,s,c){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Dm(i.return,s,c)}function bp(i,s,c,h,_,b){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:_,treeForkCount:b}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=c,A.tailMode=_,A.treeForkCount=b)}function Eb(i,s,c){var h=s.pendingProps,_=h.revealOrder,b=h.tail;h=h.children;var A=Ge.current,N=(A&2)!==0;if(N?(A=A&1|2,s.flags|=128):A&=1,K(Ge,A),En(i,s,h,c),h=Xt?k:0,!N&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Sb(i,c,s);else if(i.tag===19)Sb(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(_){case"forwards":for(c=s.child,_=null;c!==null;)i=c.alternate,i!==null&&Gd(i)===null&&(_=c),c=c.sibling;c=_,c===null?(_=s.child,s.child=null):(_=c.sibling,c.sibling=null),bp(s,!1,_,c,b,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,_=s.child,s.child=null;_!==null;){if(i=_.alternate,i!==null&&Gd(i)===null){s.child=_;break}i=_.sibling,_.sibling=c,c=_,_=i}bp(s,!0,c,null,b,h);break;case"together":bp(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function ss(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),eo|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(ol(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=Vi(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=Vi(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function wp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&zd(i)))}function OO(i,s,c){switch(s.tag){case 3:St(s,s.stateNode.containerInfo),Zs(s,Qe,i.memoizedState.cache),es();break;case 27:case 5:Te(s);break;case 4:St(s,s.stateNode.containerInfo);break;case 10:Zs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Gm(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Xs(s),s.flags|=128,null):(c&s.child.childLanes)!==0?xb(i,s,c):(Xs(s),i=ss(i,s,c),i!==null?i.sibling:null);Xs(s);break;case 19:var _=(i.flags&128)!==0;if(h=(c&s.childLanes)!==0,h||(ol(i,s,c,!1),h=(c&s.childLanes)!==0),_){if(h)return Eb(i,s,c);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),K(Ge,Ge.current),h)break;return null;case 22:return s.lanes=0,gb(i,s,c,s.pendingProps);case 24:Zs(s,Qe,i.memoizedState.cache)}return ss(i,s,c)}function Cb(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)tn=!0;else{if(!wp(i,c)&&(s.flags&128)===0)return tn=!1,OO(i,s,c);tn=(i.flags&131072)!==0}else tn=!1,Xt&&(s.flags&1048576)!==0&&Zt(s,k,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(i=ra(s.elementType),s.type=i,typeof i=="function")il(i)?(h=la(i,h),s.tag=1,s=bb(null,s,i,h,c)):(s.tag=0,s=mp(null,s,i,h,c));else{if(i!=null){var _=i.$$typeof;if(_===B){s.tag=11,s=hb(null,s,i,h,c);break t}else if(_===U){s.tag=14,s=mb(null,s,i,h,c);break t}}throw s=ut(i)||i,Error(r(306,s,""))}}return s;case 0:return mp(i,s,s.type,s.pendingProps,c);case 1:return h=s.type,_=la(h,s.pendingProps),bb(i,s,h,_,c);case 3:t:{if(St(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var b=s.memoizedState;_=b.element,Vm(i,s),Fu(s,h,null,c);var A=s.memoizedState;if(h=A.cache,Zs(s,Qe,h),h!==b.cache&&Nm(s,[Qe],c,!0),Vu(),h=A.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=wb(i,s,h,c);break t}else if(h!==_){_=f(Error(r(424)),s),ta(_),s=wb(i,s,h,c);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ae=$i(i.firstChild),oe=s,Xt=!0,Ar=null,ei=!0,c=g_(s,null,h,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(es(),h===_){s=ss(i,s,c);break t}En(i,s,h,c)}s=s.child}return s;case 26:return rf(i,s),i===null?(c=jw(s.type,null,s.pendingProps,null))?s.memoizedState=c:Xt||(c=s.type,i=s.pendingProps,h=wf(ct.current).createElement(c),h[Ye]=s,h[pn]=i,Cn(h,c,i),Xe(h),s.stateNode=h):s.memoizedState=jw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Te(s),i===null&&Xt&&(h=s.stateNode=kw(s.type,s.pendingProps,ct.current),oe=s,ei=!0,_=ae,oo(s.type)?(tg=_,ae=$i(h.firstChild)):ae=_),En(i,s,s.pendingProps.children,c),rf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Xt&&((_=h=ae)&&(h=sM(h,s.type,s.pendingProps,ei),h!==null?(s.stateNode=h,oe=s,ae=$i(h.firstChild),ei=!1,_=!0):_=!1),_||Rr(s)),Te(s),_=s.type,b=s.pendingProps,A=i!==null?i.memoizedProps:null,h=b.children,Wp(_,b)?h=null:A!==null&&Wp(_,A)&&(s.flags|=32),s.memoizedState!==null&&(_=Km(i,s,bO,null,null,c),lc._currentValue=_),rf(i,s),En(i,s,h,c),s.child;case 6:return i===null&&Xt&&((i=c=ae)&&(c=oM(c,s.pendingProps,ei),c!==null?(s.stateNode=c,oe=s,ae=null,i=!0):i=!1),i||Rr(s)),null;case 13:return xb(i,s,c);case 4:return St(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=oa(s,null,h,c):En(i,s,h,c),s.child;case 11:return hb(i,s,s.type,s.pendingProps,c);case 7:return En(i,s,s.pendingProps,c),s.child;case 8:return En(i,s,s.pendingProps.children,c),s.child;case 12:return En(i,s,s.pendingProps.children,c),s.child;case 10:return h=s.pendingProps,Zs(s,s.type,h.value),En(i,s,h.children,c),s.child;case 9:return _=s.type._context,h=s.pendingProps.children,na(s),_=Sn(_),h=h(_),s.flags|=1,En(i,s,h,c),s.child;case 14:return mb(i,s,s.type,s.pendingProps,c);case 15:return pb(i,s,s.type,s.pendingProps,c);case 19:return Eb(i,s,c);case 31:return RO(i,s,c);case 22:return gb(i,s,c,s.pendingProps);case 24:return na(s),h=Sn(Qe),i===null?(_=zm(),_===null&&(_=xe,b=jm(),_.pooledCache=b,b.refCount++,b!==null&&(_.pooledCacheLanes|=c),_=b),s.memoizedState={parent:h,cache:_},Um(s),Zs(s,Qe,_)):((i.lanes&c)!==0&&(Vm(i,s),Fu(s,null,null,c),Vu()),_=i.memoizedState,b=s.memoizedState,_.parent!==h?(_={parent:h,cache:h},s.memoizedState=_,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=_),Zs(s,Qe,h)):(h=b.cache,Zs(s,Qe,h),h!==_.cache&&Nm(s,[Qe],c,!0))),En(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function os(i){i.flags|=4}function xp(i,s,c,h,_){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(_&335544128)===_)if(i.stateNode.complete)i.flags|=8192;else if(Qb())i.flags|=8192;else throw sa=Fd,Im}else i.flags&=-16777217}function Tb(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Vw(s))if(Qb())i.flags|=8192;else throw sa=Fd,Im}function of(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?de():536870912,i.lanes|=s,yl|=s)}function Ku(i,s){if(!Xt)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Re(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(s)for(var _=i.child;_!==null;)c|=_.lanes|_.childLanes,h|=_.subtreeFlags&65011712,h|=_.flags&65011712,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)c|=_.lanes|_.childLanes,h|=_.subtreeFlags,h|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=h,i.childLanes=c,s}function MO(i,s,c){var h=s.pendingProps;switch(Ue(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(s),null;case 1:return Re(s),null;case 3:return c=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),ns(Qe),Dt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(rr(s)?os(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Nu())),Re(s),null;case 26:var _=s.type,b=s.memoizedState;return i===null?(os(s),b!==null?(Re(s),Tb(s,b)):(Re(s),xp(s,_,null,h,c))):b?b!==i.memoizedState?(os(s),Re(s),Tb(s,b)):(Re(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&os(s),Re(s),xp(s,_,i,h,c)),null;case 27:if(ze(s),c=ct.current,_=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&os(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Re(s),null}i=st.current,rr(s)?Du(s):(i=kw(_,h,c),s.stateNode=i,os(s))}return Re(s),null;case 5:if(ze(s),_=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&os(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Re(s),null}if(b=st.current,rr(s))Du(s);else{var A=wf(ct.current);switch(b){case 1:b=A.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:b=A.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":b=A.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":b=A.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":b=A.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?A.createElement(_,{is:h.is}):A.createElement(_)}}b[Ye]=s,b[pn]=h;t:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break t;for(;A.sibling===null;){if(A.return===null||A.return===s)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=b;t:switch(Cn(b,_,h),_){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&os(s)}}return Re(s),xp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,c),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&os(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=ct.current,rr(s)){if(i=s.stateNode,c=s.memoizedProps,h=null,_=oe,_!==null)switch(_.tag){case 27:case 5:h=_.memoizedProps}i[Ye]=s,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||xw(i.nodeValue,c)),i||Rr(s,!0)}else i=wf(i).createTextNode(h),i[Ye]=s,s.stateNode=i}return Re(s),null;case 31:if(c=s.memoizedState,i===null||i.memoizedState!==null){if(h=rr(s),c!==null){if(i===null){if(!h)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Ye]=s}else es(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Re(s),i=!1}else c=Nu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return s.flags&256?(wi(s),s):(wi(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Re(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_=rr(s),h!==null&&h.dehydrated!==null){if(i===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Ye]=s}else es(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Re(s),_=!1}else _=Nu(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=_),_=!0;if(!_)return s.flags&256?(wi(s),s):(wi(s),null)}return wi(s),(s.flags&128)!==0?(s.lanes=c,s):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=s.child,_=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(_=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==_&&(h.flags|=2048)),c!==i&&c&&(s.child.flags|=8192),of(s,s.updateQueue),Re(s),null);case 4:return Dt(),i===null&&Hp(s.stateNode.containerInfo),Re(s),null;case 10:return ns(s.type),Re(s),null;case 19:if(z(Ge),h=s.memoizedState,h===null)return Re(s),null;if(_=(s.flags&128)!==0,b=h.rendering,b===null)if(_)Ku(h,!1);else{if(Fe!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(b=Gd(i),b!==null){for(s.flags|=128,Ku(h,!1),i=b.updateQueue,s.updateQueue=i,of(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)Lu(c,i),c=c.sibling;return K(Ge,Ge.current&1|2),Xt&&Lt(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&an()>df&&(s.flags|=128,_=!0,Ku(h,!1),s.lanes=4194304)}else{if(!_)if(i=Gd(b),i!==null){if(s.flags|=128,_=!0,i=i.updateQueue,s.updateQueue=i,of(s,i),Ku(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!Xt)return Re(s),null}else 2*an()-h.renderingStartTime>df&&c!==536870912&&(s.flags|=128,_=!0,Ku(h,!1),s.lanes=4194304);h.isBackwards?(b.sibling=s.child,s.child=b):(i=h.last,i!==null?i.sibling=b:s.child=b,h.last=b)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=an(),i.sibling=null,c=Ge.current,K(Ge,_?c&1|2:c&1),Xt&&Lt(s,h.treeForkCount),i):(Re(s),null);case 22:case 23:return wi(s),qm(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(c&536870912)!==0&&(s.flags&128)===0&&(Re(s),s.subtreeFlags&6&&(s.flags|=8192)):Re(s),c=s.updateQueue,c!==null&&of(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048),i!==null&&z(ia),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ns(Qe),Re(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function LO(i,s){switch(Ue(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ns(Qe),Dt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ze(s),null;case 31:if(s.memoizedState!==null){if(wi(s),s.alternate===null)throw Error(r(340));es()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(wi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));es()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return z(Ge),null;case 4:return Dt(),null;case 10:return ns(s.type),null;case 22:case 23:return wi(s),qm(),i!==null&&z(ia),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ns(Qe),null;case 25:return null;default:return null}}function Ab(i,s){switch(Ue(s),s.tag){case 3:ns(Qe),Dt();break;case 26:case 27:case 5:ze(s);break;case 4:Dt();break;case 31:s.memoizedState!==null&&wi(s);break;case 13:wi(s);break;case 19:z(Ge);break;case 10:ns(s.type);break;case 22:case 23:wi(s),qm(),i!==null&&z(ia);break;case 24:ns(Qe)}}function Wu(i,s){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var _=h.next;c=_;do{if((c.tag&i)===i){h=void 0;var b=c.create,A=c.inst;h=b(),A.destroy=h}c=c.next}while(c!==_)}}catch(N){pe(s,s.return,N)}}function Js(i,s,c){try{var h=s.updateQueue,_=h!==null?h.lastEffect:null;if(_!==null){var b=_.next;h=b;do{if((h.tag&i)===i){var A=h.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,_=s;var F=c,et=N;try{et()}catch(ft){pe(_,F,ft)}}}h=h.next}while(h!==b)}}catch(ft){pe(s,s.return,ft)}}function Rb(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{y_(s,c)}catch(h){pe(i,i.return,h)}}}function Ob(i,s,c){c.props=la(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){pe(i,s,h)}}function Yu(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(_){pe(i,s,_)}}function Mr(i,s){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(_){pe(i,s,_)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(_){pe(i,s,_)}else c.current=null}function Mb(i){var s=i.type,c=i.memoizedProps,h=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(_){pe(i,i.return,_)}}function Sp(i,s,c){try{var h=i.stateNode;JO(h,i.type,c,s),h[pn]=s}catch(_){pe(i,i.return,_)}}function Lb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&oo(i.type)||i.tag===4}function Ep(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Lb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&oo(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cp(i,s,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Xn));else if(h!==4&&(h===27&&oo(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(Cp(i,s,c),i=i.sibling;i!==null;)Cp(i,s,c),i=i.sibling}function af(i,s,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(h!==4&&(h===27&&oo(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(af(i,s,c),i=i.sibling;i!==null;)af(i,s,c),i=i.sibling}function Pb(i){var s=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,_=s.attributes;_.length;)s.removeAttributeNode(_[0]);Cn(s,h,c),s[Ye]=i,s[pn]=c}catch(b){pe(i,i.return,b)}}var as=!1,en=!1,Tp=!1,kb=typeof WeakSet=="function"?WeakSet:Set,yn=null;function PO(i,s){if(i=i.containerInfo,Zp=Rf,i=Go(i),xr(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else t:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var _=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break t}var A=0,N=-1,F=-1,et=0,ft=0,pt=i,it=null;e:for(;;){for(var lt;pt!==c||_!==0&&pt.nodeType!==3||(N=A+_),pt!==b||h!==0&&pt.nodeType!==3||(F=A+h),pt.nodeType===3&&(A+=pt.nodeValue.length),(lt=pt.firstChild)!==null;)it=pt,pt=lt;for(;;){if(pt===i)break e;if(it===c&&++et===_&&(N=A),it===b&&++ft===h&&(F=A),(lt=pt.nextSibling)!==null)break;pt=it,it=pt.parentNode}pt=lt}c=N===-1||F===-1?null:{start:N,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(Kp={focusedElem:i,selectionRange:c},Rf=!1,yn=s;yn!==null;)if(s=yn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,yn=i;else for(;yn!==null;){switch(s=yn,b=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)_=i[c],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,c=s,_=b.memoizedProps,b=b.memoizedState,h=c.stateNode;try{var Tt=la(c.type,_);i=h.getSnapshotBeforeUpdate(Tt,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(Nt){pe(c,c.return,Nt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)Xp(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Xp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,yn=i;break}yn=s.return}}function Db(i,s,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:us(i,c),h&4&&Wu(5,c);break;case 1:if(us(i,c),h&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(A){pe(c,c.return,A)}else{var _=la(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(_,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){pe(c,c.return,A)}}h&64&&Rb(c),h&512&&Yu(c,c.return);break;case 3:if(us(i,c),h&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{y_(i,s)}catch(A){pe(c,c.return,A)}}break;case 27:s===null&&h&4&&Pb(c);case 26:case 5:us(i,c),s===null&&h&4&&Mb(c),h&512&&Yu(c,c.return);break;case 12:us(i,c);break;case 31:us(i,c),h&4&&Bb(i,c);break;case 13:us(i,c),h&4&&zb(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=VO.bind(null,c),aM(i,c))));break;case 22:if(h=c.memoizedState!==null||as,!h){s=s!==null&&s.memoizedState!==null||en,_=as;var b=en;as=h,(en=s)&&!b?cs(i,c,(c.subtreeFlags&8772)!==0):us(i,c),as=_,en=b}break;case 30:break;default:us(i,c)}}function Nb(i){var s=i.alternate;s!==null&&(i.alternate=null,Nb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&hu(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Le=null,ni=!1;function ls(i,s,c){for(c=c.child;c!==null;)jb(i,s,c),c=c.sibling}function jb(i,s,c){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(pi,c)}catch{}switch(c.tag){case 26:en||Mr(c,s),ls(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:en||Mr(c,s);var h=Le,_=ni;oo(c.type)&&(Le=c.stateNode,ni=!1),ls(i,s,c),sc(c.stateNode),Le=h,ni=_;break;case 5:en||Mr(c,s);case 6:if(h=Le,_=ni,Le=null,ls(i,s,c),Le=h,ni=_,Le!==null)if(ni)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(c.stateNode)}catch(b){pe(c,s,b)}else try{Le.removeChild(c.stateNode)}catch(b){pe(c,s,b)}break;case 18:Le!==null&&(ni?(i=Le,Rw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Tl(i)):Rw(Le,c.stateNode));break;case 4:h=Le,_=ni,Le=c.stateNode.containerInfo,ni=!0,ls(i,s,c),Le=h,ni=_;break;case 0:case 11:case 14:case 15:Js(2,c,s),en||Js(4,c,s),ls(i,s,c);break;case 1:en||(Mr(c,s),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Ob(c,s,h)),ls(i,s,c);break;case 21:ls(i,s,c);break;case 22:en=(h=en)||c.memoizedState!==null,ls(i,s,c),en=h;break;default:ls(i,s,c)}}function Bb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Tl(i)}catch(c){pe(s,s.return,c)}}}function zb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tl(i)}catch(c){pe(s,s.return,c)}}function kO(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new kb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new kb),s;default:throw Error(r(435,i.tag))}}function lf(i,s){var c=kO(i);s.forEach(function(h){if(!c.has(h)){c.add(h);var _=FO.bind(null,i,h);h.then(_,_)}})}function ii(i,s){var c=s.deletions;if(c!==null)for(var h=0;h<c.length;h++){var _=c[h],b=i,A=s,N=A;t:for(;N!==null;){switch(N.tag){case 27:if(oo(N.type)){Le=N.stateNode,ni=!1;break t}break;case 5:Le=N.stateNode,ni=!1;break t;case 3:case 4:Le=N.stateNode.containerInfo,ni=!0;break t}N=N.return}if(Le===null)throw Error(r(160));jb(b,A,_),Le=null,ni=!1,b=_.alternate,b!==null&&(b.return=null),_.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Ib(s,i),s=s.sibling}var or=null;function Ib(i,s){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ii(s,i),ri(i),h&4&&(Js(3,i,i.return),Wu(3,i),Js(5,i,i.return));break;case 1:ii(s,i),ri(i),h&512&&(en||c===null||Mr(c,c.return)),h&64&&as&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var _=or;if(ii(s,i),ri(i),h&512&&(en||c===null||Mr(c,c.return)),h&4){var b=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){t:{h=i.type,c=i.memoizedProps,_=_.ownerDocument||_;e:switch(h){case"title":b=_.getElementsByTagName("title")[0],(!b||b[Mo]||b[Ye]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=_.createElement(h),_.head.insertBefore(b,_.querySelector("head > title"))),Cn(b,h,c),b[Ye]=i,Xe(b),h=b;break t;case"link":var A=Iw("link","href",_).get(h+(c.href||""));if(A){for(var N=0;N<A.length;N++)if(b=A[N],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(N,1);break e}}b=_.createElement(h),Cn(b,h,c),_.head.appendChild(b);break;case"meta":if(A=Iw("meta","content",_).get(h+(c.content||""))){for(N=0;N<A.length;N++)if(b=A[N],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(N,1);break e}}b=_.createElement(h),Cn(b,h,c),_.head.appendChild(b);break;default:throw Error(r(468,h))}b[Ye]=i,Xe(b),h=b}i.stateNode=h}else Uw(_,i.type,i.stateNode);else i.stateNode=zw(_,h,i.memoizedProps);else b!==h?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,h===null?Uw(_,i.type,i.stateNode):zw(_,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Sp(i,i.memoizedProps,c.memoizedProps)}break;case 27:ii(s,i),ri(i),h&512&&(en||c===null||Mr(c,c.return)),c!==null&&h&4&&Sp(i,i.memoizedProps,c.memoizedProps);break;case 5:if(ii(s,i),ri(i),h&512&&(en||c===null||Mr(c,c.return)),i.flags&32){_=i.stateNode;try{Di(_,"")}catch(Tt){pe(i,i.return,Tt)}}h&4&&i.stateNode!=null&&(_=i.memoizedProps,Sp(i,_,c!==null?c.memoizedProps:_)),h&1024&&(Tp=!0);break;case 6:if(ii(s,i),ri(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(Tt){pe(i,i.return,Tt)}}break;case 3:if(Ef=null,_=or,or=xf(s.containerInfo),ii(s,i),or=_,ri(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Tl(s.containerInfo)}catch(Tt){pe(i,i.return,Tt)}Tp&&(Tp=!1,Ub(i));break;case 4:h=or,or=xf(i.stateNode.containerInfo),ii(s,i),ri(i),or=h;break;case 12:ii(s,i),ri(i);break;case 31:ii(s,i),ri(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,lf(i,h)));break;case 13:ii(s,i),ri(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(cf=an()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,lf(i,h)));break;case 22:_=i.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,et=as,ft=en;if(as=et||_,en=ft||F,ii(s,i),en=ft,as=et,ri(i),h&8192)t:for(s=i.stateNode,s._visibility=_?s._visibility&-2:s._visibility|1,_&&(c===null||F||as||en||ua(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){F=c=s;try{if(b=F.stateNode,_)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=F.stateNode;var pt=F.memoizedProps.style,it=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;N.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(Tt){pe(F,F.return,Tt)}}}else if(s.tag===6){if(c===null){F=s;try{F.stateNode.nodeValue=_?"":F.memoizedProps}catch(Tt){pe(F,F.return,Tt)}}}else if(s.tag===18){if(c===null){F=s;try{var lt=F.stateNode;_?Ow(lt,!0):Ow(F.stateNode,!1)}catch(Tt){pe(F,F.return,Tt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,lf(i,c))));break;case 19:ii(s,i),ri(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,lf(i,h)));break;case 30:break;case 21:break;default:ii(s,i),ri(i)}}function ri(i){var s=i.flags;if(s&2){try{for(var c,h=i.return;h!==null;){if(Lb(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var _=c.stateNode,b=Ep(i);af(i,b,_);break;case 5:var A=c.stateNode;c.flags&32&&(Di(A,""),c.flags&=-33);var N=Ep(i);af(i,N,A);break;case 3:case 4:var F=c.stateNode.containerInfo,et=Ep(i);Cp(i,et,F);break;default:throw Error(r(161))}}catch(ft){pe(i,i.return,ft)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Ub(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Ub(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function us(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Db(i,s.alternate,s),s=s.sibling}function ua(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Js(4,s,s.return),ua(s);break;case 1:Mr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&Ob(s,s.return,c),ua(s);break;case 27:sc(s.stateNode);case 26:case 5:Mr(s,s.return),ua(s);break;case 22:s.memoizedState===null&&ua(s);break;case 30:ua(s);break;default:ua(s)}i=i.sibling}}function cs(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,_=i,b=s,A=b.flags;switch(b.tag){case 0:case 11:case 15:cs(_,b,c),Wu(4,b);break;case 1:if(cs(_,b,c),h=b,_=h.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(et){pe(h,h.return,et)}if(h=b,_=h.updateQueue,_!==null){var N=h.stateNode;try{var F=_.shared.hiddenCallbacks;if(F!==null)for(_.shared.hiddenCallbacks=null,_=0;_<F.length;_++)v_(F[_],N)}catch(et){pe(h,h.return,et)}}c&&A&64&&Rb(b),Yu(b,b.return);break;case 27:Pb(b);case 26:case 5:cs(_,b,c),c&&h===null&&A&4&&Mb(b),Yu(b,b.return);break;case 12:cs(_,b,c);break;case 31:cs(_,b,c),c&&A&4&&Bb(_,b);break;case 13:cs(_,b,c),c&&A&4&&zb(_,b);break;case 22:b.memoizedState===null&&cs(_,b,c),Yu(b,b.return);break;case 30:break;default:cs(_,b,c)}s=s.sibling}}function Ap(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&ju(c))}function Rp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ju(i))}function ar(i,s,c,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Vb(i,s,c,h),s=s.sibling}function Vb(i,s,c,h){var _=s.flags;switch(s.tag){case 0:case 11:case 15:ar(i,s,c,h),_&2048&&Wu(9,s);break;case 1:ar(i,s,c,h);break;case 3:ar(i,s,c,h),_&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ju(i)));break;case 12:if(_&2048){ar(i,s,c,h),i=s.stateNode;try{var b=s.memoizedProps,A=b.id,N=b.onPostCommit;typeof N=="function"&&N(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){pe(s,s.return,F)}}else ar(i,s,c,h);break;case 31:ar(i,s,c,h);break;case 13:ar(i,s,c,h);break;case 23:break;case 22:b=s.stateNode,A=s.alternate,s.memoizedState!==null?b._visibility&2?ar(i,s,c,h):Xu(i,s):b._visibility&2?ar(i,s,c,h):(b._visibility|=2,pl(i,s,c,h,(s.subtreeFlags&10256)!==0||!1)),_&2048&&Ap(A,s);break;case 24:ar(i,s,c,h),_&2048&&Rp(s.alternate,s);break;default:ar(i,s,c,h)}}function pl(i,s,c,h,_){for(_=_&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=i,A=s,N=c,F=h,et=A.flags;switch(A.tag){case 0:case 11:case 15:pl(b,A,N,F,_),Wu(8,A);break;case 23:break;case 22:var ft=A.stateNode;A.memoizedState!==null?ft._visibility&2?pl(b,A,N,F,_):Xu(b,A):(ft._visibility|=2,pl(b,A,N,F,_)),_&&et&2048&&Ap(A.alternate,A);break;case 24:pl(b,A,N,F,_),_&&et&2048&&Rp(A.alternate,A);break;default:pl(b,A,N,F,_)}s=s.sibling}}function Xu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,h=s,_=h.flags;switch(h.tag){case 22:Xu(c,h),_&2048&&Ap(h.alternate,h);break;case 24:Xu(c,h),_&2048&&Rp(h.alternate,h);break;default:Xu(c,h)}s=s.sibling}}var Qu=8192;function gl(i,s,c){if(i.subtreeFlags&Qu)for(i=i.child;i!==null;)Fb(i,s,c),i=i.sibling}function Fb(i,s,c){switch(i.tag){case 26:gl(i,s,c),i.flags&Qu&&i.memoizedState!==null&&_M(c,or,i.memoizedState,i.memoizedProps);break;case 5:gl(i,s,c);break;case 3:case 4:var h=or;or=xf(i.stateNode.containerInfo),gl(i,s,c),or=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Qu,Qu=16777216,gl(i,s,c),Qu=h):gl(i,s,c));break;default:gl(i,s,c)}}function $b(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ju(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];yn=h,qb(h,i)}$b(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hb(i),i=i.sibling}function Hb(i){switch(i.tag){case 0:case 11:case 15:Ju(i),i.flags&2048&&Js(9,i,i.return);break;case 3:Ju(i);break;case 12:Ju(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,uf(i)):Ju(i);break;default:Ju(i)}}function uf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var h=s[c];yn=h,qb(h,i)}$b(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Js(8,s,s.return),uf(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,uf(s));break;default:uf(s)}i=i.sibling}}function qb(i,s){for(;yn!==null;){var c=yn;switch(c.tag){case 0:case 11:case 15:Js(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ju(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,yn=h;else t:for(c=i;yn!==null;){h=yn;var _=h.sibling,b=h.return;if(Nb(h),h===c){yn=null;break t}if(_!==null){_.return=b,yn=_;break t}yn=b}}}var DO={getCacheForType:function(i){var s=Sn(Qe),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c},cacheSignal:function(){return Sn(Qe).controller.signal}},NO=typeof WeakMap=="function"?WeakMap:Map,ce=0,xe=null,Qt=null,ie=0,me=0,xi=null,to=!1,vl=!1,Op=!1,ds=0,Fe=0,eo=0,ca=0,Mp=0,Si=0,yl=0,tc=null,si=null,Lp=!1,cf=0,Gb=0,df=1/0,ff=null,no=null,dn=0,io=null,_l=null,fs=0,Pp=0,kp=null,Zb=null,ec=0,Dp=null;function Ei(){return(ce&2)!==0&&ie!==0?ie&-ie:$.T!==null?Up():Ua()}function Kb(){if(Si===0)if((ie&536870912)===0||Xt){var i=te;te<<=1,(te&3932160)===0&&(te=262144),Si=i}else Si=536870912;return i=bi.current,i!==null&&(i.flags|=32),Si}function oi(i,s,c){(i===xe&&(me===2||me===9)||i.cancelPendingCommit!==null)&&(bl(i,0),ro(i,ie,Si,!1)),ee(i,c),((ce&2)===0||i!==xe)&&(i===xe&&((ce&2)===0&&(ca|=c),Fe===4&&ro(i,ie,Si,!1)),Lr(i))}function Wb(i,s,c){if((ce&6)!==0)throw Error(r(327));var h=!c&&(s&127)===0&&(s&i.expiredLanes)===0||qt(i,s),_=h?zO(i,s):jp(i,s,!0),b=h;do{if(_===0){vl&&!h&&ro(i,s,0,!1);break}else{if(c=i.current.alternate,b&&!jO(c)){_=jp(i,s,!1),b=!1;continue}if(_===2){if(b=s,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;t:{var N=i;_=tc;var F=N.current.memoizedState.isDehydrated;if(F&&(bl(N,A).flags|=256),A=jp(N,A,!1),A!==2){if(Op&&!F){N.errorRecoveryDisabledLanes|=b,ca|=b,_=4;break t}b=si,si=_,b!==null&&(si===null?si=b:si.push.apply(si,b))}_=A}if(b=!1,_!==2)continue}}if(_===1){bl(i,0),ro(i,s,0,!0);break}t:{switch(h=i,b=_,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ro(h,s,Si,!to);break t;case 2:si=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(_=cf+300-an(),10<_)){if(ro(h,s,Si,!to),At(h,0,!0)!==0)break t;fs=s,h.timeoutHandle=Tw(Yb.bind(null,h,c,si,ff,Lp,s,Si,ca,yl,to,b,"Throttled",-0,0),_);break t}Yb(h,c,si,ff,Lp,s,Si,ca,yl,to,b,null,-0,0)}}break}while(!0);Lr(i)}function Yb(i,s,c,h,_,b,A,N,F,et,ft,pt,it,lt){if(i.timeoutHandle=-1,pt=s.subtreeFlags,pt&8192||(pt&16785408)===16785408){pt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},Fb(s,b,pt);var Tt=(b&62914560)===b?cf-an():(b&4194048)===b?Gb-an():0;if(Tt=bM(pt,Tt),Tt!==null){fs=b,i.cancelPendingCommit=Tt(rw.bind(null,i,s,b,c,h,_,A,N,F,ft,pt,null,it,lt)),ro(i,b,A,!et);return}}rw(i,s,b,c,h,_,A,N,F)}function jO(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var _=c[h],b=_.getSnapshot;_=_.value;try{if(!gn(b(),_))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ro(i,s,c,h){s&=~Mp,s&=~ca,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var _=s;0<_;){var b=31-We(_),A=1<<b;h[b]=-1,_&=~A}c!==0&&Wn(i,c,s)}function hf(){return(ce&6)===0?(nc(0),!1):!0}function Np(){if(Qt!==null){if(me===0)var i=Qt.return;else i=Qt,sr=Or=null,Xm(i),cl=null,zu=0,i=Qt;for(;i!==null;)Ab(i.alternate,i),i=i.return;Qt=null}}function bl(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,nM(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),fs=0,Np(),xe=i,Qt=c=Vi(i.current,null),ie=s,me=0,xi=null,to=!1,vl=qt(i,s),Op=!1,yl=Si=Mp=ca=eo=Fe=0,si=tc=null,Lp=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var _=31-We(h),b=1<<_;s|=i[_],h&=~b}return ds=s,Xo(),c}function Xb(i,s){Gt=null,$.H=Gu,s===ul||s===Vd?(s=h_(),me=3):s===Im?(s=h_(),me=4):me=s===hp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xi=s,Qt===null&&(Fe=1,ef(i,f(s,i.current)))}function Qb(){var i=bi.current;return i===null?!0:(ie&4194048)===ie?Fi===null:(ie&62914560)===ie||(ie&536870912)!==0?i===Fi:!1}function Jb(){var i=$.H;return $.H=Gu,i===null?Gu:i}function tw(){var i=$.A;return $.A=DO,i}function mf(){Fe=4,to||(ie&4194048)!==ie&&bi.current!==null||(vl=!0),(eo&134217727)===0&&(ca&134217727)===0||xe===null||ro(xe,ie,Si,!1)}function jp(i,s,c){var h=ce;ce|=2;var _=Jb(),b=tw();(xe!==i||ie!==s)&&(ff=null,bl(i,s)),s=!1;var A=Fe;t:do try{if(me!==0&&Qt!==null){var N=Qt,F=xi;switch(me){case 8:Np(),A=6;break t;case 3:case 2:case 9:case 6:bi.current===null&&(s=!0);var et=me;if(me=0,xi=null,wl(i,N,F,et),c&&vl){A=0;break t}break;default:et=me,me=0,xi=null,wl(i,N,F,et)}}BO(),A=Fe;break}catch(ft){Xb(i,ft)}while(!0);return s&&i.shellSuspendCounter++,sr=Or=null,ce=h,$.H=_,$.A=b,Qt===null&&(xe=null,ie=0,Xo()),A}function BO(){for(;Qt!==null;)ew(Qt)}function zO(i,s){var c=ce;ce|=2;var h=Jb(),_=tw();xe!==i||ie!==s?(ff=null,df=an()+500,bl(i,s)):vl=qt(i,s);t:do try{if(me!==0&&Qt!==null){s=Qt;var b=xi;e:switch(me){case 1:me=0,xi=null,wl(i,s,b,1);break;case 2:case 9:if(d_(b)){me=0,xi=null,nw(s);break}s=function(){me!==2&&me!==9||xe!==i||(me=7),Lr(i)},b.then(s,s);break t;case 3:me=7;break t;case 4:me=5;break t;case 7:d_(b)?(me=0,xi=null,nw(s)):(me=0,xi=null,wl(i,s,b,7));break;case 5:var A=null;switch(Qt.tag){case 26:A=Qt.memoizedState;case 5:case 27:var N=Qt;if(A?Vw(A):N.stateNode.complete){me=0,xi=null;var F=N.sibling;if(F!==null)Qt=F;else{var et=N.return;et!==null?(Qt=et,pf(et)):Qt=null}break e}}me=0,xi=null,wl(i,s,b,5);break;case 6:me=0,xi=null,wl(i,s,b,6);break;case 8:Np(),Fe=6;break t;default:throw Error(r(462))}}IO();break}catch(ft){Xb(i,ft)}while(!0);return sr=Or=null,$.H=h,$.A=_,ce=c,Qt!==null?0:(xe=null,ie=0,Xo(),Fe)}function IO(){for(;Qt!==null&&!Ke();)ew(Qt)}function ew(i){var s=Cb(i.alternate,i,ds);i.memoizedProps=i.pendingProps,s===null?pf(i):Qt=s}function nw(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=_b(c,s,s.pendingProps,s.type,void 0,ie);break;case 11:s=_b(c,s,s.pendingProps,s.type.render,s.ref,ie);break;case 5:Xm(s);default:Ab(c,s),s=Qt=Lu(s,ds),s=Cb(c,s,ds)}i.memoizedProps=i.pendingProps,s===null?pf(i):Qt=s}function wl(i,s,c,h){sr=Or=null,Xm(s),cl=null,zu=0;var _=s.return;try{if(AO(i,_,s,c,ie)){Fe=1,ef(i,f(c,i.current)),Qt=null;return}}catch(b){if(_!==null)throw Qt=_,b;Fe=1,ef(i,f(c,i.current)),Qt=null;return}s.flags&32768?(Xt||h===1?i=!0:vl||(ie&536870912)!==0?i=!1:(to=i=!0,(h===2||h===9||h===3||h===6)&&(h=bi.current,h!==null&&h.tag===13&&(h.flags|=16384))),iw(s,i)):pf(s)}function pf(i){var s=i;do{if((s.flags&32768)!==0){iw(s,to);return}i=s.return;var c=MO(s.alternate,s,ds);if(c!==null){Qt=c;return}if(s=s.sibling,s!==null){Qt=s;return}Qt=s=i}while(s!==null);Fe===0&&(Fe=5)}function iw(i,s){do{var c=LO(i.alternate,i);if(c!==null){c.flags&=32767,Qt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){Qt=i;return}Qt=i=c}while(i!==null);Fe=6,Qt=null}function rw(i,s,c,h,_,b,A,N,F){i.cancelPendingCommit=null;do gf();while(dn!==0);if((ce&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=nl,be(i,c,b,A,N,F),i===xe&&(Qt=xe=null,ie=0),_l=s,io=i,fs=c,Pp=b,kp=_,Zb=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$O(Fn,function(){return uw(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=$.T,$.T=null,_=G.p,G.p=2,A=ce,ce|=4;try{PO(i,s,c)}finally{ce=A,G.p=_,$.T=h}}dn=1,sw(),ow(),aw()}}function sw(){if(dn===1){dn=0;var i=io,s=_l,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=$.T,$.T=null;var h=G.p;G.p=2;var _=ce;ce|=4;try{Ib(s,i);var b=Kp,A=Go(i.containerInfo),N=b.focusedElem,F=b.selectionRange;if(A!==N&&N&&N.ownerDocument&&Qa(N.ownerDocument.documentElement,N)){if(F!==null&&xr(N)){var et=F.start,ft=F.end;if(ft===void 0&&(ft=et),"selectionStart"in N)N.selectionStart=et,N.selectionEnd=Math.min(ft,N.value.length);else{var pt=N.ownerDocument||document,it=pt&&pt.defaultView||window;if(it.getSelection){var lt=it.getSelection(),Tt=N.textContent.length,Nt=Math.min(F.start,Tt),_e=F.end===void 0?Nt:Math.min(F.end,Tt);!lt.extend&&Nt>_e&&(A=_e,_e=Nt,Nt=A);var X=qo(N,Nt),Z=qo(N,_e);if(X&&Z&&(lt.rangeCount!==1||lt.anchorNode!==X.node||lt.anchorOffset!==X.offset||lt.focusNode!==Z.node||lt.focusOffset!==Z.offset)){var tt=pt.createRange();tt.setStart(X.node,X.offset),lt.removeAllRanges(),Nt>_e?(lt.addRange(tt),lt.extend(Z.node,Z.offset)):(tt.setEnd(Z.node,Z.offset),lt.addRange(tt))}}}}for(pt=[],lt=N;lt=lt.parentNode;)lt.nodeType===1&&pt.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<pt.length;N++){var ht=pt[N];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}Rf=!!Zp,Kp=Zp=null}finally{ce=_,G.p=h,$.T=c}}i.current=s,dn=2}}function ow(){if(dn===2){dn=0;var i=io,s=_l,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=$.T,$.T=null;var h=G.p;G.p=2;var _=ce;ce|=4;try{Db(i,s.alternate,s)}finally{ce=_,G.p=h,$.T=c}}dn=3}}function aw(){if(dn===4||dn===3){dn=0,bn();var i=io,s=_l,c=fs,h=Zb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dn=5:(dn=0,_l=io=null,lw(i,i.pendingLanes));var _=i.pendingLanes;if(_===0&&(no=null),Et(c),s=s.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(pi,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=$.T,_=G.p,G.p=2,$.T=null;try{for(var b=i.onRecoverableError,A=0;A<h.length;A++){var N=h[A];b(N.value,{componentStack:N.stack})}}finally{$.T=s,G.p=_}}(fs&3)!==0&&gf(),Lr(i),_=i.pendingLanes,(c&261930)!==0&&(_&42)!==0?i===Dp?ec++:(ec=0,Dp=i):ec=0,nc(0)}}function lw(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ju(s)))}function gf(){return sw(),ow(),aw(),uw()}function uw(){if(dn!==5)return!1;var i=io,s=Pp;Pp=0;var c=Et(fs),h=$.T,_=G.p;try{G.p=32>c?32:c,$.T=null,c=kp,kp=null;var b=io,A=fs;if(dn=0,_l=io=null,fs=0,(ce&6)!==0)throw Error(r(331));var N=ce;if(ce|=4,Hb(b.current),Vb(b,b.current,A,c),ce=N,nc(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(pi,b)}catch{}return!0}finally{G.p=_,$.T=h,lw(i,s)}}function cw(i,s,c){s=f(c,s),s=fp(i.stateNode,s,2),i=Ys(i,s,2),i!==null&&(ee(i,2),Lr(i))}function pe(i,s,c){if(i.tag===3)cw(i,i,c);else for(;s!==null;){if(s.tag===3){cw(s,i,c);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(no===null||!no.has(h))){i=f(c,i),c=db(2),h=Ys(s,c,2),h!==null&&(fb(c,h,s,i),ee(h,2),Lr(h));break}}s=s.return}}function Bp(i,s,c){var h=i.pingCache;if(h===null){h=i.pingCache=new NO;var _=new Set;h.set(s,_)}else _=h.get(s),_===void 0&&(_=new Set,h.set(s,_));_.has(c)||(Op=!0,_.add(c),i=UO.bind(null,i,s,c),s.then(i,i))}function UO(i,s,c){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,xe===i&&(ie&c)===c&&(Fe===4||Fe===3&&(ie&62914560)===ie&&300>an()-cf?(ce&2)===0&&bl(i,0):Mp|=c,yl===ie&&(yl=0)),Lr(i)}function dw(i,s){s===0&&(s=de()),i=Ui(i,s),i!==null&&(ee(i,s),Lr(i))}function VO(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),dw(i,c)}function FO(i,s){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,_=i.memoizedState;_!==null&&(c=_.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),dw(i,c)}function $O(i,s){return Vn(i,s)}var vf=null,xl=null,zp=!1,yf=!1,Ip=!1,so=0;function Lr(i){i!==xl&&i.next===null&&(xl===null?vf=xl=i:xl=xl.next=i),yf=!0,zp||(zp=!0,qO())}function nc(i,s){if(!Ip&&yf){Ip=!0;do for(var c=!1,h=vf;h!==null;){if(i!==0){var _=h.pendingLanes;if(_===0)var b=0;else{var A=h.suspendedLanes,N=h.pingedLanes;b=(1<<31-We(42|i)+1)-1,b&=_&~(A&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,pw(h,b))}else b=ie,b=At(h,h===xe?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||qt(h,b)||(c=!0,pw(h,b));h=h.next}while(c);Ip=!1}}function HO(){fw()}function fw(){yf=zp=!1;var i=0;so!==0&&eM()&&(i=so);for(var s=an(),c=null,h=vf;h!==null;){var _=h.next,b=hw(h,s);b===0?(h.next=null,c===null?vf=_:c.next=_,_===null&&(xl=c)):(c=h,(i!==0||(b&3)!==0)&&(yf=!0)),h=_}dn!==0&&dn!==5||nc(i),so!==0&&(so=0)}function hw(i,s){for(var c=i.suspendedLanes,h=i.pingedLanes,_=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-We(b),N=1<<A,F=_[A];F===-1?((N&c)===0||(N&h)!==0)&&(_[A]=he(N,s)):F<=s&&(i.expiredLanes|=N),b&=~N}if(s=xe,c=ie,c=At(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===s&&(me===2||me===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ki(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||qt(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(h!==null&&ki(h),Et(c)){case 2:case 8:c=Fr;break;case 32:c=Fn;break;case 268435456:c=$n;break;default:c=Fn}return h=mw.bind(null,i),c=Vn(c,h),i.callbackPriority=s,i.callbackNode=c,s}return h!==null&&h!==null&&ki(h),i.callbackPriority=2,i.callbackNode=null,2}function mw(i,s){if(dn!==0&&dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(gf()&&i.callbackNode!==c)return null;var h=ie;return h=At(i,i===xe?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Wb(i,h,s),hw(i,an()),i.callbackNode!=null&&i.callbackNode===c?mw.bind(null,i):null)}function pw(i,s){if(gf())return null;Wb(i,s,!0)}function qO(){iM(function(){(ce&6)!==0?Vn(mi,HO):fw()})}function Up(){if(so===0){var i=al;i===0&&(i=Wt,Wt<<=1,(Wt&261888)===0&&(Wt=256)),so=i}return so}function gw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ds(""+i)}function vw(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function GO(i,s,c,h,_){if(s==="submit"&&c&&c.stateNode===_){var b=gw((_[pn]||null).action),A=h.submitter;A&&(s=(s=A[pn]||null)?gw(s.formAction):A.getAttribute("formAction"),s!==null&&(b=s,A=null));var N=new qa("action","action",null,h,_);i.push({event:N,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(so!==0){var F=A?vw(_,A):new FormData(_);op(c,{pending:!0,data:F,method:_.method,action:b},null,F)}}else typeof b=="function"&&(N.preventDefault(),F=A?vw(_,A):new FormData(_),op(c,{pending:!0,data:F,method:_.method,action:b},b,F))},currentTarget:_}]})}}for(var Vp=0;Vp<Cr.length;Vp++){var Fp=Cr[Vp],ZO=Fp.toLowerCase(),KO=Fp[0].toUpperCase()+Fp.slice(1);Jn(ZO,"on"+KO)}Jn(Ko,"onAnimationEnd"),Jn(Nd,"onAnimationIteration"),Jn(Wo,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Lm,"onTransitionRun"),Jn(jd,"onTransitionStart"),Jn(Pm,"onTransitionCancel"),Jn(qs,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function yw(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],_=h.event;h=h.listeners;t:{var b=void 0;if(s)for(var A=h.length-1;0<=A;A--){var N=h[A],F=N.instance,et=N.currentTarget;if(N=N.listener,F!==b&&_.isPropagationStopped())break t;b=N,_.currentTarget=et;try{b(_)}catch(ft){Yo(ft)}_.currentTarget=null,b=F}else for(A=0;A<h.length;A++){if(N=h[A],F=N.instance,et=N.currentTarget,N=N.listener,F!==b&&_.isPropagationStopped())break t;b=N,_.currentTarget=et;try{b(_)}catch(ft){Yo(ft)}_.currentTarget=null,b=F}}}}function Jt(i,s){var c=s[gr];c===void 0&&(c=s[gr]=new Set);var h=i+"__bubble";c.has(h)||(_w(s,i,2,!1),c.add(h))}function $p(i,s,c){var h=0;s&&(h|=4),_w(c,i,h,s)}var _f="_reactListening"+Math.random().toString(36).slice(2);function Hp(i){if(!i[_f]){i[_f]=!0,pd.forEach(function(c){c!=="selectionchange"&&(WO.has(c)||$p(c,!1,i),$p(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[_f]||(s[_f]=!0,$p("selectionchange",!1,s))}}function _w(i,s,c,h){switch(Kw(s)){case 2:var _=SM;break;case 8:_=EM;break;default:_=sg}c=_.bind(null,s,c,i),_=void 0,!jo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),h?_!==void 0?i.addEventListener(s,c,{capture:!0,passive:_}):i.addEventListener(s,c,!0):_!==void 0?i.addEventListener(s,c,{passive:_}):i.addEventListener(s,c,!1)}function qp(i,s,c,h,_){var b=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var N=h.stateNode.containerInfo;if(N===_)break;if(A===4)for(A=h.return;A!==null;){var F=A.tag;if((F===3||F===4)&&A.stateNode.containerInfo===_)return;A=A.return}for(;N!==null;){if(A=Zr(N),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){h=b=A;continue t}N=N.parentNode}}h=h.return}bu(function(){var et=b,ft=No(c),pt=[];t:{var it=Bd.get(i);if(it!==void 0){var lt=qa,Tt=i;switch(i){case"keypress":if(Bo(c)===0)break t;case"keydown":case"keyup":lt=Sd;break;case"focusin":Tt="focus",lt=Su;break;case"focusout":Tt="blur",lt=Su;break;case"beforeblur":case"afterblur":lt=Su;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=Cm;break;case Ko:case Nd:case Wo:lt=Eu;break;case qs:lt=Td;break;case"scroll":case"scrollend":lt=ne;break;case"wheel":lt=Qr;break;case"copy":case"cut":case"paste":lt=ji;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Ed;break;case"toggle":case"beforetoggle":lt=Uo}var Nt=(s&4)!==0,_e=!Nt&&(i==="scroll"||i==="scrollend"),X=Nt?it!==null?it+"Capture":null:it;Nt=[];for(var Z=et,tt;Z!==null;){var ht=Z;if(tt=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||tt===null||X===null||(ht=Yr(Z,X),ht!=null&&Nt.push(rc(Z,ht,tt))),_e)break;Z=Z.return}0<Nt.length&&(it=new lt(it,Tt,null,c,ft),pt.push({event:it,listeners:Nt}))}}if((s&7)===0){t:{if(it=i==="mouseover"||i==="pointerover",lt=i==="mouseout"||i==="pointerout",it&&c!==Ha&&(Tt=c.relatedTarget||c.fromElement)&&(Zr(Tt)||Tt[Gr]))break t;if((lt||it)&&(it=ft.window===ft?ft:(it=ft.ownerDocument)?it.defaultView||it.parentWindow:window,lt?(Tt=c.relatedTarget||c.toElement,lt=et,Tt=Tt?Zr(Tt):null,Tt!==null&&(_e=a(Tt),Nt=Tt.tag,Tt!==_e||Nt!==5&&Nt!==27&&Nt!==6)&&(Tt=null)):(lt=null,Tt=et),lt!==Tt)){if(Nt=yd,ht="onMouseLeave",X="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(Nt=Ed,ht="onPointerLeave",X="onPointerEnter",Z="pointer"),_e=lt==null?it:vr(lt),tt=Tt==null?it:vr(Tt),it=new Nt(ht,Z+"leave",lt,c,ft),it.target=_e,it.relatedTarget=tt,ht=null,Zr(ft)===et&&(Nt=new Nt(X,Z+"enter",Tt,c,ft),Nt.target=tt,Nt.relatedTarget=_e,ht=Nt),_e=ht,lt&&Tt)e:{for(Nt=YO,X=lt,Z=Tt,tt=0,ht=X;ht;ht=Nt(ht))tt++;ht=0;for(var kt=Z;kt;kt=Nt(kt))ht++;for(;0<tt-ht;)X=Nt(X),tt--;for(;0<ht-tt;)Z=Nt(Z),ht--;for(;tt--;){if(X===Z||Z!==null&&X===Z.alternate){Nt=X;break e}X=Nt(X),Z=Nt(Z)}Nt=null}else Nt=null;lt!==null&&bw(pt,it,lt,Nt,!1),Tt!==null&&_e!==null&&bw(pt,_e,Tt,Nt,!0)}}t:{if(it=et?vr(et):window,lt=it.nodeName&&it.nodeName.toLowerCase(),lt==="select"||lt==="input"&&it.type==="file")var le=Ho;else if(Bi(it))if(Md)le=Mm;else{le=Om;var Rt=nr}else lt=it.nodeName,!lt||lt.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?et&&Do(et.elementType)&&(le=Ho):le=Vs;if(le&&(le=le(i,et))){Od(pt,le,c,ft);break t}Rt&&Rt(i,it,et),i==="focusout"&&et&&it.type==="number"&&et.memoizedProps.value!=null&&Ji(it,"number",it.value)}switch(Rt=et?vr(et):window,i){case"focusin":(Bi(Rt)||Rt.contentEditable==="true")&&(Sr=Rt,tl=et,Zo=null);break;case"focusout":Zo=tl=Sr=null;break;case"mousedown":$s=!0;break;case"contextmenu":case"mouseup":case"dragend":$s=!1,kd(pt,c,ft);break;case"selectionchange":if(Ja)break;case"keydown":case"keyup":kd(pt,c,ft)}var Kt;if(Za)t:{switch(i){case"compositionstart":var re="onCompositionStart";break t;case"compositionend":re="onCompositionEnd";break t;case"compositionupdate":re="onCompositionUpdate";break t}re=void 0}else zs?Rd(i,c)&&(re="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(re="onCompositionStart");re&&(Ka&&c.locale!=="ko"&&(zs||re!=="onCompositionStart"?re==="onCompositionEnd"&&zs&&(Kt=br()):(Ni=ft,Xr="value"in Ni?Ni.value:Ni.textContent,zs=!0)),Rt=bf(et,re),0<Rt.length&&(re=new Cu(re,i,null,c,ft),pt.push({event:re,listeners:Rt}),Kt?re.data=Kt:(Kt=Ou(c),Kt!==null&&(re.data=Kt)))),(Kt=Am?_i(i,c):Is(i,c))&&(re=bf(et,"onBeforeInput"),0<re.length&&(Rt=new Cu("onBeforeInput","beforeinput",null,c,ft),pt.push({event:Rt,listeners:re}),Rt.data=Kt)),GO(pt,i,et,c,ft)}yw(pt,s)})}function rc(i,s,c){return{instance:i,listener:s,currentTarget:c}}function bf(i,s){for(var c=s+"Capture",h=[];i!==null;){var _=i,b=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||b===null||(_=Yr(i,c),_!=null&&h.unshift(rc(i,_,b)),_=Yr(i,s),_!=null&&h.push(rc(i,_,b))),i.tag===3)return h;i=i.return}return[]}function YO(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function bw(i,s,c,h,_){for(var b=s._reactName,A=[];c!==null&&c!==h;){var N=c,F=N.alternate,et=N.stateNode;if(N=N.tag,F!==null&&F===h)break;N!==5&&N!==26&&N!==27||et===null||(F=et,_?(et=Yr(c,b),et!=null&&A.unshift(rc(c,et,F))):_||(et=Yr(c,b),et!=null&&A.push(rc(c,et,F)))),c=c.return}A.length!==0&&i.push({event:s,listeners:A})}var XO=/\r\n?/g,QO=/\u0000|\uFFFD/g;function ww(i){return(typeof i=="string"?i:""+i).replace(XO,`
`).replace(QO,"")}function xw(i,s){return s=ww(s),ww(i)===s}function ye(i,s,c,h,_,b){switch(c){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Di(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Di(i,""+h);break;case"className":ge(i,"class",h);break;case"tabIndex":ge(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ge(i,c,h);break;case"style":Fa(i,h,b);break;case"data":if(s!=="object"){ge(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Ds(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(s!=="input"&&ye(i,s,"name",_.name,_,null),ye(i,s,"formEncType",_.formEncType,_,null),ye(i,s,"formMethod",_.formMethod,_,null),ye(i,s,"formTarget",_.formTarget,_,null)):(ye(i,s,"encType",_.encType,_,null),ye(i,s,"method",_.method,_,null),ye(i,s,"target",_.target,_,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Ds(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=Xn);break;case"onScroll":h!=null&&Jt("scroll",i);break;case"onScrollEnd":h!=null&&Jt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=Ds(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":Jt("beforetoggle",i),Jt("toggle",i),Yt(i,"popover",h);break;case"xlinkActuate":Yn(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Yn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Yn(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Yn(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Yn(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Yn(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Yn(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Yn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Yn(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Yt(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=$a.get(c)||c,Yt(i,c,h))}}function Gp(i,s,c,h,_,b){switch(c){case"style":Fa(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof h=="string"?Di(i,h):(typeof h=="number"||typeof h=="bigint")&&Di(i,""+h);break;case"onScroll":h!=null&&Jt("scroll",i);break;case"onScrollEnd":h!=null&&Jt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gd.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(_=c.endsWith("Capture"),s=c.slice(2,_?c.length-7:void 0),b=i[pn]||null,b=b!=null?b[c]:null,typeof b=="function"&&i.removeEventListener(s,b,_),typeof h=="function")){typeof b!="function"&&b!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,h,_);break t}c in i?i[c]=h:h===!0?i.setAttribute(c,""):Yt(i,c,h)}}}function Cn(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",i),Jt("load",i);var h=!1,_=!1,b;for(b in c)if(c.hasOwnProperty(b)){var A=c[b];if(A!=null)switch(b){case"src":h=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ye(i,s,b,A,c,null)}}_&&ye(i,s,"srcSet",c.srcSet,c,null),h&&ye(i,s,"src",c.src,c,null);return;case"input":Jt("invalid",i);var N=b=A=_=null,F=null,et=null;for(h in c)if(c.hasOwnProperty(h)){var ft=c[h];if(ft!=null)switch(h){case"name":_=ft;break;case"type":A=ft;break;case"checked":F=ft;break;case"defaultChecked":et=ft;break;case"value":b=ft;break;case"defaultValue":N=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,s));break;default:ye(i,s,h,ft,c,null)}}ko(i,b,N,F,et,A,_,!1);return;case"select":Jt("invalid",i),h=A=b=null;for(_ in c)if(c.hasOwnProperty(_)&&(N=c[_],N!=null))switch(_){case"value":b=N;break;case"defaultValue":A=N;break;case"multiple":h=N;default:ye(i,s,_,N,c,null)}s=b,c=A,i.multiple=!!h,s!=null?we(i,!!h,s,!1):c!=null&&we(i,!!h,c,!0);return;case"textarea":Jt("invalid",i),b=_=h=null;for(A in c)if(c.hasOwnProperty(A)&&(N=c[A],N!=null))switch(A){case"value":h=N;break;case"defaultValue":_=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:ye(i,s,A,N,c,null)}Ps(i,h,_,b);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(h=c[F],h!=null))switch(F){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ye(i,s,F,h,c,null)}return;case"dialog":Jt("beforetoggle",i),Jt("toggle",i),Jt("cancel",i),Jt("close",i);break;case"iframe":case"object":Jt("load",i);break;case"video":case"audio":for(h=0;h<ic.length;h++)Jt(ic[h],i);break;case"image":Jt("error",i),Jt("load",i);break;case"details":Jt("toggle",i);break;case"embed":case"source":case"link":Jt("error",i),Jt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in c)if(c.hasOwnProperty(et)&&(h=c[et],h!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ye(i,s,et,h,c,null)}return;default:if(Do(s)){for(ft in c)c.hasOwnProperty(ft)&&(h=c[ft],h!==void 0&&Gp(i,s,ft,h,c,void 0));return}}for(N in c)c.hasOwnProperty(N)&&(h=c[N],h!=null&&ye(i,s,N,h,c,null))}function JO(i,s,c,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,b=null,A=null,N=null,F=null,et=null,ft=null;for(lt in c){var pt=c[lt];if(c.hasOwnProperty(lt)&&pt!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":F=pt;default:h.hasOwnProperty(lt)||ye(i,s,lt,null,h,pt)}}for(var it in h){var lt=h[it];if(pt=c[it],h.hasOwnProperty(it)&&(lt!=null||pt!=null))switch(it){case"type":b=lt;break;case"name":_=lt;break;case"checked":et=lt;break;case"defaultChecked":ft=lt;break;case"value":A=lt;break;case"defaultValue":N=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,s));break;default:lt!==pt&&ye(i,s,it,lt,h,pt)}}vu(i,A,N,F,et,ft,b,_);return;case"select":lt=A=N=it=null;for(b in c)if(F=c[b],c.hasOwnProperty(b)&&F!=null)switch(b){case"value":break;case"multiple":lt=F;default:h.hasOwnProperty(b)||ye(i,s,b,null,h,F)}for(_ in h)if(b=h[_],F=c[_],h.hasOwnProperty(_)&&(b!=null||F!=null))switch(_){case"value":it=b;break;case"defaultValue":N=b;break;case"multiple":A=b;default:b!==F&&ye(i,s,_,b,h,F)}s=N,c=A,h=lt,it!=null?we(i,!!c,it,!1):!!h!=!!c&&(s!=null?we(i,!!c,s,!0):we(i,!!c,c?[]:"",!1));return;case"textarea":lt=it=null;for(N in c)if(_=c[N],c.hasOwnProperty(N)&&_!=null&&!h.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:ye(i,s,N,null,h,_)}for(A in h)if(_=h[A],b=c[A],h.hasOwnProperty(A)&&(_!=null||b!=null))switch(A){case"value":it=_;break;case"defaultValue":lt=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==b&&ye(i,s,A,_,h,b)}_r(i,it,lt);return;case"option":for(var Tt in c)if(it=c[Tt],c.hasOwnProperty(Tt)&&it!=null&&!h.hasOwnProperty(Tt))switch(Tt){case"selected":i.selected=!1;break;default:ye(i,s,Tt,null,h,it)}for(F in h)if(it=h[F],lt=c[F],h.hasOwnProperty(F)&&it!==lt&&(it!=null||lt!=null))switch(F){case"selected":i.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:ye(i,s,F,it,h,lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in c)it=c[Nt],c.hasOwnProperty(Nt)&&it!=null&&!h.hasOwnProperty(Nt)&&ye(i,s,Nt,null,h,it);for(et in h)if(it=h[et],lt=c[et],h.hasOwnProperty(et)&&it!==lt&&(it!=null||lt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:ye(i,s,et,it,h,lt)}return;default:if(Do(s)){for(var _e in c)it=c[_e],c.hasOwnProperty(_e)&&it!==void 0&&!h.hasOwnProperty(_e)&&Gp(i,s,_e,void 0,h,it);for(ft in h)it=h[ft],lt=c[ft],!h.hasOwnProperty(ft)||it===lt||it===void 0&&lt===void 0||Gp(i,s,ft,it,h,lt);return}}for(var X in c)it=c[X],c.hasOwnProperty(X)&&it!=null&&!h.hasOwnProperty(X)&&ye(i,s,X,null,h,it);for(pt in h)it=h[pt],lt=c[pt],!h.hasOwnProperty(pt)||it===lt||it==null&&lt==null||ye(i,s,pt,it,h,lt)}function Sw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tM(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var _=c[h],b=_.transferSize,A=_.initiatorType,N=_.duration;if(b&&N&&Sw(A)){for(A=0,N=_.responseEnd,h+=1;h<c.length;h++){var F=c[h],et=F.startTime;if(et>N)break;var ft=F.transferSize,pt=F.initiatorType;ft&&Sw(pt)&&(F=F.responseEnd,A+=ft*(F<N?1:(N-et)/(F-et)))}if(--h,s+=8*(b+A)/(_.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Zp=null,Kp=null;function wf(i){return i.nodeType===9?i:i.ownerDocument}function Ew(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Wp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yp=null;function eM(){var i=window.event;return i&&i.type==="popstate"?i===Yp?!1:(Yp=i,!0):(Yp=null,!1)}var Tw=typeof setTimeout=="function"?setTimeout:void 0,nM=typeof clearTimeout=="function"?clearTimeout:void 0,Aw=typeof Promise=="function"?Promise:void 0,iM=typeof queueMicrotask=="function"?queueMicrotask:typeof Aw<"u"?function(i){return Aw.resolve(null).then(i).catch(rM)}:Tw;function rM(i){setTimeout(function(){throw i})}function oo(i){return i==="head"}function Rw(i,s){var c=s,h=0;do{var _=c.nextSibling;if(i.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(_),Tl(s);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")sc(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,sc(c);for(var b=c.firstChild;b;){var A=b.nextSibling,N=b.nodeName;b[Mo]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=A}}else c==="body"&&sc(i.ownerDocument.body);c=_}while(c);Tl(s)}function Ow(i,s){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function Xp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Xp(c),hu(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function sM(i,s,c,h){for(;i.nodeType===1;){var _=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Mo])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==_.rel||i.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||i.getAttribute("title")!==(_.title==null?null:_.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(_.src==null?null:_.src)||i.getAttribute("type")!==(_.type==null?null:_.type)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var b=_.name==null?null:""+_.name;if(_.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=$i(i.nextSibling),i===null)break}return null}function oM(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=$i(i.nextSibling),i===null))return null;return i}function Mw(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=$i(i.nextSibling),i===null))return null;return i}function Qp(i){return i.data==="$?"||i.data==="$~"}function Jp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function aM(i,s){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||c.readyState!=="loading")s();else{var h=function(){s(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function $i(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var tg=null;function Lw(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(s===0)return $i(i.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}i=i.nextSibling}return null}function Pw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return i;s--}else c!=="/$"&&c!=="/&"||s++}i=i.previousSibling}return null}function kw(i,s,c){switch(s=wf(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function sc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);hu(i)}var Hi=new Map,Dw=new Set;function xf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var hs=G.d;G.d={f:lM,r:uM,D:cM,C:dM,L:fM,m:hM,X:pM,S:mM,M:gM};function lM(){var i=hs.f(),s=hf();return i||s}function uM(i){var s=Os(i);s!==null&&s.tag===5&&s.type==="form"?X_(s):hs.r(i)}var Sl=typeof document>"u"?null:document;function Nw(i,s,c){var h=Sl;if(h&&typeof s=="string"&&s){var _=Ae(s);_='link[rel="'+i+'"][href="'+_+'"]',typeof c=="string"&&(_+='[crossorigin="'+c+'"]'),Dw.has(_)||(Dw.add(_),i={rel:i,crossOrigin:c,href:s},h.querySelector(_)===null&&(s=h.createElement("link"),Cn(s,"link",i),Xe(s),h.head.appendChild(s)))}}function cM(i){hs.D(i),Nw("dns-prefetch",i,null)}function dM(i,s){hs.C(i,s),Nw("preconnect",i,s)}function fM(i,s,c){hs.L(i,s,c);var h=Sl;if(h&&i&&s){var _='link[rel="preload"][as="'+Ae(s)+'"]';s==="image"&&c&&c.imageSrcSet?(_+='[imagesrcset="'+Ae(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(_+='[imagesizes="'+Ae(c.imageSizes)+'"]')):_+='[href="'+Ae(i)+'"]';var b=_;switch(s){case"style":b=El(i);break;case"script":b=Cl(i)}Hi.has(b)||(i=y({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),Hi.set(b,i),h.querySelector(_)!==null||s==="style"&&h.querySelector(oc(b))||s==="script"&&h.querySelector(ac(b))||(s=h.createElement("link"),Cn(s,"link",i),Xe(s),h.head.appendChild(s)))}}function hM(i,s){hs.m(i,s);var c=Sl;if(c&&i){var h=s&&typeof s.as=="string"?s.as:"script",_='link[rel="modulepreload"][as="'+Ae(h)+'"][href="'+Ae(i)+'"]',b=_;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Cl(i)}if(!Hi.has(b)&&(i=y({rel:"modulepreload",href:i},s),Hi.set(b,i),c.querySelector(_)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ac(b)))return}h=c.createElement("link"),Cn(h,"link",i),Xe(h),c.head.appendChild(h)}}}function mM(i,s,c){hs.S(i,s,c);var h=Sl;if(h&&i){var _=Ms(h).hoistableStyles,b=El(i);s=s||"default";var A=_.get(b);if(!A){var N={loading:0,preload:null};if(A=h.querySelector(oc(b)))N.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},c),(c=Hi.get(b))&&eg(i,c);var F=A=h.createElement("link");Xe(F),Cn(F,"link",i),F._p=new Promise(function(et,ft){F.onload=et,F.onerror=ft}),F.addEventListener("load",function(){N.loading|=1}),F.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Sf(A,s,h)}A={type:"stylesheet",instance:A,count:1,state:N},_.set(b,A)}}}function pM(i,s){hs.X(i,s);var c=Sl;if(c&&i){var h=Ms(c).hoistableScripts,_=Cl(i),b=h.get(_);b||(b=c.querySelector(ac(_)),b||(i=y({src:i,async:!0},s),(s=Hi.get(_))&&ng(i,s),b=c.createElement("script"),Xe(b),Cn(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(_,b))}}function gM(i,s){hs.M(i,s);var c=Sl;if(c&&i){var h=Ms(c).hoistableScripts,_=Cl(i),b=h.get(_);b||(b=c.querySelector(ac(_)),b||(i=y({src:i,async:!0,type:"module"},s),(s=Hi.get(_))&&ng(i,s),b=c.createElement("script"),Xe(b),Cn(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(_,b))}}function jw(i,s,c,h){var _=(_=ct.current)?xf(_):null;if(!_)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=El(c.href),c=Ms(_).hoistableStyles,h=c.get(s),h||(h={type:"style",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=El(c.href);var b=Ms(_).hoistableStyles,A=b.get(i);if(A||(_=_.ownerDocument||_,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=_.querySelector(oc(i)))&&!b._p&&(A.instance=b,A.state.loading=5),Hi.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Hi.set(i,c),b||vM(_,i,c,A.state))),s&&h===null)throw Error(r(528,""));return A}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Cl(c),c=Ms(_).hoistableScripts,h=c.get(s),h||(h={type:"script",instance:null,count:0,state:null},c.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function El(i){return'href="'+Ae(i)+'"'}function oc(i){return'link[rel="stylesheet"]['+i+"]"}function Bw(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function vM(i,s,c,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Cn(s,"link",c),Xe(s),i.head.appendChild(s))}function Cl(i){return'[src="'+Ae(i)+'"]'}function ac(i){return"script[async]"+i}function zw(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+Ae(c.href)+'"]');if(h)return s.instance=h,Xe(h),h;var _=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Xe(h),Cn(h,"style",_),Sf(h,c.precedence,i),s.instance=h;case"stylesheet":_=El(c.href);var b=i.querySelector(oc(_));if(b)return s.state.loading|=4,s.instance=b,Xe(b),b;h=Bw(c),(_=Hi.get(_))&&eg(h,_),b=(i.ownerDocument||i).createElement("link"),Xe(b);var A=b;return A._p=new Promise(function(N,F){A.onload=N,A.onerror=F}),Cn(b,"link",h),s.state.loading|=4,Sf(b,c.precedence,i),s.instance=b;case"script":return b=Cl(c.src),(_=i.querySelector(ac(b)))?(s.instance=_,Xe(_),_):(h=c,(_=Hi.get(b))&&(h=y({},c),ng(h,_)),i=i.ownerDocument||i,_=i.createElement("script"),Xe(_),Cn(_,"link",h),i.head.appendChild(_),s.instance=_);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Sf(h,c.precedence,i));return s.instance}function Sf(i,s,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=h.length?h[h.length-1]:null,b=_,A=0;A<h.length;A++){var N=h[A];if(N.dataset.precedence===s)b=N;else if(b!==_)break}b?b.parentNode.insertBefore(i,b.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function eg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function ng(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Ef=null;function Iw(i,s,c){if(Ef===null){var h=new Map,_=Ef=new Map;_.set(c,h)}else _=Ef,h=_.get(c),h||(h=new Map,_.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),_=0;_<c.length;_++){var b=c[_];if(!(b[Mo]||b[Ye]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(s)||"";A=i+A;var N=h.get(A);N?N.push(b):h.set(A,[b])}}return h}function Uw(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function yM(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Vw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _M(i,s,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var _=El(h.href),b=s.querySelector(oc(_));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Cf.bind(i),s.then(i,i)),c.state.loading|=4,c.instance=b,Xe(b);return}b=s.ownerDocument||s,h=Bw(h),(_=Hi.get(_))&&eg(h,_),b=b.createElement("link"),Xe(b);var A=b;A._p=new Promise(function(N,F){A.onload=N,A.onerror=F}),Cn(b,"link",h),c.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=Cf.bind(i),s.addEventListener("load",c),s.addEventListener("error",c))}}var ig=0;function bM(i,s){return i.stylesheets&&i.count===0&&Af(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&Af(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+s);0<i.imgBytes&&ig===0&&(ig=62500*tM());var _=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Af(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>ig?50:800)+s);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(_)}}:null}function Cf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Tf=null;function Af(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Tf=new Map,s.forEach(wM,i),Tf=null,Cf.call(i))}function wM(i,s){if(!(s.state.loading&4)){var c=Tf.get(i);if(c)var h=c.get(null);else{c=new Map,Tf.set(i,c);for(var _=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<_.length;b++){var A=_[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),h=A)}h&&c.set(null,h)}_=s.instance,A=_.getAttribute("data-precedence"),b=c.get(A)||h,b===h&&c.set(null,_),c.set(A,_),this.count++,h=Cf.bind(this),_.addEventListener("load",h),_.addEventListener("error",h),b?b.parentNode.insertBefore(_,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(_,i.firstChild)),s.state.loading|=4}}var lc={$$typeof:D,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function xM(i,s,c,h,_,b,A,N,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mn(0),this.hiddenUpdates=mn(null),this.identifierPrefix=h,this.onUncaughtError=_,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function Fw(i,s,c,h,_,b,A,N,F,et,ft,pt){return i=new xM(i,s,c,A,F,et,ft,pt,N),s=1,b===!0&&(s|=24),b=Dn(3,null,null,s),i.current=b,b.stateNode=i,s=jm(),s.refCount++,i.pooledCache=s,s.refCount++,b.memoizedState={element:h,isDehydrated:c,cache:s},Um(b),i}function $w(i){return i?(i=Jr,i):Jr}function Hw(i,s,c,h,_,b){_=$w(_),h.context===null?h.context=_:h.pendingContext=_,h=Ws(s),h.payload={element:c},b=b===void 0?null:b,b!==null&&(h.callback=b),c=Ys(i,h,s),c!==null&&(oi(c,i,s),Uu(c,i,s))}function qw(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function rg(i,s){qw(i,s),(i=i.alternate)&&qw(i,s)}function Gw(i){if(i.tag===13||i.tag===31){var s=Ui(i,67108864);s!==null&&oi(s,i,67108864),rg(i,67108864)}}function Zw(i){if(i.tag===13||i.tag===31){var s=Ei();s=wn(s);var c=Ui(i,s);c!==null&&oi(c,i,s),rg(i,s)}}var Rf=!0;function SM(i,s,c,h){var _=$.T;$.T=null;var b=G.p;try{G.p=2,sg(i,s,c,h)}finally{G.p=b,$.T=_}}function EM(i,s,c,h){var _=$.T;$.T=null;var b=G.p;try{G.p=8,sg(i,s,c,h)}finally{G.p=b,$.T=_}}function sg(i,s,c,h){if(Rf){var _=og(h);if(_===null)qp(i,s,h,Of,c),Ww(i,h);else if(TM(_,i,s,c,h))h.stopPropagation();else if(Ww(i,h),s&4&&-1<CM.indexOf(i)){for(;_!==null;){var b=Os(_);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=se(b.pendingLanes);if(A!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var F=1<<31-We(A);N.entanglements[1]|=F,A&=~F}Lr(b),(ce&6)===0&&(df=an()+500,nc(0))}}break;case 31:case 13:N=Ui(b,2),N!==null&&oi(N,b,2),hf(),rg(b,2)}if(b=og(h),b===null&&qp(i,s,h,Of,c),b===_)break;_=b}_!==null&&h.stopPropagation()}else qp(i,s,h,null,c)}}function og(i){return i=No(i),ag(i)}var Of=null;function ag(i){if(Of=null,i=Zr(i),i!==null){var s=a(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=u(s),i!==null)return i;i=null}else if(c===31){if(i=d(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Of=i,null}function Kw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rs()){case mi:return 2;case Fr:return 8;case Fn:case $r:return 32;case $n:return 268435456;default:return 32}default:return 32}}var lg=!1,ao=null,lo=null,uo=null,uc=new Map,cc=new Map,co=[],CM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ww(i,s){switch(i){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":uc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(s.pointerId)}}function dc(i,s,c,h,_,b){return i===null||i.nativeEvent!==b?(i={blockedOn:s,domEventName:c,eventSystemFlags:h,nativeEvent:b,targetContainers:[_]},s!==null&&(s=Os(s),s!==null&&Gw(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),i)}function TM(i,s,c,h,_){switch(s){case"focusin":return ao=dc(ao,i,s,c,h,_),!0;case"dragenter":return lo=dc(lo,i,s,c,h,_),!0;case"mouseover":return uo=dc(uo,i,s,c,h,_),!0;case"pointerover":var b=_.pointerId;return uc.set(b,dc(uc.get(b)||null,i,s,c,h,_)),!0;case"gotpointercapture":return b=_.pointerId,cc.set(b,dc(cc.get(b)||null,i,s,c,h,_)),!0}return!1}function Yw(i){var s=Zr(i.target);if(s!==null){var c=a(s);if(c!==null){if(s=c.tag,s===13){if(s=u(c),s!==null){i.blockedOn=s,fu(i.priority,function(){Zw(c)});return}}else if(s===31){if(s=d(c),s!==null){i.blockedOn=s,fu(i.priority,function(){Zw(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Mf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=og(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);Ha=h,c.target.dispatchEvent(h),Ha=null}else return s=Os(c),s!==null&&Gw(s),i.blockedOn=c,!1;s.shift()}return!0}function Xw(i,s,c){Mf(i)&&c.delete(s)}function AM(){lg=!1,ao!==null&&Mf(ao)&&(ao=null),lo!==null&&Mf(lo)&&(lo=null),uo!==null&&Mf(uo)&&(uo=null),uc.forEach(Xw),cc.forEach(Xw)}function Lf(i,s){i.blockedOn===s&&(i.blockedOn=null,lg||(lg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,AM)))}var Pf=null;function Qw(i){Pf!==i&&(Pf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pf===i&&(Pf=null);for(var s=0;s<i.length;s+=3){var c=i[s],h=i[s+1],_=i[s+2];if(typeof h!="function"){if(ag(h||c)===null)continue;break}var b=Os(c);b!==null&&(i.splice(s,3),s-=3,op(b,{pending:!0,data:_,method:c.method,action:h},h,_))}}))}function Tl(i){function s(F){return Lf(F,i)}ao!==null&&Lf(ao,i),lo!==null&&Lf(lo,i),uo!==null&&Lf(uo,i),uc.forEach(s),cc.forEach(s);for(var c=0;c<co.length;c++){var h=co[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<co.length&&(c=co[0],c.blockedOn===null);)Yw(c),c.blockedOn===null&&co.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var _=c[h],b=c[h+1],A=_[pn]||null;if(typeof b=="function")A||Qw(c);else if(A){var N=null;if(b&&b.hasAttribute("formAction")){if(_=b,A=b[pn]||null)N=A.formAction;else if(ag(_)!==null)continue}else N=A.action;typeof N=="function"?c[h+1]=N:(c.splice(h,3),h-=3),Qw(c)}}}function Jw(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(A){return _=A})},focusReset:"manual",scroll:"manual"})}function s(){_!==null&&(_(),_=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,_=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),_!==null&&(_(),_=null)}}}function ug(i){this._internalRoot=i}kf.prototype.render=ug.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,h=Ei();Hw(c,h,i,s,null,null)},kf.prototype.unmount=ug.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Hw(i.current,2,null,i,null,null),hf(),s[Gr]=null}};function kf(i){this._internalRoot=i}kf.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ua();i={blockedOn:null,target:i,priority:s};for(var c=0;c<co.length&&s!==0&&s<co[c].priority;c++);co.splice(c,0,i),c===0&&Yw(i)}};var tx=e.version;if(tx!=="19.2.1")throw Error(r(527,tx,"19.2.1"));G.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var RM={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{pi=Df.inject(RM),qe=Df}catch{}}return hc.createRoot=function(i,s){if(!o(i))throw Error(r(299));var c=!1,h="",_=ab,b=lb,A=ub;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=Fw(i,1,!1,null,null,c,h,null,_,b,A,Jw),i[Gr]=s.current,Hp(i),new ug(s)},hc.hydrateRoot=function(i,s,c){if(!o(i))throw Error(r(299));var h=!1,_="",b=ab,A=lb,N=ub,F=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.formState!==void 0&&(F=c.formState)),s=Fw(i,1,!0,s,c??null,h,_,F,b,A,N,Jw),s.context=$w(null),c=s.current,h=Ei(),h=wn(h),_=Ws(h),_.callback=null,Ys(c,_,h),c=h,s.current.lanes=c,ee(s,c),Lr(s),i[Gr]=s.current,Hp(i),new kf(s)},hc.version="19.2.1",hc}var cx;function BM(){if(cx)return fg.exports;cx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fg.exports=jM(),fg.exports}var zM=BM();const Fy=VM();function ke(t,...e){if(!Fy)return;const n=UM(t,...e);performance.mark(n);try{console.log(t,...e)}catch{console.log(n)}}function IM(t,...e){Fy&&console.warn(t,...e)}function UM(t,...e){return t.replace(/%[sfdO]/g,n=>{const r=e.shift();return n==="%O"&&r?JSON.stringify(r).replace(/"([^"]+)":/g,"$1:"):String(r)})}function VM(){try{const t="nuqs-localStorage-test";if(typeof localStorage>"u")return!1;localStorage.setItem(t,t);const e=localStorage.getItem(t)===t;return localStorage.removeItem(t),e&&(localStorage.getItem("debug")||"").includes("nuqs")}catch{return!1}}const FM={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",422:"Invalid options combination: `limitUrlUpdates: debounce` should be used in SSR scenarios, with `shallow: false`",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function Xc(t){return`[nuqs] ${FM[t]}
  See https://nuqs.dev/NUQS-${t}`}function $M(t){if(t.size===0)return"";const e=[];for(const[r,o]of t.entries()){const a=r.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");e.push(`${a}=${HM(o)}`)}return"?"+e.join("&")}function HM(t){return t.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/[\x00-\x1F]/g,e=>encodeURIComponent(e))}const Ma=O.createContext({useAdapter(){throw new Error(Xc(404))}});Ma.displayName="NuqsAdapterContext";Fy&&typeof window<"u"&&(window.__NuqsAdapterContext&&window.__NuqsAdapterContext!==Ma&&console.error(Xc(303)),window.__NuqsAdapterContext=Ma);function qM(t){return({children:e,defaultOptions:n,processUrlSearchParams:r,...o})=>O.createElement(Ma.Provider,{...o,value:{useAdapter:t,defaultOptions:n,processUrlSearchParams:r}},e)}function GM(t){const e=O.useContext(Ma);if(!("useAdapter"in e))throw new Error(Xc(404));return e.useAdapter(t)}const ZM=()=>O.useContext(Ma).defaultOptions,KM=()=>O.useContext(Ma).processUrlSearchParams;function WM(){if(typeof window>"u"||!window.GestureEvent)return 50;try{const t=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(t[1])>=17?120:320}catch{return 320}}function YM(t){return{method:"throttle",timeMs:t}}const Rc=YM(WM());function XM(t){return t===null||Array.isArray(t)&&t.length===0}function QM(t,e,n){if(typeof t=="string")n.set(e,t);else{n.delete(e);for(const r of t)n.append(e,r);n.has(e)||n.set(e,"")}return n}function $y(){const t=new Map;return{on(e,n){const r=t.get(e)||[];return r.push(n),t.set(e,r),()=>this.off(e,n)},off(e,n){const r=t.get(e);r&&t.set(e,r.filter(o=>o!==n))},emit(e,n){t.get(e)?.forEach(r=>r(n))}}}function Ev(t,e,n){function r(){t(),n.removeEventListener("abort",a)}const o=setTimeout(r,e);function a(){clearTimeout(o),n.removeEventListener("abort",a)}n.addEventListener("abort",a)}function Cv(){const t=Promise;if(Promise.hasOwnProperty("withResolvers"))return Promise.withResolvers();let e=()=>{},n=()=>{};return{promise:new t((r,o)=>{e=r,n=o}),resolve:e,reject:n}}function JM(t,e){let n=e;for(let r=t.length-1;r>=0;r--){const o=t[r];if(!o)continue;const a=n;n=()=>o(a)}n()}function Tv(){return new URLSearchParams(location.search)}var hE=class{updateMap=new Map;options={history:"replace",scroll:!1,shallow:!0};timeMs=Rc.timeMs;transitions=new Set;resolvers=null;controller=null;lastFlushedAt=0;resetQueueOnNextPush=!1;push({key:t,query:e,options:n},r=Rc.timeMs){this.resetQueueOnNextPush&&(this.reset(),this.resetQueueOnNextPush=!1),ke("[nuqs gtq] Enqueueing %s=%s %O",t,e,n),this.updateMap.set(t,e),n.history==="push"&&(this.options.history="push"),n.scroll&&(this.options.scroll=!0),n.shallow===!1&&(this.options.shallow=!1),n.startTransition&&this.transitions.add(n.startTransition),(!Number.isFinite(this.timeMs)||r>this.timeMs)&&(this.timeMs=r)}getQueuedQuery(t){return this.updateMap.get(t)}getPendingPromise({getSearchParamsSnapshot:t=Tv}){return this.resolvers?.promise??Promise.resolve(t())}flush({getSearchParamsSnapshot:t=Tv,rateLimitFactor:e=1,...n},r){if(this.controller??=new AbortController,!Number.isFinite(this.timeMs))return ke("[nuqs gtq] Skipping flush due to throttleMs=Infinity"),Promise.resolve(t());if(this.resolvers)return this.resolvers.promise;this.resolvers=Cv();const o=()=>{this.lastFlushedAt=performance.now();const[u,d]=this.applyPendingUpdates({...n,autoResetQueueOnUpdate:n.autoResetQueueOnUpdate??!0,getSearchParamsSnapshot:t},r);d===null?(this.resolvers.resolve(u),this.resetQueueOnNextPush=!0):this.resolvers.reject(u),this.resolvers=null};return Ev(()=>{const u=performance.now()-this.lastFlushedAt,d=this.timeMs,m=e*Math.max(0,d-u);ke("[nuqs gtq] Scheduling flush in %f ms. Throttled at %f ms (x%f)",m,d,e),m===0?o():Ev(o,m,this.controller.signal)},0,this.controller.signal),this.resolvers.promise}abort(){return this.controller?.abort(),this.controller=new AbortController,this.resolvers?.resolve(new URLSearchParams),this.resolvers=null,this.reset()}reset(){const t=Array.from(this.updateMap.keys());return ke("[nuqs gtq] Resetting queue %s",JSON.stringify(Object.fromEntries(this.updateMap))),this.updateMap.clear(),this.transitions.clear(),this.options={history:"replace",scroll:!1,shallow:!0},this.timeMs=Rc.timeMs,t}applyPendingUpdates(t,e){const{updateUrl:n,getSearchParamsSnapshot:r}=t;let o=r();if(ke("[nuqs gtq] Applying %d pending update(s) on top of %s",this.updateMap.size,o.toString()),this.updateMap.size===0)return[o,null];const a=Array.from(this.updateMap.entries()),u={...this.options},d=Array.from(this.transitions);t.autoResetQueueOnUpdate&&this.reset(),ke("[nuqs gtq] Flushing queue %O with options %O",a,u);for(const[m,p]of a)p===null?o.delete(m):o=QM(p,m,o);e&&(o=e(o));try{return JM(d,()=>{n(o,u)}),[o,null]}catch(m){return console.error(Xc(429),a.map(([p])=>p).join(),m),[o,m]}}};const ch=new hE;function tL(t,e,n){const r=O.useCallback(()=>{const a=Object.fromEntries(t.map(u=>[u,n(u)]));return[JSON.stringify(a),a]},[t.join(","),n]),o=O.useRef(null);return o.current===null&&(o.current=r()),O.useSyncExternalStore(O.useCallback(a=>{const u=t.map(d=>e(d,a));return()=>u.forEach(d=>d())},[t.join(","),e]),()=>{const[a,u]=r();return o.current[0]===a?o.current[1]:(o.current=[a,u],u)},()=>o.current[1])}var eL=class{callback;resolvers=Cv();controller=new AbortController;queuedValue=void 0;constructor(t){this.callback=t}abort(){this.controller.abort(),this.queuedValue=void 0}push(t,e){return this.queuedValue=t,this.controller.abort(),this.controller=new AbortController,Ev(()=>{const n=this.resolvers;try{ke("[nuqs dq] Flushing debounce queue",t);const r=this.callback(t);ke("[nuqs dq] Reset debounce queue %O",this.queuedValue),this.queuedValue=void 0,this.resolvers=Cv(),r.then(o=>n.resolve(o)).catch(o=>n.reject(o))}catch(r){this.queuedValue=void 0,n.reject(r)}},e,this.controller.signal),this.resolvers.promise}},nL=class{throttleQueue;queues=new Map;queuedQuerySync=$y();constructor(t=new hE){this.throttleQueue=t}useQueuedQueries(t){return tL(t,(e,n)=>this.queuedQuerySync.on(e,n),e=>this.getQueuedQuery(e))}push(t,e,n,r){if(!Number.isFinite(e)){const u=n.getSearchParamsSnapshot??Tv;return Promise.resolve(u())}const o=t.key;if(!this.queues.has(o)){ke("[nuqs dqc] Creating debounce queue for `%s`",o);const u=new eL(d=>(this.throttleQueue.push(d),this.throttleQueue.flush(n,r).finally(()=>{this.queues.get(d.key)?.queuedValue===void 0&&(ke("[nuqs dqc] Cleaning up empty queue for `%s`",d.key),this.queues.delete(d.key)),this.queuedQuerySync.emit(d.key)})));this.queues.set(o,u)}ke("[nuqs dqc] Enqueueing debounce update %O",t);const a=this.queues.get(o).push(t,e);return this.queuedQuerySync.emit(o),a}abort(t){const e=this.queues.get(t);return e?(ke("[nuqs dqc] Aborting debounce queue %s=%s",t,e.queuedValue?.query),this.queues.delete(t),e.abort(),this.queuedQuerySync.emit(t),n=>(n.then(e.resolvers.resolve,e.resolvers.reject),n)):n=>n}abortAll(){for(const[t,e]of this.queues.entries())ke("[nuqs dqc] Aborting debounce queue %s=%s",t,e.queuedValue?.query),e.abort(),e.resolvers.resolve(new URLSearchParams),this.queuedQuerySync.emit(t);this.queues.clear()}getQueuedQuery(t){const e=this.queues.get(t)?.queuedValue?.query;return e!==void 0?e:this.throttleQueue.getQueuedQuery(t)}};const gg=new nL(ch);function mE(t,e){return t===e?!0:t===null||e===null||typeof t=="string"||typeof e=="string"||t.length!==e.length?!1:t.every((n,r)=>n===e[r])}function dx(t,e,n){return r=>{if(!(e.length===0||e.some(a=>!mE(r.getAll(a),t.getAll(a)))))return ke("[nuqs `%s`] no change, returning previous",e.join(","),r),r;const o=pE(t,e,n);return ke("[nuqs `%s`] subbed search params change\n  from %O\n  to   %O",e.join(","),r,o),o}}function pE(t,e,n){if(e.length===0)return t;const r=n?new URLSearchParams(t):t;for(const o of t.keys())e.includes(o)||r.delete(o);return r}const iL="__nuqs__",Av=$y();function rL(t){return function(n,r){const o=new URL(location.href);o.search=$M(n),ke("[nuqs react] Updating url: %s",o),t&&r.shallow===!1?(r.history==="push"?location.assign:location.replace).call(location,o):(r.history==="push"?history.pushState:history.replaceState).call(history,history.state,iL,o),Av.emit("update",n),r.scroll===!0&&window.scrollTo({top:0})}}const gE=O.createContext({fullPageNavigationOnShallowFalseUpdates:!1});function sL(t){const{fullPageNavigationOnShallowFalseUpdates:e}=O.useContext(gE),[n,r]=O.useState(()=>typeof location>"u"?new URLSearchParams:pE(new URLSearchParams(location.search),t,!1));return O.useEffect(()=>{const o=()=>{r(dx(new URLSearchParams(location.search),t,!1))},a=u=>{r(dx(u,t,!0))};return Av.on("update",a),window.addEventListener("popstate",o),()=>{Av.off("update",a),window.removeEventListener("popstate",o)}},[t.join("&")]),{searchParams:n,updateUrl:O.useMemo(()=>rL(e),[e])}}const oL=qM(sL);function aL({children:t,fullPageNavigationOnShallowFalseUpdates:e=!1,...n}){return O.createElement(gE.Provider,{value:{fullPageNavigationOnShallowFalseUpdates:e}},O.createElement(oL,{...n,children:t}))}function vE(t,e,n){try{return t(e)}catch(r){return IM("[nuqs] Error while parsing value `%s`: %O"+(n?" (for key `%s`)":""),e,r,n),null}}function Cs(t){function e(n){if(typeof n>"u")return null;let r="";if(Array.isArray(n)){if(n[0]===void 0)return null;r=n[0]}return typeof n=="string"&&(r=n),vE(t.parse,r)}return{type:"single",eq:(n,r)=>n===r,...t,parseServerSide:e,withDefault(n){return{...this,defaultValue:n,parseServerSide(r){return e(r)??n}}},withOptions(n){return{...this,...n}}}}const vg=Cs({parse:t=>t,serialize:String});Cs({parse:t=>{const e=parseInt(t);return e==e?e:null},serialize:t=>""+Math.round(t)});Cs({parse:t=>{const e=parseInt(t);return e==e?e-1:null},serialize:t=>""+Math.round(t+1)});Cs({parse:t=>{const e=parseInt(t,16);return e==e?e:null},serialize:t=>{const e=Math.round(t).toString(16);return(e.length&1?"0":"")+e}});Cs({parse:t=>{const e=parseFloat(t);return e==e?e:null},serialize:String});Cs({parse:t=>t.toLowerCase()==="true",serialize:String});function Hy(t,e){return t.valueOf()===e.valueOf()}Cs({parse:t=>{const e=parseInt(t);return e==e?new Date(e):null},serialize:t=>""+t.valueOf(),eq:Hy});Cs({parse:t=>{const e=new Date(t);return e.valueOf()==e.valueOf()?e:null},serialize:t=>t.toISOString(),eq:Hy});Cs({parse:t=>{const e=new Date(t.slice(0,10));return e.valueOf()==e.valueOf()?e:null},serialize:t=>t.toISOString().slice(0,10),eq:Hy});const yg=$y(),lL={};function uL(t,e={}){const n=O.useId(),r=ZM(),o=KM(),{history:a="replace",scroll:u=r?.scroll??!1,shallow:d=r?.shallow??!0,throttleMs:m=Rc.timeMs,limitUrlUpdates:p=r?.limitUrlUpdates,clearOnDefault:g=r?.clearOnDefault??!0,startTransition:y,urlKeys:w=lL}=e,x=Object.keys(t).join(","),C=O.useMemo(()=>Object.fromEntries(Object.keys(t).map(Y=>[Y,w[Y]??Y])),[x,JSON.stringify(w)]),E=GM(Object.values(C)),R=E.searchParams,M=O.useRef({}),j=O.useMemo(()=>Object.fromEntries(Object.keys(t).map(Y=>[Y,t[Y].defaultValue??null])),[Object.values(t).map(({defaultValue:Y})=>Y).join(",")]),D=gg.useQueuedQueries(Object.values(C)),[B,q]=O.useState(()=>_g(t,w,R??new URLSearchParams,D).state),W=O.useRef(B);if(ke("[nuq+ %s `%s`] render - state: %O, iSP: %s",n,x,B,R),Object.keys(M.current).join("&")!==Object.values(C).join("&")){const{state:Y,hasChanged:ot}=_g(t,w,R,D,M.current,W.current);ot&&(ke("[nuq+ %s `%s`] State changed: %O",n,x,{state:Y,initialSearchParams:R,queuedQueries:D,queryRef:M.current,stateRef:W.current}),W.current=Y,q(Y)),M.current=Object.fromEntries(Object.entries(C).map(([gt,yt])=>[yt,t[gt]?.type==="multi"?R?.getAll(yt):R?.get(yt)??null]))}O.useEffect(()=>{const{state:Y,hasChanged:ot}=_g(t,w,R,D,M.current,W.current);ot&&(ke("[nuq+ %s `%s`] State changed: %O",n,x,{state:Y,initialSearchParams:R,queuedQueries:D,queryRef:M.current,stateRef:W.current}),W.current=Y,q(Y))},[Object.values(C).map(Y=>`${Y}=${R?.getAll(Y)}`).join("&"),JSON.stringify(D)]),O.useEffect(()=>{const Y=Object.keys(t).reduce((ot,gt)=>(ot[gt]=({state:yt,query:_t})=>{q(vt=>{const{defaultValue:ut}=t[gt],bt=C[gt],$=yt??ut??null,G=vt[gt]??ut??null;return Object.is(G,$)?(ke("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). no change, skipping, resolved: %O",n,x,bt,yt,ut,W.current),vt):(W.current={...W.current,[gt]:$},M.current[bt]=_t,ke("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). updateInternalState, resolved: %O",n,x,bt,yt,ut,W.current),W.current)})},ot),{});for(const ot of Object.keys(t)){const gt=C[ot];ke("[nuq+ %s `%s`] Subscribing to sync for `%s`",n,gt,x),yg.on(gt,Y[ot])}return()=>{for(const ot of Object.keys(t)){const gt=C[ot];ke("[nuq+ %s `%s`] Unsubscribing to sync for `%s`",n,gt,x),yg.off(gt,Y[ot])}}},[x,C]);const U=O.useCallback((Y,ot={})=>{const gt=Object.fromEntries(Object.keys(t).map(G=>[G,null])),yt=typeof Y=="function"?Y(fx(W.current,j))??gt:Y??gt;ke("[nuq+ %s `%s`] setState: %O",n,x,yt);let _t,vt=0,ut=!1;const bt=[];for(let[G,H]of Object.entries(yt)){const dt=t[G],at=C[G];if(!dt)continue;(ot.clearOnDefault??dt.clearOnDefault??g)&&H!==null&&dt.defaultValue!==void 0&&(dt.eq??((K,st)=>K===st))(H,dt.defaultValue)&&(H=null);const I=H===null?null:(dt.serialize??String)(H);yg.emit(at,{state:H,query:I});const z={key:at,query:I,options:{history:ot.history??dt.history??a,shallow:ot.shallow??dt.shallow??d,scroll:ot.scroll??dt.scroll??u,startTransition:ot.startTransition??dt.startTransition??y}};if(ot?.limitUrlUpdates?.method==="debounce"||p?.method==="debounce"||dt.limitUrlUpdates?.method==="debounce"){z.options.shallow===!0&&console.warn(Xc(422));const K=ot?.limitUrlUpdates?.timeMs??p?.timeMs??dt.limitUrlUpdates?.timeMs??Rc.timeMs,st=gg.push(z,K,E,o);vt<K&&(_t=st,vt=K)}else{const K=ot?.limitUrlUpdates?.timeMs??dt?.limitUrlUpdates?.timeMs??p?.timeMs??ot.throttleMs??dt.throttleMs??m;bt.push(gg.abort(at)),ch.push(z,K),ut=!0}}const $=bt.reduce((G,H)=>H(G),ut?ch.flush(E,o):ch.getPendingPromise(E));return _t??$},[x,a,d,u,m,p?.method,p?.timeMs,y,C,E.updateUrl,E.getSearchParamsSnapshot,E.rateLimitFactor,o,j]);return[O.useMemo(()=>fx(B,j),[B,j]),U]}function _g(t,e,n,r,o,a){let u=!1;const d=Object.entries(t).reduce((m,[p,g])=>{const y=e?.[p]??p,w=r[y],x=g.type==="multi"?[]:null,C=w===void 0?(g.type==="multi"?n?.getAll(y):n?.get(y))??x:w;return o&&a&&mE(o[y]??x,C)?(m[p]=a[p]??null,m):(u=!0,m[p]=(XM(C)?null:vE(g.parse,C,y))??null,o&&(o[y]=C),m)},{});if(!u){const m=Object.keys(t),p=Object.keys(a??{});u=m.length!==p.length||m.some(g=>!p.includes(g))}return{state:d,hasChanged:u}}function fx(t,e){return Object.fromEntries(Object.keys(t).map(n=>[n,t[n]??e[n]??null]))}function bg(t,e={}){const{parse:n,type:r,serialize:o,eq:a,defaultValue:u,...d}=e,[{[t]:m},p]=uL({[t]:{parse:n??(g=>g),type:r,serialize:o,eq:a,defaultValue:u}},d);return[m,O.useCallback((g,y={})=>p(w=>({[t]:typeof g=="function"?g(w[t]):g}),y),[t,p])]}function cL(t){return t<=7?1:t<=10?2:t<=13?3:4}const yE=O.createContext(null);function dL({children:t}){const[e,n]=O.useState(null),[r,o]=O.useState(null),[a,u]=O.useState(5),[d,m]=bg("sector",vg.withDefault("")),[p,g]=bg("search",vg.withDefault("")),[y,w]=bg("view",vg.withDefault("map")),[x,C]=O.useState({sector:d||null,search:p||""}),[E,R]=O.useState(y==="table"?"table":"map");O.useEffect(()=>{C({sector:d||null,search:p||""})},[d,p]),O.useEffect(()=>{R(y==="table"?"table":"map")},[y]);const M=D=>{C(D),m(D.sector||null),g(D.search||null)},j=D=>{R(D),w(D)};return P.jsx(yE.Provider,{value:{selectedCompany:e,setSelectedCompany:n,hoveredCompany:r,setHoveredCompany:o,filters:x,setFilters:M,viewMode:E,setViewMode:j,zoomLevel:a,setZoomLevel:u,markerDisplayLevel:cL(a)},children:t})}function Ts(){const t=O.useContext(yE);if(!t)throw new Error("useMapContext must be used within MapProvider");return t}function _E(t,e){const n=O.useRef(e);O.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}var su=fE();const bE=Wh(su),fL=1;function hL(t){return Object.freeze({__version:fL,map:t})}function wE(t,e){return Object.freeze({...t,...e})}const qy=O.createContext(null);function Qc(){const t=O.use(qy);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function xE(t){function e(n,r){const{instance:o,context:a}=t(n).current;O.useImperativeHandle(r,()=>o);const{children:u}=n;return u==null?null:rt.createElement(qy,{value:a},u)}return O.forwardRef(e)}function mL(t){function e(n,r){const[o,a]=O.useState(!1),{instance:u}=t(n,a).current;O.useImperativeHandle(r,()=>u),O.useEffect(function(){o&&u.update()},[u,o,n.children]);const d=u._contentNode;return d?su.createPortal(n.children,d):null}return O.forwardRef(e)}function SE(t){function e(n,r){const{instance:o}=t(n).current;return O.useImperativeHandle(r,()=>o),null}return O.forwardRef(e)}function pL(t){return function(n){const r=Qc(),o=t(n,r),{instance:a}=o.current,u=O.useRef(n.position),{position:d}=n;return O.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),O.useEffect(function(){d!=null&&d!==u.current&&(a.setPosition(d),u.current=d)},[a,d]),o}}function Gy(t,e){const n=O.useRef(void 0);O.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Xh(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function gL(t,e){return function(r,o){const a=Qc(),u=t(Xh(r,a),a);return _E(a.map,r.attribution),Gy(u.current,r.eventHandlers),e(u.current,a,r,o),u}}var wc={exports:{}};var vL=wc.exports,hx;function yL(){return hx||(hx=1,(function(t,e){(function(n,r){r(e)})(vL,(function(n){var r="1.9.4";function o(l){var f,v,S,T;for(v=1,S=arguments.length;v<S;v++){T=arguments[v];for(f in T)l[f]=T[f]}return l}var a=Object.create||(function(){function l(){}return function(f){return l.prototype=f,new l}})();function u(l,f){var v=Array.prototype.slice;if(l.bind)return l.bind.apply(l,v.call(arguments,1));var S=v.call(arguments,2);return function(){return l.apply(f,S.length?S.concat(v.call(arguments)):arguments)}}var d=0;function m(l){return"_leaflet_id"in l||(l._leaflet_id=++d),l._leaflet_id}function p(l,f,v){var S,T,k,V;return V=function(){S=!1,T&&(k.apply(v,T),T=!1)},k=function(){S?T=arguments:(l.apply(v,arguments),setTimeout(V,f),S=!0)},k}function g(l,f,v){var S=f[1],T=f[0],k=S-T;return l===S&&v?l:((l-T)%k+k)%k+T}function y(){return!1}function w(l,f){if(f===!1)return l;var v=Math.pow(10,f===void 0?6:f);return Math.round(l*v)/v}function x(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function C(l){return x(l).split(/\s+/)}function E(l,f){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?a(l.options):{});for(var v in f)l.options[v]=f[v];return l.options}function R(l,f,v){var S=[];for(var T in l)S.push(encodeURIComponent(v?T.toUpperCase():T)+"="+encodeURIComponent(l[T]));return(!f||f.indexOf("?")===-1?"?":"&")+S.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function j(l,f){return l.replace(M,function(v,S){var T=f[S];if(T===void 0)throw new Error("No value provided for variable "+v);return typeof T=="function"&&(T=T(f)),T})}var D=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function B(l,f){for(var v=0;v<l.length;v++)if(l[v]===f)return v;return-1}var q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function W(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var U=0;function Y(l){var f=+new Date,v=Math.max(0,16-(f-U));return U=f+v,window.setTimeout(l,v)}var ot=window.requestAnimationFrame||W("RequestAnimationFrame")||Y,gt=window.cancelAnimationFrame||W("CancelAnimationFrame")||W("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function yt(l,f,v){if(v&&ot===Y)l.call(f);else return ot.call(window,u(l,f))}function _t(l){l&&gt.call(window,l)}var vt={__proto__:null,extend:o,create:a,bind:u,get lastId(){return d},stamp:m,throttle:p,wrapNum:g,falseFn:y,formatNum:w,trim:x,splitWords:C,setOptions:E,getParamString:R,template:j,isArray:D,indexOf:B,emptyImageUrl:q,requestFn:ot,cancelFn:gt,requestAnimFrame:yt,cancelAnimFrame:_t};function ut(){}ut.extend=function(l){var f=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=f.__super__=this.prototype,S=a(v);S.constructor=f,f.prototype=S;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(f[T]=this[T]);return l.statics&&o(f,l.statics),l.includes&&(bt(l.includes),o.apply(null,[S].concat(l.includes))),o(S,l),delete S.statics,delete S.includes,S.options&&(S.options=v.options?a(v.options):{},o(S.options,l.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,V=S._initHooks.length;k<V;k++)S._initHooks[k].call(this)}},f},ut.include=function(l){var f=this.prototype.options;return o(this.prototype,l),l.options&&(this.prototype.options=f,this.mergeOptions(l.options)),this},ut.mergeOptions=function(l){return o(this.prototype.options,l),this},ut.addInitHook=function(l){var f=Array.prototype.slice.call(arguments,1),v=typeof l=="function"?l:function(){this[l].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function bt(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=D(l)?l:[l];for(var f=0;f<l.length;f++)l[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(l,f,v){if(typeof l=="object")for(var S in l)this._on(S,l[S],f);else{l=C(l);for(var T=0,k=l.length;T<k;T++)this._on(l[T],f,v)}return this},off:function(l,f,v){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var S in l)this._off(S,l[S],f);else{l=C(l);for(var T=arguments.length===1,k=0,V=l.length;k<V;k++)T?this._off(l[k]):this._off(l[k],f,v)}return this},_on:function(l,f,v,S){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(l,f,v)===!1){v===this&&(v=void 0);var T={fn:f,ctx:v};S&&(T.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(T)}},_off:function(l,f,v){var S,T,k;if(this._events&&(S=this._events[l],!!S)){if(arguments.length===1){if(this._firingCount)for(T=0,k=S.length;T<k;T++)S[T].fn=y;delete this._events[l];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var V=this._listens(l,f,v);if(V!==!1){var Q=S[V];this._firingCount&&(Q.fn=y,this._events[l]=S=S.slice()),S.splice(V,1)}}},fire:function(l,f,v){if(!this.listens(l,v))return this;var S=o({},f,{type:l,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var T=this._events[l];if(T){this._firingCount=this._firingCount+1||1;for(var k=0,V=T.length;k<V;k++){var Q=T[k],nt=Q.fn;Q.once&&this.off(l,nt,Q.ctx),nt.call(Q.ctx||this,S)}this._firingCount--}}return v&&this._propagateEvent(S),this},listens:function(l,f,v,S){typeof l!="string"&&console.warn('"string" type argument expected');var T=f;typeof f!="function"&&(S=!!f,T=void 0,v=void 0);var k=this._events&&this._events[l];if(k&&k.length&&this._listens(l,T,v)!==!1)return!0;if(S){for(var V in this._eventParents)if(this._eventParents[V].listens(l,f,v,S))return!0}return!1},_listens:function(l,f,v){if(!this._events)return!1;var S=this._events[l]||[];if(!f)return!!S.length;v===this&&(v=void 0);for(var T=0,k=S.length;T<k;T++)if(S[T].fn===f&&S[T].ctx===v)return T;return!1},once:function(l,f,v){if(typeof l=="object")for(var S in l)this._on(S,l[S],f,!0);else{l=C(l);for(var T=0,k=l.length;T<k;T++)this._on(l[T],f,v,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[m(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[m(l)],this},_propagateEvent:function(l){for(var f in this._eventParents)this._eventParents[f].fire(l.type,o({layer:l.target,propagatedFrom:l.target},l),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var G=ut.extend($);function H(l,f,v){this.x=v?Math.round(l):l,this.y=v?Math.round(f):f}var dt=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(l){return this.clone()._add(at(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(at(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new H(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new H(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=dt(this.x),this.y=dt(this.y),this},distanceTo:function(l){l=at(l);var f=l.x-this.x,v=l.y-this.y;return Math.sqrt(f*f+v*v)},equals:function(l){return l=at(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=at(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function at(l,f,v){return l instanceof H?l:D(l)?new H(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new H(l.x,l.y):new H(l,f,v)}function I(l,f){if(l)for(var v=f?[l,f]:l,S=0,T=v.length;S<T;S++)this.extend(v[S])}I.prototype={extend:function(l){var f,v;if(!l)return this;if(l instanceof H||typeof l[0]=="number"||"x"in l)f=v=at(l);else if(l=z(l),f=l.min,v=l.max,!f||!v)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=v.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(l){return at((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return at(this.min.x,this.max.y)},getTopRight:function(){return at(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var f,v;return typeof l[0]=="number"||l instanceof H?l=at(l):l=z(l),l instanceof I?(f=l.min,v=l.max):f=v=l,f.x>=this.min.x&&v.x<=this.max.x&&f.y>=this.min.y&&v.y<=this.max.y},intersects:function(l){l=z(l);var f=this.min,v=this.max,S=l.min,T=l.max,k=T.x>=f.x&&S.x<=v.x,V=T.y>=f.y&&S.y<=v.y;return k&&V},overlaps:function(l){l=z(l);var f=this.min,v=this.max,S=l.min,T=l.max,k=T.x>f.x&&S.x<v.x,V=T.y>f.y&&S.y<v.y;return k&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var f=this.min,v=this.max,S=Math.abs(f.x-v.x)*l,T=Math.abs(f.y-v.y)*l;return z(at(f.x-S,f.y-T),at(v.x+S,v.y+T))},equals:function(l){return l?(l=z(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function z(l,f){return!l||l instanceof I?l:new I(l,f)}function K(l,f){if(l)for(var v=f?[l,f]:l,S=0,T=v.length;S<T;S++)this.extend(v[S])}K.prototype={extend:function(l){var f=this._southWest,v=this._northEast,S,T;if(l instanceof J)S=l,T=l;else if(l instanceof K){if(S=l._southWest,T=l._northEast,!S||!T)return this}else return l?this.extend(ct(l)||st(l)):this;return!f&&!v?(this._southWest=new J(S.lat,S.lng),this._northEast=new J(T.lat,T.lng)):(f.lat=Math.min(S.lat,f.lat),f.lng=Math.min(S.lng,f.lng),v.lat=Math.max(T.lat,v.lat),v.lng=Math.max(T.lng,v.lng)),this},pad:function(l){var f=this._southWest,v=this._northEast,S=Math.abs(f.lat-v.lat)*l,T=Math.abs(f.lng-v.lng)*l;return new K(new J(f.lat-S,f.lng-T),new J(v.lat+S,v.lng+T))},getCenter:function(){return new J((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new J(this.getNorth(),this.getWest())},getSouthEast:function(){return new J(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof J||"lat"in l?l=ct(l):l=st(l);var f=this._southWest,v=this._northEast,S,T;return l instanceof K?(S=l.getSouthWest(),T=l.getNorthEast()):S=T=l,S.lat>=f.lat&&T.lat<=v.lat&&S.lng>=f.lng&&T.lng<=v.lng},intersects:function(l){l=st(l);var f=this._southWest,v=this._northEast,S=l.getSouthWest(),T=l.getNorthEast(),k=T.lat>=f.lat&&S.lat<=v.lat,V=T.lng>=f.lng&&S.lng<=v.lng;return k&&V},overlaps:function(l){l=st(l);var f=this._southWest,v=this._northEast,S=l.getSouthWest(),T=l.getNorthEast(),k=T.lat>f.lat&&S.lat<v.lat,V=T.lng>f.lng&&S.lng<v.lng;return k&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,f){return l?(l=st(l),this._southWest.equals(l.getSouthWest(),f)&&this._northEast.equals(l.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function st(l,f){return l instanceof K?l:new K(l,f)}function J(l,f,v){if(isNaN(l)||isNaN(f))throw new Error("Invalid LatLng object: ("+l+", "+f+")");this.lat=+l,this.lng=+f,v!==void 0&&(this.alt=+v)}J.prototype={equals:function(l,f){if(!l)return!1;l=ct(l);var v=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return v<=(f===void 0?1e-9:f)},toString:function(l){return"LatLng("+w(this.lat,l)+", "+w(this.lng,l)+")"},distanceTo:function(l){return St.distance(this,ct(l))},wrap:function(){return St.wrapLatLng(this)},toBounds:function(l){var f=180*l/40075017,v=f/Math.cos(Math.PI/180*this.lat);return st([this.lat-f,this.lng-v],[this.lat+f,this.lng+v])},clone:function(){return new J(this.lat,this.lng,this.alt)}};function ct(l,f,v){return l instanceof J?l:D(l)&&typeof l[0]!="object"?l.length===3?new J(l[0],l[1],l[2]):l.length===2?new J(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new J(l.lat,"lng"in l?l.lng:l.lon,l.alt):f===void 0?null:new J(l,f,v)}var wt={latLngToPoint:function(l,f){var v=this.projection.project(l),S=this.scale(f);return this.transformation._transform(v,S)},pointToLatLng:function(l,f){var v=this.scale(f),S=this.transformation.untransform(l,v);return this.projection.unproject(S)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var f=this.projection.bounds,v=this.scale(l),S=this.transformation.transform(f.min,v),T=this.transformation.transform(f.max,v);return new I(S,T)},infinite:!1,wrapLatLng:function(l){var f=this.wrapLng?g(l.lng,this.wrapLng,!0):l.lng,v=this.wrapLat?g(l.lat,this.wrapLat,!0):l.lat,S=l.alt;return new J(v,f,S)},wrapLatLngBounds:function(l){var f=l.getCenter(),v=this.wrapLatLng(f),S=f.lat-v.lat,T=f.lng-v.lng;if(S===0&&T===0)return l;var k=l.getSouthWest(),V=l.getNorthEast(),Q=new J(k.lat-S,k.lng-T),nt=new J(V.lat-S,V.lng-T);return new K(Q,nt)}},St=o({},wt,{wrapLng:[-180,180],R:6371e3,distance:function(l,f){var v=Math.PI/180,S=l.lat*v,T=f.lat*v,k=Math.sin((f.lat-l.lat)*v/2),V=Math.sin((f.lng-l.lng)*v/2),Q=k*k+Math.cos(S)*Math.cos(T)*V*V,nt=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*nt}}),Dt=6378137,Te={R:Dt,MAX_LATITUDE:85.0511287798,project:function(l){var f=Math.PI/180,v=this.MAX_LATITUDE,S=Math.max(Math.min(v,l.lat),-v),T=Math.sin(S*f);return new H(this.R*l.lng*f,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(l){var f=180/Math.PI;return new J((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*f,l.x*f/this.R)},bounds:(function(){var l=Dt*Math.PI;return new I([-l,-l],[l,l])})()};function ze(l,f,v,S){if(D(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=f,this._c=v,this._d=S}ze.prototype={transform:function(l,f){return this._transform(l.clone(),f)},_transform:function(l,f){return f=f||1,l.x=f*(this._a*l.x+this._b),l.y=f*(this._c*l.y+this._d),l},untransform:function(l,f){return f=f||1,new H((l.x/f-this._b)/this._a,(l.y/f-this._d)/this._c)}};function He(l,f,v,S){return new ze(l,f,v,S)}var hi=o({},St,{code:"EPSG:3857",projection:Te,transformation:(function(){var l=.5/(Math.PI*Te.R);return He(l,.5,-l,.5)})()}),Pt=o({},hi,{code:"EPSG:900913"});function Yi(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Li(l,f){var v="",S,T,k,V,Q,nt;for(S=0,k=l.length;S<k;S++){for(Q=l[S],T=0,V=Q.length;T<V;T++)nt=Q[T],v+=(T?"L":"M")+nt.x+" "+nt.y;v+=f?Et.svg?"z":"x":""}return v||"M0 0"}var Un=document.documentElement.style,Pi="ActiveXObject"in window,_n=Pi&&!document.addEventListener,Vn="msLaunchUri"in navigator&&!("documentMode"in document),ki=wn("webkit"),Ke=wn("android"),bn=wn("android 2")||wn("android 3"),an=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Rs=Ke&&wn("Google")&&an<537&&!("AudioNode"in window),mi=!!window.opera,Fr=!Vn&&wn("chrome"),Fn=wn("gecko")&&!ki&&!mi&&!Pi,$r=!Fr&&wn("safari"),$n=wn("phantom"),Hr="OTransition"in Un,Mn=navigator.platform.indexOf("Win")===0,pi=Pi&&"transition"in Un,qe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!bn,Ln="MozPerspective"in Un,We=!window.L_DISABLE_3D&&(pi||qe||Ln)&&!Hr&&!$n,Xi=typeof orientation<"u"||wn("mobile"),qr=Xi&&ki,Ot=Xi&&qe,Wt=!window.PointerEvent&&window.MSPointerEvent,te=!!(window.PointerEvent||Wt),Ht="ontouchstart"in window||!!window.TouchEvent,se=!window.L_NO_TOUCH&&(Ht||te),At=Xi&&mi,qt=Xi&&Fn,he=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,de=(function(){var l=!1;try{var f=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",y,f),window.removeEventListener("testPassiveEventSupport",y,f)}catch{}return l})(),mn=(function(){return!!document.createElement("canvas").getContext})(),ee=!!(document.createElementNS&&Yi("svg").createSVGRect),be=!!ee&&(function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Wn=!ee&&(function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var f=l.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}})(),ln=navigator.platform.indexOf("Mac")===0,Pn=navigator.platform.indexOf("Linux")===0;function wn(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Et={ie:Pi,ielt9:_n,edge:Vn,webkit:ki,android:Ke,android23:bn,androidStock:Rs,opera:mi,chrome:Fr,gecko:Fn,safari:$r,phantom:$n,opera12:Hr,win:Mn,ie3d:pi,webkit3d:qe,gecko3d:Ln,any3d:We,mobile:Xi,mobileWebkit:qr,mobileWebkit3d:Ot,msPointer:Wt,pointer:te,touch:se,touchNative:Ht,mobileOpera:At,mobileGecko:qt,retina:he,passiveEvents:de,canvas:mn,svg:ee,vml:Wn,inlineSvg:be,mac:ln,linux:Pn},Ua=Et.msPointer?"MSPointerDown":"pointerdown",fu=Et.msPointer?"MSPointerMove":"pointermove",Qi=Et.msPointer?"MSPointerUp":"pointerup",Ye=Et.msPointer?"MSPointerCancel":"pointercancel",pn={touchstart:Ua,touchmove:fu,touchend:Qi,touchcancel:Ye},Gr={touchstart:Ms,touchmove:vr,touchend:vr,touchcancel:vr},gr={},hd=!1;function _m(l,f,v){return f==="touchstart"&&Os(),Gr[f]?(v=Gr[f].bind(this,v),l.addEventListener(pn[f],v,!1),v):(console.warn("wrong event specified:",f),y)}function md(l,f,v){if(!pn[f]){console.warn("wrong event specified:",f);return}l.removeEventListener(pn[f],v,!1)}function Mo(l){gr[l.pointerId]=l}function hu(l){gr[l.pointerId]&&(gr[l.pointerId]=l)}function Zr(l){delete gr[l.pointerId]}function Os(){hd||(document.addEventListener(Ua,Mo,!0),document.addEventListener(fu,hu,!0),document.addEventListener(Qi,Zr,!0),document.addEventListener(Ye,Zr,!0),hd=!0)}function vr(l,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var v in gr)f.touches.push(gr[v]);f.changedTouches=[f],l(f)}}function Ms(l,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&Ie(f),vr(l,f)}function Xe(l){var f={},v,S;for(S in l)v=l[S],f[S]=v&&v.bind?v.bind(l):v;return l=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var pd=200;function gd(l,f){l.addEventListener("dblclick",f);var v=0,S;function T(k){if(k.detail!==1){S=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var V=Bo(k);if(!(V.some(function(nt){return nt instanceof HTMLLabelElement&&nt.attributes.for})&&!V.some(function(nt){return nt instanceof HTMLInputElement||nt instanceof HTMLSelectElement}))){var Q=Date.now();Q-v<=pd?(S++,S===2&&f(Xe(k))):S=1,v=Q}}}return l.addEventListener("click",T),{dblclick:f,simDblclick:T}}function Kr(l,f){l.removeEventListener("dblclick",f.dblclick),l.removeEventListener("click",f.simDblclick)}var yr=ko(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Lo=ko(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),mu=Lo==="webkitTransition"||Lo==="OTransition"?Lo+"End":"transitionend";function pu(l){return typeof l=="string"?document.getElementById(l):l}function Po(l,f){var v=l.style[f]||l.currentStyle&&l.currentStyle[f];if((!v||v==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(l,null);v=S?S[f]:null}return v==="auto"?null:v}function Yt(l,f,v){var S=document.createElement(l);return S.className=f||"",v&&v.appendChild(S),S}function ge(l){var f=l.parentNode;f&&f.removeChild(l)}function Yn(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function un(l){var f=l.parentNode;f&&f.lastChild!==l&&f.appendChild(l)}function Wr(l){var f=l.parentNode;f&&f.firstChild!==l&&f.insertBefore(l,f.firstChild)}function gu(l,f){if(l.classList!==void 0)return l.classList.contains(f);var v=Va(l);return v.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(v)}function Ft(l,f){if(l.classList!==void 0)for(var v=C(f),S=0,T=v.length;S<T;S++)l.classList.add(v[S]);else if(!gu(l,f)){var k=Va(l);Ls(l,(k?k+" ":"")+f)}}function Me(l,f){l.classList!==void 0?l.classList.remove(f):Ls(l,x((" "+Va(l)+" ").replace(" "+f+" "," ")))}function Ls(l,f){l.className.baseVal===void 0?l.className=f:l.className.baseVal=f}function Va(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function Ae(l,f){"opacity"in l.style?l.style.opacity=f:"filter"in l.style&&vu(l,f)}function vu(l,f){var v=!1,S="DXImageTransform.Microsoft.Alpha";try{v=l.filters.item(S)}catch{if(f===1)return}f=Math.round(f*100),v?(v.Enabled=f!==100,v.Opacity=f):l.style.filter+=" progid:"+S+"(opacity="+f+")"}function ko(l){for(var f=document.documentElement.style,v=0;v<l.length;v++)if(l[v]in f)return l[v];return!1}function Ji(l,f,v){var S=f||new H(0,0);l.style[yr]=(Et.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(v?" scale("+v+")":"")}function we(l,f){l._leaflet_pos=f,Et.any3d?Ji(l,f):(l.style.left=f.x+"px",l.style.top=f.y+"px")}function _r(l){return l._leaflet_pos||new H(0,0)}var Ps,Di,yu;if("onselectstart"in document)Ps=function(){Bt(window,"selectstart",Ie)},Di=function(){fe(window,"selectstart",Ie)};else{var ks=ko(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ps=function(){if(ks){var l=document.documentElement.style;yu=l[ks],l[ks]="none"}},Di=function(){ks&&(document.documentElement.style[ks]=yu,yu=void 0)}}function Fa(){Bt(window,"dragstart",Ie)}function Do(){fe(window,"dragstart",Ie)}var $a,_u;function Ds(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(Xn(),$a=l,_u=l.style.outlineStyle,l.style.outlineStyle="none",Bt(window,"keydown",Xn))}function Xn(){$a&&($a.style.outlineStyle=_u,$a=void 0,_u=void 0,fe(window,"keydown",Xn))}function Ha(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function No(l){var f=l.getBoundingClientRect();return{x:f.width/l.offsetWidth||1,y:f.height/l.offsetHeight||1,boundingClientRect:f}}var Ns={__proto__:null,TRANSFORM:yr,TRANSITION:Lo,TRANSITION_END:mu,get:pu,getStyle:Po,create:Yt,remove:ge,empty:Yn,toFront:un,toBack:Wr,hasClass:gu,addClass:Ft,removeClass:Me,setClass:Ls,getClass:Va,setOpacity:Ae,testProp:ko,setTransform:Ji,setPosition:we,getPosition:_r,get disableTextSelection(){return Ps},get enableTextSelection(){return Di},disableImageDrag:Fa,enableImageDrag:Do,preventOutline:Ds,restoreOutline:Xn,getSizedParentNode:Ha,getScale:No};function Bt(l,f,v,S){if(f&&typeof f=="object")for(var T in f)vi(l,T,f[T],v);else{f=C(f);for(var k=0,V=f.length;k<V;k++)vi(l,f[k],v,S)}return this}var gi="_leaflet_events";function fe(l,f,v,S){if(arguments.length===1)bu(l),delete l[gi];else if(f&&typeof f=="object")for(var T in f)jo(l,T,f[T],v);else if(f=C(f),arguments.length===2)bu(l,function(Q){return B(f,Q)!==-1});else for(var k=0,V=f.length;k<V;k++)jo(l,f[k],v,S);return this}function bu(l,f){for(var v in l[gi]){var S=v.split(/\d/)[0];(!f||f(S))&&jo(l,S,null,null,v)}}var Yr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function vi(l,f,v,S){var T=f+m(v)+(S?"_"+m(S):"");if(l[gi]&&l[gi][T])return this;var k=function(Q){return v.call(S||l,Q||window.event)},V=k;!Et.touchNative&&Et.pointer&&f.indexOf("touch")===0?k=_m(l,f,k):Et.touch&&f==="dblclick"?k=gd(l,k):"addEventListener"in l?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?l.addEventListener(Yr[f]||f,k,Et.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(k=function(Q){Q=Q||window.event,tr(l,Q)&&V(Q)},l.addEventListener(Yr[f],k,!1)):l.addEventListener(f,V,!1):l.attachEvent("on"+f,k),l[gi]=l[gi]||{},l[gi][T]=k}function jo(l,f,v,S,T){T=T||f+m(v)+(S?"_"+m(S):"");var k=l[gi]&&l[gi][T];if(!k)return this;!Et.touchNative&&Et.pointer&&f.indexOf("touch")===0?md(l,f,k):Et.touch&&f==="dblclick"?Kr(l,k):"removeEventListener"in l?l.removeEventListener(Yr[f]||f,k,!1):l.detachEvent("on"+f,k),l[gi][T]=null}function yi(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function Ni(l){return vi(l,"wheel",yi),this}function Xr(l){return Bt(l,"mousedown touchstart dblclick contextmenu",yi),l._leaflet_disable_click=!0,this}function Ie(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function br(l){return Ie(l),yi(l),this}function Bo(l){if(l.composedPath)return l.composedPath();for(var f=[],v=l.target;v;)f.push(v),v=v.parentNode;return f}function zo(l,f){if(!f)return new H(l.clientX,l.clientY);var v=No(f),S=v.boundingClientRect;return new H((l.clientX-S.left)/v.x-f.clientLeft,(l.clientY-S.top)/v.y-f.clientTop)}var vd=Et.linux&&Et.chrome?window.devicePixelRatio:Et.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xn(l){return Et.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/vd:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function tr(l,f){var v=f.relatedTarget;if(!v)return!0;try{for(;v&&v!==l;)v=v.parentNode}catch{return!1}return v!==l}var qa={__proto__:null,on:Bt,off:fe,stopPropagation:yi,disableScrollPropagation:Ni,disableClickPropagation:Xr,preventDefault:Ie,stop:br,getPropagationPath:Bo,getMousePosition:zo,getWheelDelta:xn,isExternalTarget:tr,addListener:Bt,removeListener:fe},js=G.extend({run:function(l,f,v,S){this.stop(),this._el=l,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=_r(l),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=yt(this._animate,this),this._step()},_step:function(l){var f=+new Date-this._startTime,v=this._duration*1e3;f<v?this._runFrame(this._easeOut(f/v),l):(this._runFrame(1),this._complete())},_runFrame:function(l,f){var v=this._startPos.add(this._offset.multiplyBy(l));f&&v._round(),we(this._el,v),this.fire("step")},_complete:function(){_t(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),ne=G.extend({options:{crs:hi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,f){f=E(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(ct(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Lo&&Et.any3d&&!Et.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Bt(this._proxy,mu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,f,v){if(f=f===void 0?this._zoom:this._limitZoom(f),l=this._limitCenter(ct(l),f,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=o({animate:v.animate},v.zoom),v.pan=o({animate:v.animate,duration:v.duration},v.pan));var S=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,f,v.zoom):this._tryAnimatedPan(l,v.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(l,f,v.pan&&v.pan.noMoveStart),this},setZoom:function(l,f){return this._loaded?this.setView(this.getCenter(),l,{zoom:f}):(this._zoom=l,this)},zoomIn:function(l,f){return l=l||(Et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,f)},zoomOut:function(l,f){return l=l||(Et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,f)},setZoomAround:function(l,f,v){var S=this.getZoomScale(f),T=this.getSize().divideBy(2),k=l instanceof H?l:this.latLngToContainerPoint(l),V=k.subtract(T).multiplyBy(1-1/S),Q=this.containerPointToLatLng(T.add(V));return this.setView(Q,f,{zoom:v})},_getBoundsCenterZoom:function(l,f){f=f||{},l=l.getBounds?l.getBounds():st(l);var v=at(f.paddingTopLeft||f.padding||[0,0]),S=at(f.paddingBottomRight||f.padding||[0,0]),T=this.getBoundsZoom(l,!1,v.add(S));if(T=typeof f.maxZoom=="number"?Math.min(f.maxZoom,T):T,T===1/0)return{center:l.getCenter(),zoom:T};var k=S.subtract(v).divideBy(2),V=this.project(l.getSouthWest(),T),Q=this.project(l.getNorthEast(),T),nt=this.unproject(V.add(Q).divideBy(2).add(k),T);return{center:nt,zoom:T}},fitBounds:function(l,f){if(l=st(l),!l.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(l,f);return this.setView(v.center,v.zoom,f)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,f){return this.setView(l,this._zoom,{pan:f})},panBy:function(l,f){if(l=at(l).round(),f=f||{},!l.x&&!l.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new js,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){Ft(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,v,f.duration||.25,f.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,f,v){if(v=v||{},v.animate===!1||!Et.any3d)return this.setView(l,f,v);this._stop();var S=this.project(this.getCenter()),T=this.project(l),k=this.getSize(),V=this._zoom;l=ct(l),f=f===void 0?V:f;var Q=Math.max(k.x,k.y),nt=Q*this.getZoomScale(V,f),mt=T.distanceTo(S)||1,xt=1.42,Lt=xt*xt;function Zt(Ne){var rr=Ne?-1:1,es=Ne?nt:Q,Nu=nt*nt-Q*Q+rr*Lt*Lt*mt*mt,ta=2*es*Lt*mt,ea=Nu/ta,Or=Math.sqrt(ea*ea+1)-ea,sr=Or<1e-9?-18:Math.log(Or);return sr}function cn(Ne){return(Math.exp(Ne)-Math.exp(-Ne))/2}function Ue(Ne){return(Math.exp(Ne)+Math.exp(-Ne))/2}function qn(Ne){return cn(Ne)/Ue(Ne)}var oe=Zt(0);function ae(Ne){return Q*(Ue(oe)/Ue(oe+xt*Ne))}function Xt(Ne){return Q*(Ue(oe)*qn(oe+xt*Ne)-cn(oe))/Lt}function Ar(Ne){return 1-Math.pow(1-Ne,1.5)}var ei=Date.now(),sl=(Zt(1)-oe)/xt,Rr=v.duration?1e3*v.duration:1e3*sl*.8;function Du(){var Ne=(Date.now()-ei)/Rr,rr=Ar(Ne)*sl;Ne<=1?(this._flyToFrame=yt(Du,this),this._move(this.unproject(S.add(T.subtract(S).multiplyBy(Xt(rr)/mt)),V),this.getScaleZoom(Q/ae(rr),V),{flyTo:!0})):this._move(l,f)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),Du.call(this),this},flyToBounds:function(l,f){var v=this._getBoundsCenterZoom(l,f);return this.flyTo(v.center,v.zoom,f)},setMaxBounds:function(l){return l=st(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var f=this.options.minZoom;return this.options.minZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var f=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,f){this._enforcingBounds=!0;var v=this.getCenter(),S=this._limitCenter(v,this._zoom,st(l));return v.equals(S)||this.panTo(S,f),this._enforcingBounds=!1,this},panInside:function(l,f){f=f||{};var v=at(f.paddingTopLeft||f.padding||[0,0]),S=at(f.paddingBottomRight||f.padding||[0,0]),T=this.project(this.getCenter()),k=this.project(l),V=this.getPixelBounds(),Q=z([V.min.add(v),V.max.subtract(S)]),nt=Q.getSize();if(!Q.contains(k)){this._enforcingBounds=!0;var mt=k.subtract(Q.getCenter()),xt=Q.extend(k).getSize().subtract(nt);T.x+=mt.x<0?-xt.x:xt.x,T.y+=mt.y<0?-xt.y:xt.y,this.panTo(this.unproject(T),f),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=o({animate:!1,pan:!0},l===!0?{animate:!0}:l);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),S=f.divideBy(2).round(),T=v.divideBy(2).round(),k=S.subtract(T);return!k.x&&!k.y?this:(l.animate&&l.pan?this.panBy(k):(l.pan&&this._rawPanBy(k),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=o({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=u(this._handleGeolocationResponse,this),v=u(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,v,l):navigator.geolocation.getCurrentPosition(f,v,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var f=l.code,v=l.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var f=l.coords.latitude,v=l.coords.longitude,S=new J(f,v),T=S.toBounds(l.coords.accuracy*2),k=this._locateOptions;if(k.setView){var V=this.getBoundsZoom(T);this.setView(S,k.maxZoom?Math.min(V,k.maxZoom):V)}var Q={latlng:S,bounds:T,timestamp:l.timestamp};for(var nt in l.coords)typeof l.coords[nt]=="number"&&(Q[nt]=l.coords[nt]);this.fire("locationfound",Q)}},addHandler:function(l,f){if(!f)return this;var v=this[l]=new f(this);return this._handlers.push(v),this.options[l]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ge(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(_t(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)ge(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,f){var v="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),S=Yt("div",v,f||this._mapPane);return l&&(this._panes[l]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),f=this.unproject(l.getBottomLeft()),v=this.unproject(l.getTopRight());return new K(f,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,f,v){l=st(l),v=at(v||[0,0]);var S=this.getZoom()||0,T=this.getMinZoom(),k=this.getMaxZoom(),V=l.getNorthWest(),Q=l.getSouthEast(),nt=this.getSize().subtract(v),mt=z(this.project(Q,S),this.project(V,S)).getSize(),xt=Et.any3d?this.options.zoomSnap:1,Lt=nt.x/mt.x,Zt=nt.y/mt.y,cn=f?Math.max(Lt,Zt):Math.min(Lt,Zt);return S=this.getScaleZoom(cn,S),xt&&(S=Math.round(S/(xt/100))*(xt/100),S=f?Math.ceil(S/xt)*xt:Math.floor(S/xt)*xt),Math.max(T,Math.min(k,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,f){var v=this._getTopLeftPoint(l,f);return new I(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,f){var v=this.options.crs;return f=f===void 0?this._zoom:f,v.scale(l)/v.scale(f)},getScaleZoom:function(l,f){var v=this.options.crs;f=f===void 0?this._zoom:f;var S=v.zoom(l*v.scale(f));return isNaN(S)?1/0:S},project:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(ct(l),f)},unproject:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(at(l),f)},layerPointToLatLng:function(l){var f=at(l).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(l){var f=this.project(ct(l))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(ct(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(st(l))},distance:function(l,f){return this.options.crs.distance(ct(l),ct(f))},containerPointToLayerPoint:function(l){return at(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return at(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var f=this.containerPointToLayerPoint(at(l));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ct(l)))},mouseEventToContainerPoint:function(l){return zo(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var f=this._container=pu(l);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Bt(f,"scroll",this._onScroll,this),this._containerId=m(f)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Et.any3d,Ft(l,"leaflet-container"+(Et.touch?" leaflet-touch":"")+(Et.retina?" leaflet-retina":"")+(Et.ielt9?" leaflet-oldie":"")+(Et.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=Po(l,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),we(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ft(l.markerPane,"leaflet-zoom-hide"),Ft(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,f,v){we(this._mapPane,new H(0,0));var S=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var T=this._zoom!==f;this._moveStart(T,v)._move(l,f)._moveEnd(T),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(l,f){return l&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(l,f,v,S){f===void 0&&(f=this._zoom);var T=this._zoom!==f;return this._zoom=f,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),S?v&&v.pinch&&this.fire("zoom",v):((T||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return _t(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){we(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[m(this._container)]=this;var f=l?fe:Bt;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Et.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){_t(this._resizeRequest),this._resizeRequest=yt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,f){for(var v=[],S,T=f==="mouseout"||f==="mouseover",k=l.target||l.srcElement,V=!1;k;){if(S=this._targets[m(k)],S&&(f==="click"||f==="preclick")&&this._draggableMoved(S)){V=!0;break}if(S&&S.listens(f,!0)&&(T&&!tr(k,l)||(v.push(S),T))||k===this._container)break;k=k.parentNode}return!v.length&&!V&&!T&&this.listens(f,!0)&&(v=[this]),v},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var f=l.target||l.srcElement;if(!(!this._loaded||f._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(f))){var v=l.type;v==="mousedown"&&Ds(f),this._fireDOMEvent(l,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,f,v){if(l.type==="click"){var S=o({},l);S.type="preclick",this._fireDOMEvent(S,S.type,v)}var T=this._findEventTargets(l,f);if(v){for(var k=[],V=0;V<v.length;V++)v[V].listens(f,!0)&&k.push(v[V]);T=k.concat(T)}if(T.length){f==="contextmenu"&&Ie(l);var Q=T[0],nt={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var mt=Q.getLatLng&&(!Q._radius||Q._radius<=10);nt.containerPoint=mt?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(l),nt.layerPoint=this.containerPointToLayerPoint(nt.containerPoint),nt.latlng=mt?Q.getLatLng():this.layerPointToLatLng(nt.layerPoint)}for(V=0;V<T.length;V++)if(T[V].fire(f,nt,!0),nt.originalEvent._stopped||T[V].options.bubblingMouseEvents===!1&&B(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,f=this._handlers.length;l<f;l++)this._handlers[l].disable()},whenReady:function(l,f){return this._loaded?l.call(f||this,{target:this}):this.on("load",l,f),this},_getMapPanePos:function(){return _r(this._mapPane)||new H(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,f){var v=l&&f!==void 0?this._getNewPixelOrigin(l,f):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,f){var v=this.getSize()._divideBy(2);return this.project(l,f)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,f,v){var S=this._getNewPixelOrigin(v,f);return this.project(l,f)._subtract(S)},_latLngBoundsToNewLayerBounds:function(l,f,v){var S=this._getNewPixelOrigin(v,f);return z([this.project(l.getSouthWest(),f)._subtract(S),this.project(l.getNorthWest(),f)._subtract(S),this.project(l.getSouthEast(),f)._subtract(S),this.project(l.getNorthEast(),f)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,f,v){if(!v)return l;var S=this.project(l,f),T=this.getSize().divideBy(2),k=new I(S.subtract(T),S.add(T)),V=this._getBoundsOffset(k,v,f);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?l:this.unproject(S.add(V),f)},_limitOffset:function(l,f){if(!f)return l;var v=this.getPixelBounds(),S=new I(v.min.add(l),v.max.add(l));return l.add(this._getBoundsOffset(S,f))},_getBoundsOffset:function(l,f,v){var S=z(this.project(f.getNorthEast(),v),this.project(f.getSouthWest(),v)),T=S.min.subtract(l.min),k=S.max.subtract(l.max),V=this._rebound(T.x,-k.x),Q=this._rebound(T.y,-k.y);return new H(V,Q)},_rebound:function(l,f){return l+f>0?Math.round(l-f)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(f))},_limitZoom:function(l){var f=this.getMinZoom(),v=this.getMaxZoom(),S=Et.any3d?this.options.zoomSnap:1;return S&&(l=Math.round(l/S)*S),Math.max(f,Math.min(v,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Me(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,f){var v=this._getCenterOffset(l)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,f),!0)},_createAnimProxy:function(){var l=this._proxy=Yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(f){var v=yr,S=this._proxy.style[v];Ji(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),S===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ge(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),f=this.getZoom();Ji(this._proxy,this.project(l,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,f,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(f),T=this._getCenterOffset(l)._divideBy(1-1/S);return v.animate!==!0&&!this.getSize().contains(T)?!1:(yt(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(l,f,!0)},this),!0)},_animateZoom:function(l,f,v,S){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=f,Ft(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:f,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Me(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function wu(l,f){return new ne(l,f)}var Hn=ut.extend({options:{position:"topright"},initialize:function(l){E(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var f=this._map;return f&&f.removeControl(this),this.options.position=l,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var f=this._container=this.onAdd(l),v=this.getPosition(),S=l._controlCorners[v];return Ft(f,"leaflet-control"),v.indexOf("bottom")!==-1?S.insertBefore(f,S.firstChild):S.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ge(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),er=function(l){return new Hn(l)};ne.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},f="leaflet-",v=this._controlContainer=Yt("div",f+"control-container",this._container);function S(T,k){var V=f+T+" "+f+k;l[T+k]=Yt("div",V,v)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)ge(this._controlCorners[l]);ge(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Io=Hn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,f,v,S){return v<S?-1:S<v?1:0}},initialize:function(l,f,v){E(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in l)this._addLayer(l[S],S);for(S in f)this._addLayer(f[S],S,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return Hn.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,f){return this._addLayer(l,f),this._map?this._update():this},addOverlay:function(l,f){return this._addLayer(l,f,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var f=this._getLayer(m(l));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){Ft(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Ft(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):Me(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Me(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",f=this._container=Yt("div",l),v=this.options.collapsed;f.setAttribute("aria-haspopup",!0),Xr(f),Ni(f);var S=this._section=Yt("section",l+"-list");v&&(this._map.on("click",this.collapse,this),Bt(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=Yt("a",l+"-toggle",f);T.href="#",T.title="Layers",T.setAttribute("role","button"),Bt(T,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){Ie(k),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=Yt("div",l+"-base",S),this._separator=Yt("div",l+"-separator",S),this._overlaysList=Yt("div",l+"-overlays",S),f.appendChild(S)},_getLayer:function(l){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&m(this._layers[f].layer)===l)return this._layers[f]},_addLayer:function(l,f,v){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:f,overlay:v}),this.options.sortLayers&&this._layers.sort(u(function(S,T){return this.options.sortFunction(S.layer,T.layer,S.name,T.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Yn(this._baseLayersList),Yn(this._overlaysList),this._layerControlInputs=[];var l,f,v,S,T=0;for(v=0;v<this._layers.length;v++)S=this._layers[v],this._addItem(S),f=f||S.overlay,l=l||!S.overlay,T+=S.overlay?0:1;return this.options.hideSingleBase&&(l=l&&T>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=f&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var f=this._getLayer(m(l.target)),v=f.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;v&&this._map.fire(v,f)},_createRadioElement:function(l,f){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(f?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=v,S.firstChild},_addItem:function(l){var f=document.createElement("label"),v=this._map.hasLayer(l.layer),S;l.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=v):S=this._createRadioElement("leaflet-base-layers_"+m(this),v),this._layerControlInputs.push(S),S.layerId=m(l.layer),Bt(S,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+l.name;var k=document.createElement("span");f.appendChild(k),k.appendChild(S),k.appendChild(T);var V=l.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,f,v,S=[],T=[];this._handlingClick=!0;for(var k=l.length-1;k>=0;k--)f=l[k],v=this._getLayer(f.layerId).layer,f.checked?S.push(v):f.checked||T.push(v);for(k=0;k<T.length;k++)this._map.hasLayer(T[k])&&this._map.removeLayer(T[k]);for(k=0;k<S.length;k++)this._map.hasLayer(S[k])||this._map.addLayer(S[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,f,v,S=this._map.getZoom(),T=l.length-1;T>=0;T--)f=l[T],v=this._getLayer(f.layerId).layer,f.disabled=v.options.minZoom!==void 0&&S<v.options.minZoom||v.options.maxZoom!==void 0&&S>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,Bt(l,"click",Ie),this.expand();var f=this;setTimeout(function(){fe(l,"click",Ie),f._preventClick=!1})}}),yd=function(l,f,v){return new Io(l,f,v)},xu=Hn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var f="leaflet-control-zoom",v=Yt("div",f+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,f+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,f+"-out",v,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,f,v,S,T){var k=Yt("a",v,S);return k.innerHTML=l,k.href="#",k.title=f,k.setAttribute("role","button"),k.setAttribute("aria-label",f),Xr(k),Bt(k,"click",br),Bt(k,"click",T,this),Bt(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var l=this._map,f="leaflet-disabled";Me(this._zoomInButton,f),Me(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Ft(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Ft(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});ne.mergeOptions({zoomControl:!0}),ne.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new xu,this.addControl(this.zoomControl))});var bm=function(l){return new xu(l)},_d=Hn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var f="leaflet-control-scale",v=Yt("div",f),S=this.options;return this._addScales(S,f+"-line",v),l.on(S.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),v},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,f,v){l.metric&&(this._mScale=Yt("div",f,v)),l.imperial&&(this._iScale=Yt("div",f,v))},_update:function(){var l=this._map,f=l.getSize().y/2,v=l.distance(l.containerPointToLatLng([0,f]),l.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(v)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var f=this._getRoundNum(l),v=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,v,f/l)},_updateImperial:function(l){var f=l*3.2808399,v,S,T;f>5280?(v=f/5280,S=this._getRoundNum(v),this._updateScale(this._iScale,S+" mi",S/v)):(T=this._getRoundNum(f),this._updateScale(this._iScale,T+" ft",T/f))},_updateScale:function(l,f,v){l.style.width=Math.round(this.options.maxWidth*v)+"px",l.innerHTML=f},_getRoundNum:function(l){var f=Math.pow(10,(Math.floor(l)+"").length-1),v=l/f;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,f*v}}),Su=function(l){return new _d(l)},wm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Eu=Hn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Et.inlineSvg?wm+" ":"")+"Leaflet</a>"},initialize:function(l){E(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=Yt("div","leaflet-control-attribution"),Xr(this._container);for(var f in l._layers)l._layers[f].getAttribution&&this.addAttribution(l._layers[f].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var f in this._attributions)this._attributions[f]&&l.push(f);var v=[];this.options.prefix&&v.push(this.options.prefix),l.length&&v.push(l.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});ne.mergeOptions({attributionControl:!0}),ne.addInitHook(function(){this.options.attributionControl&&new Eu().addTo(this)});var xm=function(l){return new Eu(l)};Hn.Layers=Io,Hn.Zoom=xu,Hn.Scale=_d,Hn.Attribution=Eu,er.layers=yd,er.zoom=bm,er.scale=Su,er.attribution=xm;var ji=ut.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ji.addTo=function(l,f){return l.addHandler(f,this),this};var Sm={Events:$},Cu=Et.touch?"touchstart mousedown":"mousedown",wr=G.extend({options:{clickTolerance:3},initialize:function(l,f,v,S){E(this,S),this._element=l,this._dragStartTarget=f||l,this._preventOutline=v},enable:function(){this._enabled||(Bt(this._dragStartTarget,Cu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wr._dragging===this&&this.finishDrag(!0),fe(this._dragStartTarget,Cu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!gu(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){wr._dragging===this&&this.finishDrag();return}if(!(wr._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(wr._dragging=this,this._preventOutline&&Ds(this._element),Fa(),Ps(),!this._moving)){this.fire("down");var f=l.touches?l.touches[0]:l,v=Ha(this._element);this._startPoint=new H(f.clientX,f.clientY),this._startPos=_r(this._element),this._parentScale=No(v);var S=l.type==="mousedown";Bt(document,S?"mousemove":"touchmove",this._onMove,this),Bt(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var f=l.touches&&l.touches.length===1?l.touches[0]:l,v=new H(f.clientX,f.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,Ie(l),this._moved||(this.fire("dragstart"),this._moved=!0,Ft(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ft(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),we(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){Me(document.body,"leaflet-dragging"),this._lastTarget&&(Me(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fe(document,"mousemove touchmove",this._onMove,this),fe(document,"mouseup touchend touchcancel",this._onUp,this),Do(),Di();var f=this._moved&&this._moving;this._moving=!1,wr._dragging=!1,f&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function bd(l,f,v){var S,T=[1,4,2,8],k,V,Q,nt,mt,xt,Lt,Zt;for(k=0,xt=l.length;k<xt;k++)l[k]._code=Qr(l[k],f);for(Q=0;Q<4;Q++){for(Lt=T[Q],S=[],k=0,xt=l.length,V=xt-1;k<xt;V=k++)nt=l[k],mt=l[V],nt._code&Lt?mt._code&Lt||(Zt=Ga(mt,nt,Lt,f,v),Zt._code=Qr(Zt,f),S.push(Zt)):(mt._code&Lt&&(Zt=Ga(mt,nt,Lt,f,v),Zt._code=Qr(Zt,f),S.push(Zt)),S.push(nt));l=S}return l}function wd(l,f){var v,S,T,k,V,Q,nt,mt,xt;if(!l||l.length===0)throw new Error("latlngs not passed");Qn(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Lt=ct([0,0]),Zt=st(l),cn=Zt.getNorthWest().distanceTo(Zt.getSouthWest())*Zt.getNorthEast().distanceTo(Zt.getNorthWest());cn<1700&&(Lt=Tu(l));var Ue=l.length,qn=[];for(v=0;v<Ue;v++){var oe=ct(l[v]);qn.push(f.project(ct([oe.lat-Lt.lat,oe.lng-Lt.lng])))}for(Q=nt=mt=0,v=0,S=Ue-1;v<Ue;S=v++)T=qn[v],k=qn[S],V=T.y*k.x-k.y*T.x,nt+=(T.x+k.x)*V,mt+=(T.y+k.y)*V,Q+=V*3;Q===0?xt=qn[0]:xt=[nt/Q,mt/Q];var ae=f.unproject(at(xt));return ct([ae.lat+Lt.lat,ae.lng+Lt.lng])}function Tu(l){for(var f=0,v=0,S=0,T=0;T<l.length;T++){var k=ct(l[T]);f+=k.lat,v+=k.lng,S++}return ct([f/S,v/S])}var Au={__proto__:null,clipPolygon:bd,polygonCenter:wd,centroid:Tu};function xd(l,f){if(!f||!l.length)return l.slice();var v=f*f;return l=Cm(l,v),l=Ed(l,v),l}function Sd(l,f,v){return Math.sqrt(Uo(l,f,v,!0))}function Em(l,f,v){return Uo(l,f,v)}function Ed(l,f){var v=l.length,S=typeof Uint8Array<"u"?Uint8Array:Array,T=new S(v);T[0]=T[v-1]=1,Ru(l,T,f,0,v-1);var k,V=[];for(k=0;k<v;k++)T[k]&&V.push(l[k]);return V}function Ru(l,f,v,S,T){var k=0,V,Q,nt;for(Q=S+1;Q<=T-1;Q++)nt=Uo(l[Q],l[S],l[T],!0),nt>k&&(V=Q,k=nt);k>v&&(f[V]=1,Ru(l,f,v,S,V),Ru(l,f,v,V,T))}function Cm(l,f){for(var v=[l[0]],S=1,T=0,k=l.length;S<k;S++)Tm(l[S],l[T])>f&&(v.push(l[S]),T=S);return T<k-1&&v.push(l[k-1]),v}var Cd;function Td(l,f,v,S,T){var k=S?Cd:Qr(l,v),V=Qr(f,v),Q,nt,mt;for(Cd=V;;){if(!(k|V))return[l,f];if(k&V)return!1;Q=k||V,nt=Ga(l,f,Q,v,T),mt=Qr(nt,v),Q===k?(l=nt,k=mt):(f=nt,V=mt)}}function Ga(l,f,v,S,T){var k=f.x-l.x,V=f.y-l.y,Q=S.min,nt=S.max,mt,xt;return v&8?(mt=l.x+k*(nt.y-l.y)/V,xt=nt.y):v&4?(mt=l.x+k*(Q.y-l.y)/V,xt=Q.y):v&2?(mt=nt.x,xt=l.y+V*(nt.x-l.x)/k):v&1&&(mt=Q.x,xt=l.y+V*(Q.x-l.x)/k),new H(mt,xt,T)}function Qr(l,f){var v=0;return l.x<f.min.x?v|=1:l.x>f.max.x&&(v|=2),l.y<f.min.y?v|=4:l.y>f.max.y&&(v|=8),v}function Tm(l,f){var v=f.x-l.x,S=f.y-l.y;return v*v+S*S}function Uo(l,f,v,S){var T=f.x,k=f.y,V=v.x-T,Q=v.y-k,nt=V*V+Q*Q,mt;return nt>0&&(mt=((l.x-T)*V+(l.y-k)*Q)/nt,mt>1?(T=v.x,k=v.y):mt>0&&(T+=V*mt,k+=Q*mt)),V=l.x-T,Q=l.y-k,S?V*V+Q*Q:new H(T,k)}function Qn(l){return!D(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function Za(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Qn(l)}function Bs(l,f){var v,S,T,k,V,Q,nt,mt;if(!l||l.length===0)throw new Error("latlngs not passed");Qn(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var xt=ct([0,0]),Lt=st(l),Zt=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());Zt<1700&&(xt=Tu(l));var cn=l.length,Ue=[];for(v=0;v<cn;v++){var qn=ct(l[v]);Ue.push(f.project(ct([qn.lat-xt.lat,qn.lng-xt.lng])))}for(v=0,S=0;v<cn-1;v++)S+=Ue[v].distanceTo(Ue[v+1])/2;if(S===0)mt=Ue[0];else for(v=0,k=0;v<cn-1;v++)if(V=Ue[v],Q=Ue[v+1],T=V.distanceTo(Q),k+=T,k>S){nt=(k-S)/T,mt=[Q.x-nt*(Q.x-V.x),Q.y-nt*(Q.y-V.y)];break}var oe=f.unproject(at(mt));return ct([oe.lat+xt.lat,oe.lng+xt.lng])}var Am={__proto__:null,simplify:xd,pointToSegmentDistance:Sd,closestPointOnSegment:Em,clipSegment:Td,_getEdgeIntersection:Ga,_getBitCode:Qr,_sqClosestPointOnSegment:Uo,isFlat:Qn,_flat:Za,polylineCenter:Bs},Ka={project:function(l){return new H(l.lng,l.lat)},unproject:function(l){return new J(l.y,l.x)},bounds:new I([-180,-90],[180,90])},Wa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new I([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var f=Math.PI/180,v=this.R,S=l.lat*f,T=this.R_MINOR/v,k=Math.sqrt(1-T*T),V=k*Math.sin(S),Q=Math.tan(Math.PI/4-S/2)/Math.pow((1-V)/(1+V),k/2);return S=-v*Math.log(Math.max(Q,1e-10)),new H(l.lng*f*v,S)},unproject:function(l){for(var f=180/Math.PI,v=this.R,S=this.R_MINOR/v,T=Math.sqrt(1-S*S),k=Math.exp(-l.y/v),V=Math.PI/2-2*Math.atan(k),Q=0,nt=.1,mt;Q<15&&Math.abs(nt)>1e-7;Q++)mt=T*Math.sin(V),mt=Math.pow((1-mt)/(1+mt),T/2),nt=Math.PI/2-2*Math.atan(k*mt)-V,V+=nt;return new J(V*f,l.x*f/v)}},Ad={__proto__:null,LonLat:Ka,Mercator:Wa,SphericalMercator:Te},Rd=o({},St,{code:"EPSG:3395",projection:Wa,transformation:(function(){var l=.5/(Math.PI*Wa.R);return He(l,.5,-l,.5)})()}),Ou=o({},St,{code:"EPSG:4326",projection:Ka,transformation:He(1/180,1,-1/180,.5)}),zs=o({},wt,{projection:Ka,transformation:He(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,f){var v=f.lng-l.lng,S=f.lat-l.lat;return Math.sqrt(v*v+S*S)},infinite:!0});wt.Earth=St,wt.EPSG3395=Rd,wt.EPSG3857=hi,wt.EPSG900913=Pt,wt.EPSG4326=Ou,wt.Simple=zs;var _i=G.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[m(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[m(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var f=l.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var v=this.getEvents();f.on(v,this),this.once("remove",function(){f.off(v,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});ne.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var f=m(l);return this._layers[f]?this:(this._layers[f]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var f=m(l);return this._layers[f]?(this._loaded&&l.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return m(l)in this._layers},eachLayer:function(l,f){for(var v in this._layers)l.call(f,this._layers[v]);return this},_addLayers:function(l){l=l?D(l)?l:[l]:[];for(var f=0,v=l.length;f<v;f++)this.addLayer(l[f])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[m(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var f=m(l);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,f=-1/0,v=this._getZoomSpan();for(var S in this._zoomBoundLayers){var T=this._zoomBoundLayers[S].options;l=T.minZoom===void 0?l:Math.min(l,T.minZoom),f=T.maxZoom===void 0?f:Math.max(f,T.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=l===1/0?void 0:l,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Is=_i.extend({initialize:function(l,f){E(this,f),this._layers={};var v,S;if(l)for(v=0,S=l.length;v<S;v++)this.addLayer(l[v])},addLayer:function(l){var f=this.getLayerId(l);return this._layers[f]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var f=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(l){var f=typeof l=="number"?l:this.getLayerId(l);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var f=Array.prototype.slice.call(arguments,1),v,S;for(v in this._layers)S=this._layers[v],S[l]&&S[l].apply(S,f);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,f){for(var v in this._layers)l.call(f,this._layers[v]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return m(l)}}),Rm=function(l,f){return new Is(l,f)},Bi=Is.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),Is.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),Is.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new K;for(var f in this._layers){var v=this._layers[f];l.extend(v.getBounds?v.getBounds():v.getLatLng())}return l}}),Od=function(l,f){return new Bi(l,f)},zi=ut.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){E(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,f){var v=this._getIconUrl(l);if(!v){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(v,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(S,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(l,f){var v=this.options,S=v[f+"Size"];typeof S=="number"&&(S=[S,S]);var T=at(S),k=at(f==="shadow"&&v.shadowAnchor||v.iconAnchor||T&&T.divideBy(2,!0));l.className="leaflet-marker-"+f+" "+(v.className||""),k&&(l.style.marginLeft=-k.x+"px",l.style.marginTop=-k.y+"px"),T&&(l.style.width=T.x+"px",l.style.height=T.y+"px")},_createImg:function(l,f){return f=f||document.createElement("img"),f.src=l,f},_getIconUrl:function(l){return Et.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function Vo(l){return new zi(l)}var Fo=zi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof Fo.imagePath!="string"&&(Fo.imagePath=this._detectIconPath()),(this.options.imagePath||Fo.imagePath)+zi.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var f=function(v,S,T){var k=S.exec(v);return k&&k[T]};return l=f(l,/^url\((['"])?(.+)\1\)$/,2),l&&f(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=Yt("div","leaflet-default-icon-path",document.body),f=Po(l,"background-image")||Po(l,"backgroundImage");if(document.body.removeChild(l),f=this._stripUrl(f),f)return f;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),$o=ji.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new wr(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ft(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Me(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var f=this._marker,v=f._map,S=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,k=_r(f._icon),V=v.getPixelBounds(),Q=v.getPixelOrigin(),nt=z(V.min._subtract(Q).add(T),V.max._subtract(Q).subtract(T));if(!nt.contains(k)){var mt=at((Math.max(nt.max.x,k.x)-nt.max.x)/(V.max.x-nt.max.x)-(Math.min(nt.min.x,k.x)-nt.min.x)/(V.min.x-nt.min.x),(Math.max(nt.max.y,k.y)-nt.max.y)/(V.max.y-nt.max.y)-(Math.min(nt.min.y,k.y)-nt.min.y)/(V.min.y-nt.min.y)).multiplyBy(S);v.panBy(mt,{animate:!1}),this._draggable._newPos._add(mt),this._draggable._startPos._add(mt),we(f._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=yt(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(_t(this._panRequest),this._panRequest=yt(this._adjustPan.bind(this,l)))},_onDrag:function(l){var f=this._marker,v=f._shadow,S=_r(f._icon),T=f._map.layerPointToLatLng(S);v&&we(v,S),f._latlng=T,l.latlng=T,l.oldLatLng=this._oldLatLng,f.fire("move",l).fire("drag",l)},_onDragEnd:function(l){_t(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),Ho=_i.extend({options:{icon:new Fo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,f){E(this,f),this._latlng=ct(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var f=this._latlng;return this._latlng=ct(l),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=l.icon.createIcon(this._icon),S=!1;v!==this._icon&&(this._icon&&this._removeIcon(),S=!0,l.title&&(v.title=l.title),v.tagName==="IMG"&&(v.alt=l.alt||"")),Ft(v,f),l.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(v,"focus",this._panOnFocus,this);var T=l.icon.createShadow(this._shadow),k=!1;T!==this._shadow&&(this._removeShadow(),k=!0),T&&(Ft(T,f),T.alt=""),this._shadow=T,l.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&k&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(this._icon,"focus",this._panOnFocus,this),ge(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ge(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&we(this._icon,l),this._shadow&&we(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(Ft(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$o)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $o(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Ae(this._icon,l),this._shadow&&Ae(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var f=this.options.icon.options,v=f.iconSize?at(f.iconSize):at(0,0),S=f.iconAnchor?at(f.iconAnchor):at(0,0);l.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:v.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Md(l,f){return new Ho(l,f)}var Ii=_i.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return E(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Us=Ii.extend({options:{fill:!0,radius:10},initialize:function(l,f){E(this,f),this._latlng=ct(l),this._radius=this.options.radius},setLatLng:function(l){var f=this._latlng;return this._latlng=ct(l),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var f=l&&l.radius||this._radius;return Ii.prototype.setStyle.call(this,l),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,f=this._radiusY||l,v=this._clickTolerance(),S=[l+v,f+v];this._pxBounds=new I(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ld(l,f){return new Us(l,f)}var Ya=Us.extend({initialize:function(l,f,v){if(typeof f=="number"&&(f=o({},v,{radius:f})),E(this,f),this._latlng=ct(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new K(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:Ii.prototype.setStyle,_project:function(){var l=this._latlng.lng,f=this._latlng.lat,v=this._map,S=v.options.crs;if(S.distance===St.distance){var T=Math.PI/180,k=this._mRadius/St.R/T,V=v.project([f+k,l]),Q=v.project([f-k,l]),nt=V.add(Q).divideBy(2),mt=v.unproject(nt).lat,xt=Math.acos((Math.cos(k*T)-Math.sin(f*T)*Math.sin(mt*T))/(Math.cos(f*T)*Math.cos(mt*T)))/T;(isNaN(xt)||xt===0)&&(xt=k/Math.cos(Math.PI/180*f)),this._point=nt.subtract(v.getPixelOrigin()),this._radius=isNaN(xt)?0:nt.x-v.project([mt,l-xt]).x,this._radiusY=nt.y-V.y}else{var Lt=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(Lt).x}this._updateBounds()}});function Pd(l,f,v){return new Ya(l,f,v)}var nr=Ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,f){E(this,f),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var f=1/0,v=null,S=Uo,T,k,V=0,Q=this._parts.length;V<Q;V++)for(var nt=this._parts[V],mt=1,xt=nt.length;mt<xt;mt++){T=nt[mt-1],k=nt[mt];var Lt=S(l,T,k,!0);Lt<f&&(f=Lt,v=S(l,T,k))}return v&&(v.distance=Math.sqrt(f)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,f){return f=f||this._defaultShape(),l=ct(l),f.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new K,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Qn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var f=[],v=Qn(l),S=0,T=l.length;S<T;S++)v?(f[S]=ct(l[S]),this._bounds.extend(f[S])):f[S]=this._convertLatLngs(l[S]);return f},_project:function(){var l=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),f=new H(l,l);this._rawPxBounds&&(this._pxBounds=new I([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(l,f,v){var S=l[0]instanceof J,T=l.length,k,V;if(S){for(V=[],k=0;k<T;k++)V[k]=this._map.latLngToLayerPoint(l[k]),v.extend(V[k]);f.push(V)}else for(k=0;k<T;k++)this._projectLatlngs(l[k],f,v)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,v,S,T,k,V,Q,nt;for(v=0,T=0,k=this._rings.length;v<k;v++)for(nt=this._rings[v],S=0,V=nt.length;S<V-1;S++)Q=Td(nt[S],nt[S+1],l,S,!0),Q&&(f[T]=f[T]||[],f[T].push(Q[0]),(Q[1]!==nt[S+1]||S===V-2)&&(f[T].push(Q[1]),T++))}},_simplifyPoints:function(){for(var l=this._parts,f=this.options.smoothFactor,v=0,S=l.length;v<S;v++)l[v]=xd(l[v],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,f){var v,S,T,k,V,Q,nt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(v=0,k=this._parts.length;v<k;v++)for(Q=this._parts[v],S=0,V=Q.length,T=V-1;S<V;T=S++)if(!(!f&&S===0)&&Sd(l,Q[T],Q[S])<=nt)return!0;return!1}});function Om(l,f){return new nr(l,f)}nr._flat=Za;var Vs=nr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wd(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var f=nr.prototype._convertLatLngs.call(this,l),v=f.length;return v>=2&&f[0]instanceof J&&f[0].equals(f[v-1])&&f.pop(),f},_setLatLngs:function(l){nr.prototype._setLatLngs.call(this,l),Qn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Qn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,f=this.options.weight,v=new H(f,f);if(l=new I(l.min.subtract(v),l.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,T=this._rings.length,k;S<T;S++)k=bd(this._rings[S],l,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var f=!1,v,S,T,k,V,Q,nt,mt;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(k=0,nt=this._parts.length;k<nt;k++)for(v=this._parts[k],V=0,mt=v.length,Q=mt-1;V<mt;Q=V++)S=v[V],T=v[Q],S.y>l.y!=T.y>l.y&&l.x<(T.x-S.x)*(l.y-S.y)/(T.y-S.y)+S.x&&(f=!f);return f||nr.prototype._containsPoint.call(this,l,!0)}});function Mm(l,f){return new Vs(l,f)}var ir=Bi.extend({initialize:function(l,f){E(this,f),this._layers={},l&&this.addData(l)},addData:function(l){var f=D(l)?l:l.features,v,S,T;if(f){for(v=0,S=f.length;v<S;v++)T=f[v],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var k=this.options;if(k.filter&&!k.filter(l))return this;var V=gn(l,k);return V?(V.feature=Ja(l),V.defaultOptions=V.options,this.resetStyle(V),k.onEachFeature&&k.onEachFeature(l,V),this.addLayer(V)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=o({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(f){this._setLayerStyle(f,l)},this)},_setLayerStyle:function(l,f){l.setStyle&&(typeof f=="function"&&(f=f(l.feature)),l.setStyle(f))}});function gn(l,f){var v=l.type==="Feature"?l.geometry:l,S=v?v.coordinates:null,T=[],k=f&&f.pointToLayer,V=f&&f.coordsToLatLng||Xa,Q,nt,mt,xt;if(!S&&!v)return null;switch(v.type){case"Point":return Q=V(S),Fs(k,l,Q,f);case"MultiPoint":for(mt=0,xt=S.length;mt<xt;mt++)Q=V(S[mt]),T.push(Fs(k,l,Q,f));return new Bi(T);case"LineString":case"MultiLineString":return nt=qo(S,v.type==="LineString"?0:1,V),new nr(nt,f);case"Polygon":case"MultiPolygon":return nt=qo(S,v.type==="Polygon"?1:2,V),new Vs(nt,f);case"GeometryCollection":for(mt=0,xt=v.geometries.length;mt<xt;mt++){var Lt=gn({geometry:v.geometries[mt],type:"Feature",properties:l.properties},f);Lt&&T.push(Lt)}return new Bi(T);case"FeatureCollection":for(mt=0,xt=v.features.length;mt<xt;mt++){var Zt=gn(v.features[mt],f);Zt&&T.push(Zt)}return new Bi(T);default:throw new Error("Invalid GeoJSON object.")}}function Fs(l,f,v,S){return l?l(f,v):new Ho(v,S&&S.markersInheritOptions&&S)}function Xa(l){return new J(l[1],l[0],l[2])}function qo(l,f,v){for(var S=[],T=0,k=l.length,V;T<k;T++)V=f?qo(l[T],f-1,v):(v||Xa)(l[T]),S.push(V);return S}function Qa(l,f){return l=ct(l),l.alt!==void 0?[w(l.lng,f),w(l.lat,f),w(l.alt,f)]:[w(l.lng,f),w(l.lat,f)]}function Go(l,f,v,S){for(var T=[],k=0,V=l.length;k<V;k++)T.push(f?Go(l[k],Qn(l[k])?0:f-1,v,S):Qa(l[k],S));return!f&&v&&T.length>0&&T.push(T[0].slice()),T}function xr(l,f){return l.feature?o({},l.feature,{geometry:f}):Ja(f)}function Ja(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var Sr={toGeoJSON:function(l){return xr(this,{type:"Point",coordinates:Qa(this.getLatLng(),l)})}};Ho.include(Sr),Ya.include(Sr),Us.include(Sr),nr.include({toGeoJSON:function(l){var f=!Qn(this._latlngs),v=Go(this._latlngs,f?1:0,!1,l);return xr(this,{type:(f?"Multi":"")+"LineString",coordinates:v})}}),Vs.include({toGeoJSON:function(l){var f=!Qn(this._latlngs),v=f&&!Qn(this._latlngs[0]),S=Go(this._latlngs,v?2:f?1:0,!0,l);return f||(S=[S]),xr(this,{type:(v?"Multi":"")+"Polygon",coordinates:S})}}),Is.include({toMultiPoint:function(l){var f=[];return this.eachLayer(function(v){f.push(v.toGeoJSON(l).geometry.coordinates)}),xr(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(l){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(l);var v=f==="GeometryCollection",S=[];return this.eachLayer(function(T){if(T.toGeoJSON){var k=T.toGeoJSON(l);if(v)S.push(k.geometry);else{var V=Ja(k);V.type==="FeatureCollection"?S.push.apply(S,V.features):S.push(V)}}}),v?xr(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function tl(l,f){return new ir(l,f)}var Zo=tl,$s=_i.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,f,v){this._url=l,this._bounds=st(f),E(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ft(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ge(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&un(this._image),this},bringToBack:function(){return this._map&&Wr(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=st(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",f=this._image=l?this._url:Yt("img");if(Ft(f,"leaflet-image-layer"),this._zoomAnimated&&Ft(f,"leaflet-zoom-animated"),this.options.className&&Ft(f,this.options.className),f.onselectstart=y,f.onmousemove=y,f.onload=u(this.fire,this,"load"),f.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(l){var f=this._map.getZoomScale(l.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Ji(this._image,v,f)},_reset:function(){var l=this._image,f=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=f.getSize();we(l,f.min),l.style.width=v.x+"px",l.style.height=v.y+"px"},_updateOpacity:function(){Ae(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),kd=function(l,f,v){return new $s(l,f,v)},Er=$s.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",f=this._image=l?this._url:Yt("video");if(Ft(f,"leaflet-image-layer"),this._zoomAnimated&&Ft(f,"leaflet-zoom-animated"),this.options.className&&Ft(f,this.options.className),f.onselectstart=y,f.onmousemove=y,f.onloadeddata=u(this.fire,this,"load"),l){for(var v=f.getElementsByTagName("source"),S=[],T=0;T<v.length;T++)S.push(v[T].src);this._url=v.length>0?S:[f.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var V=Yt("source");V.src=this._url[k],f.appendChild(V)}}});function Hs(l,f,v){return new Er(l,f,v)}var el=$s.extend({_initImage:function(){var l=this._image=this._url;Ft(l,"leaflet-image-layer"),this._zoomAnimated&&Ft(l,"leaflet-zoom-animated"),this.options.className&&Ft(l,this.options.className),l.onselectstart=y,l.onmousemove=y}});function Dd(l,f,v){return new el(l,f,v)}var vn=_i.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,f){l&&(l instanceof J||D(l))?(this._latlng=ct(l),E(this,f)):(E(this,l),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Ae(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Ae(this._container,1),this.bringToFront(),this.options.interactive&&(Ft(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Ae(this._container,0),this._removeTimeout=setTimeout(u(ge,void 0,this._container),200)):ge(this._container),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=ct(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&un(this._container),this},bringToBack:function(){return this._map&&Wr(this._container),this},_prepareOpen:function(l){var f=this._source;if(!f._map)return!1;if(f instanceof Bi){f=null;var v=this._source._layers;for(var S in v)if(v[S]._map){f=v[S];break}if(!f)return!1;this._source=f}if(!l)if(f.getCenter)l=f.getCenter();else if(f.getLatLng)l=f.getLatLng();else if(f.getBounds)l=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")l.innerHTML=f;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),f=at(this.options.offset),v=this._getAnchor();this._zoomAnimated?we(this._container,l.add(v)):f=f.add(l).add(v);var S=this._containerBottom=-f.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=S+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});ne.include({_initOverlay:function(l,f,v,S){var T=f;return T instanceof l||(T=new l(S).setContent(f)),v&&T.setLatLng(v),T}}),_i.include({_initOverlay:function(l,f,v,S){var T=v;return T instanceof l?(E(T,S),T._source=this):(T=f&&!S?f:new l(S,this),T.setContent(v)),T}});var Ko=vn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,vn.prototype.openOn.call(this,l)},onAdd:function(l){vn.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ii||this._source.on("preclick",yi))},onRemove:function(l){vn.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ii||this._source.off("preclick",yi))},getEvents:function(){var l=vn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",f=this._container=Yt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=Yt("div",l+"-content-wrapper",f);if(this._contentNode=Yt("div",l+"-content",v),Xr(f),Ni(this._contentNode),Bt(f,"contextmenu",yi),this._tipContainer=Yt("div",l+"-tip-container",f),this._tip=Yt("div",l+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=Yt("a",l+"-close-button",f);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',Bt(S,"click",function(T){Ie(T),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,f=l.style;f.width="",f.whiteSpace="nowrap";var v=l.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),f.width=v+1+"px",f.whiteSpace="",f.height="";var S=l.offsetHeight,T=this.options.maxHeight,k="leaflet-popup-scrolled";T&&S>T?(f.height=T+"px",Ft(l,k)):Me(l,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),v=this._getAnchor();we(this._container,f.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,f=parseInt(Po(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+f,S=this._containerWidth,T=new H(this._containerLeft,-v-this._containerBottom);T._add(_r(this._container));var k=l.layerPointToContainerPoint(T),V=at(this.options.autoPanPadding),Q=at(this.options.autoPanPaddingTopLeft||V),nt=at(this.options.autoPanPaddingBottomRight||V),mt=l.getSize(),xt=0,Lt=0;k.x+S+nt.x>mt.x&&(xt=k.x+S-mt.x+nt.x),k.x-xt-Q.x<0&&(xt=k.x-Q.x),k.y+v+nt.y>mt.y&&(Lt=k.y+v-mt.y+nt.y),k.y-Lt-Q.y<0&&(Lt=k.y-Q.y),(xt||Lt)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([xt,Lt]))}},_getAnchor:function(){return at(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Nd=function(l,f){return new Ko(l,f)};ne.mergeOptions({closePopupOnClick:!0}),ne.include({openPopup:function(l,f,v){return this._initOverlay(Ko,l,f,v).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),_i.include({bindPopup:function(l,f){return this._popup=this._initOverlay(Ko,this._popup,l,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Bi||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){br(l);var f=l.layer||l.target;if(this._popup._source===f&&!(f instanceof Ii)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=f,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var Wo=vn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){vn.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){vn.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=vn.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",f=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Yt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var f,v,S=this._map,T=this._container,k=S.latLngToContainerPoint(S.getCenter()),V=S.layerPointToContainerPoint(l),Q=this.options.direction,nt=T.offsetWidth,mt=T.offsetHeight,xt=at(this.options.offset),Lt=this._getAnchor();Q==="top"?(f=nt/2,v=mt):Q==="bottom"?(f=nt/2,v=0):Q==="center"?(f=nt/2,v=mt/2):Q==="right"?(f=0,v=mt/2):Q==="left"?(f=nt,v=mt/2):V.x<k.x?(Q="right",f=0,v=mt/2):(Q="left",f=nt+(xt.x+Lt.x)*2,v=mt/2),l=l.subtract(at(f,v,!0)).add(xt).add(Lt),Me(T,"leaflet-tooltip-right"),Me(T,"leaflet-tooltip-left"),Me(T,"leaflet-tooltip-top"),Me(T,"leaflet-tooltip-bottom"),Ft(T,"leaflet-tooltip-"+Q),we(T,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Ae(this._container,l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(f)},_getAnchor:function(){return at(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lm=function(l,f){return new Wo(l,f)};ne.include({openTooltip:function(l,f,v){return this._initOverlay(Wo,l,f,v).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),_i.include({bindTooltip:function(l,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wo,this._tooltip,l,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var f=l?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[f](v),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Bi||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&(Bt(f,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),Bt(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var f=l.latlng,v,S;this._tooltip.options.sticky&&l.originalEvent&&(v=this._map.mouseEventToContainerPoint(l.originalEvent),S=this._map.containerPointToLayerPoint(v),f=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(f)}});var jd=zi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var f=l&&l.tagName==="DIV"?l:document.createElement("div"),v=this.options;if(v.html instanceof Element?(Yn(f),f.appendChild(v.html)):f.innerHTML=v.html!==!1?v.html:"",v.bgPos){var S=at(v.bgPos);f.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Pm(l){return new jd(l)}zi.Default=Fo;var qs=_i.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Et.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){E(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),ge(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(un(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Wr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof H?l:new H(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var f=this.getPane().children,v=-l(-1/0,1/0),S=0,T=f.length,k;S<T;S++)k=f[S].style.zIndex,f[S]!==this._container&&k&&(v=l(v,+k));isFinite(v)&&(this.options.zIndex=v+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Et.ielt9){Ae(this._container,this.options.opacity);var l=+new Date,f=!1,v=!1;for(var S in this._tiles){var T=this._tiles[S];if(!(!T.current||!T.loaded)){var k=Math.min(1,(l-T.loaded)/200);Ae(T.el,k),k<1?f=!0:(T.active?v=!0:this._onOpaqueTile(T),T.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),f&&(_t(this._fadeFrame),this._fadeFrame=yt(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=Yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,f=this.options.maxZoom;if(l!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===l?(this._levels[v].el.style.zIndex=f-Math.abs(l-v),this._onUpdateLevel(v)):(ge(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var S=this._levels[l],T=this._map;return S||(S=this._levels[l]={},S.el=Yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=f,S.origin=T.project(T.unproject(T.getPixelOrigin()),l).round(),S.zoom=l,this._setZoomTransform(S,T.getCenter(),T.getZoom()),y(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var l,f,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)f=this._tiles[l],f.retain=f.current;for(l in this._tiles)if(f=this._tiles[l],f.current&&!f.active){var S=f.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var f in this._tiles)this._tiles[f].coords.z===l&&this._removeTile(f)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)ge(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,f,v,S){var T=Math.floor(l/2),k=Math.floor(f/2),V=v-1,Q=new H(+T,+k);Q.z=+V;var nt=this._tileCoordsToKey(Q),mt=this._tiles[nt];return mt&&mt.active?(mt.retain=!0,!0):(mt&&mt.loaded&&(mt.retain=!0),V>S?this._retainParent(T,k,V,S):!1)},_retainChildren:function(l,f,v,S){for(var T=2*l;T<2*l+2;T++)for(var k=2*f;k<2*f+2;k++){var V=new H(T,k);V.z=v+1;var Q=this._tileCoordsToKey(V),nt=this._tiles[Q];if(nt&&nt.active){nt.retain=!0;continue}else nt&&nt.loaded&&(nt.retain=!0);v+1<S&&this._retainChildren(T,k,v+1,S)}},_resetView:function(l){var f=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var f=this.options;return f.minNativeZoom!==void 0&&l<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<l?f.maxNativeZoom:l},_setView:function(l,f,v,S){var T=Math.round(f);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var k=this.options.updateWhenZooming&&T!==this._tileZoom;(!S||k)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(l),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(l,f)},_setZoomTransforms:function(l,f){for(var v in this._levels)this._setZoomTransform(this._levels[v],l,f)},_setZoomTransform:function(l,f,v){var S=this._map.getZoomScale(v,l.zoom),T=l.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(f,v)).round();Et.any3d?Ji(l.el,T,S):we(l.el,T)},_resetGrid:function(){var l=this._map,f=l.options.crs,v=this._tileSize=this.getTileSize(),S=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,f.wrapLng[0]],S).x/v.x),Math.ceil(l.project([0,f.wrapLng[1]],S).x/v.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([f.wrapLat[0],0],S).y/v.x),Math.ceil(l.project([f.wrapLat[1],0],S).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var f=this._map,v=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),S=f.getZoomScale(v,this._tileZoom),T=f.project(l,this._tileZoom).floor(),k=f.getSize().divideBy(S*2);return new I(T.subtract(k),T.add(k))},_update:function(l){var f=this._map;if(f){var v=this._clampZoom(f.getZoom());if(l===void 0&&(l=f.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(l),T=this._pxBoundsToTileRange(S),k=T.getCenter(),V=[],Q=this.options.keepBuffer,nt=new I(T.getBottomLeft().subtract([Q,-Q]),T.getTopRight().add([Q,-Q]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var mt in this._tiles){var xt=this._tiles[mt].coords;(xt.z!==this._tileZoom||!nt.contains(new H(xt.x,xt.y)))&&(this._tiles[mt].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(l,v);return}for(var Lt=T.min.y;Lt<=T.max.y;Lt++)for(var Zt=T.min.x;Zt<=T.max.x;Zt++){var cn=new H(Zt,Lt);if(cn.z=this._tileZoom,!!this._isValidTile(cn)){var Ue=this._tiles[this._tileCoordsToKey(cn)];Ue?Ue.current=!0:V.push(cn)}}if(V.sort(function(oe,ae){return oe.distanceTo(k)-ae.distanceTo(k)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qn=document.createDocumentFragment();for(Zt=0;Zt<V.length;Zt++)this._addTile(V[Zt],qn);this._level.el.appendChild(qn)}}}},_isValidTile:function(l){var f=this._map.options.crs;if(!f.infinite){var v=this._globalTileRange;if(!f.wrapLng&&(l.x<v.min.x||l.x>v.max.x)||!f.wrapLat&&(l.y<v.min.y||l.y>v.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(l);return st(this.options.bounds).overlaps(S)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var f=this._map,v=this.getTileSize(),S=l.scaleBy(v),T=S.add(v),k=f.unproject(S,l.z),V=f.unproject(T,l.z);return[k,V]},_tileCoordsToBounds:function(l){var f=this._tileCoordsToNwSe(l),v=new K(f[0],f[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var f=l.split(":"),v=new H(+f[0],+f[1]);return v.z=+f[2],v},_removeTile:function(l){var f=this._tiles[l];f&&(ge(f.el),delete this._tiles[l],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Ft(l,"leaflet-tile");var f=this.getTileSize();l.style.width=f.x+"px",l.style.height=f.y+"px",l.onselectstart=y,l.onmousemove=y,Et.ielt9&&this.options.opacity<1&&Ae(l,this.options.opacity)},_addTile:function(l,f){var v=this._getTilePos(l),S=this._tileCoordsToKey(l),T=this.createTile(this._wrapCoords(l),u(this._tileReady,this,l));this._initTile(T),this.createTile.length<2&&yt(u(this._tileReady,this,l,null,T)),we(T,v),this._tiles[S]={el:T,coords:l,current:!0},f.appendChild(T),this.fire("tileloadstart",{tile:T,coords:l})},_tileReady:function(l,f,v){f&&this.fire("tileerror",{error:f,tile:v,coords:l});var S=this._tileCoordsToKey(l);v=this._tiles[S],v&&(v.loaded=+new Date,this._map._fadeAnimated?(Ae(v.el,0),_t(this._fadeFrame),this._fadeFrame=yt(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),f||(Ft(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Et.ielt9||!this._map._fadeAnimated?yt(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var f=new H(this._wrapX?g(l.x,this._wrapX):l.x,this._wrapY?g(l.y,this._wrapY):l.y);return f.z=l.z,f},_pxBoundsToTileRange:function(l){var f=this.getTileSize();return new I(l.min.unscaleBy(f).floor(),l.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function Bd(l){return new qs(l)}var Cr=qs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,f){this._url=l,f=E(this,f),f.detectRetina&&Et.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,f){return this._url===l&&f===void 0&&(f=!0),this._url=l,f||this.redraw(),this},createTile:function(l,f){var v=document.createElement("img");return Bt(v,"load",u(this._tileOnLoad,this,f,v)),Bt(v,"error",u(this._tileOnError,this,f,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(l),v},getTileUrl:function(l){var f={r:Et.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-l.y;this.options.tms&&(f.y=v),f["-y"]=v}return j(this._url,o(f,this.options))},_tileOnLoad:function(l,f){Et.ielt9?setTimeout(u(l,this,null,f),0):l(null,f)},_tileOnError:function(l,f,v){var S=this.options.errorTileUrl;S&&f.getAttribute("src")!==S&&(f.src=S),l(v,f)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,f=this.options.maxZoom,v=this.options.zoomReverse,S=this.options.zoomOffset;return v&&(l=f-l),l+S},_getSubdomain:function(l){var f=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var l,f;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(f=this._tiles[l].el,f.onload=y,f.onerror=y,!f.complete)){f.src=q;var v=this._tiles[l].coords;ge(f),delete this._tiles[l],this.fire("tileabort",{tile:f,coords:v})}},_removeTile:function(l){var f=this._tiles[l];if(f)return f.el.setAttribute("src",q),qs.prototype._removeTile.call(this,l)},_tileReady:function(l,f,v){if(!(!this._map||v&&v.getAttribute("src")===q))return qs.prototype._tileReady.call(this,l,f,v)}});function Jn(l,f){return new Cr(l,f)}var Yo=Cr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,f){this._url=l;var v=o({},this.defaultWmsParams);for(var S in f)S in this.options||(v[S]=f[S]);f=E(this,f);var T=f.detectRetina&&Et.retina?2:1,k=this.getTileSize();v.width=k.x*T,v.height=k.y*T,this.wmsParams=v},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,Cr.prototype.onAdd.call(this,l)},getTileUrl:function(l){var f=this._tileCoordsToNwSe(l),v=this._crs,S=z(v.project(f[0]),v.project(f[1])),T=S.min,k=S.max,V=(this._wmsVersion>=1.3&&this._crs===Ou?[T.y,T.x,k.y,k.x]:[T.x,T.y,k.x,k.y]).join(","),Q=Cr.prototype.getTileUrl.call(this,l);return Q+R(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(l,f){return o(this.wmsParams,l),f||this.redraw(),this}});function ti(l,f){return new Yo(l,f)}Cr.WMS=Yo,Jn.wms=ti;var kn=_i.extend({options:{padding:.1},initialize:function(l){E(this,l),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ft(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,f){var v=this._map.getZoomScale(f,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,f),k=S.multiplyBy(-v).add(T).subtract(this._map._getNewPixelOrigin(l,f));Et.any3d?Ji(this._container,k,v):we(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,f=this._map.getSize(),v=this._map.containerPointToLayerPoint(f.multiplyBy(-l)).round();this._bounds=new I(v,v.add(f.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nl=kn.extend({options:{tolerance:0},getEvents:function(){var l=kn.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){kn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");Bt(l,"mousemove",this._onMouseMove,this),Bt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Bt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){_t(this._redrawRequest),delete this._ctx,ge(this._container),fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var f in this._layers)l=this._layers[f],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kn.prototype._update.call(this);var l=this._bounds,f=this._container,v=l.getSize(),S=Et.retina?2:1;we(f,l.min),f.width=S*v.x,f.height=S*v.y,f.style.width=v.x+"px",f.style.height=v.y+"px",Et.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){kn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[m(l)]=l;var f=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var f=l._order,v=f.next,S=f.prev;v?v.prev=S:this._drawLast=S,S?S.next=v:this._drawFirst=v,delete l._order,delete this._layers[m(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var f=l.options.dashArray.split(/[, ]+/),v=[],S,T;for(T=0;T<f.length;T++){if(S=Number(f[T]),isNaN(S))return;v.push(S)}l.options._dashArray=v}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||yt(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var f=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(l._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(l._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var f=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,f=this._redrawBounds;if(this._ctx.save(),f){var v=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)l=S.layer,(!f||l._pxBounds&&l._pxBounds.intersects(f))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,f){if(this._drawing){var v,S,T,k,V=l._parts,Q=V.length,nt=this._ctx;if(Q){for(nt.beginPath(),v=0;v<Q;v++){for(S=0,T=V[v].length;S<T;S++)k=V[v][S],nt[S?"lineTo":"moveTo"](k.x,k.y);f&&nt.closePath()}this._fillStroke(nt,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var f=l._point,v=this._ctx,S=Math.max(Math.round(l._radius),1),T=(Math.max(Math.round(l._radiusY),1)||S)/S;T!==1&&(v.save(),v.scale(1,T)),v.beginPath(),v.arc(f.x,f.y/T,S,0,Math.PI*2,!1),T!==1&&v.restore(),this._fillStroke(v,l)}},_fillStroke:function(l,f){var v=f.options;v.fill&&(l.globalAlpha=v.fillOpacity,l.fillStyle=v.fillColor||v.color,l.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(l.setLineDash&&l.setLineDash(f.options&&f.options._dashArray||[]),l.globalAlpha=v.opacity,l.lineWidth=v.weight,l.strokeStyle=v.color,l.lineCap=v.lineCap,l.lineJoin=v.lineJoin,l.stroke())},_onClick:function(l){for(var f=this._map.mouseEventToLayerPoint(l),v,S,T=this._drawFirst;T;T=T.next)v=T.layer,v.options.interactive&&v._containsPoint(f)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(v))&&(S=v);this._fireEvent(S?[S]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,f)}},_handleMouseOut:function(l){var f=this._hoveredLayer;f&&(Me(this._container,"leaflet-interactive"),this._fireEvent([f],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,f){if(!this._mouseHoverThrottled){for(var v,S,T=this._drawFirst;T;T=T.next)v=T.layer,v.options.interactive&&v._containsPoint(f)&&(S=v);S!==this._hoveredLayer&&(this._handleMouseOut(l),S&&(Ft(this._container,"leaflet-interactive"),this._fireEvent([S],l,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,f,v){this._map._fireDOMEvent(f,v||f.type,l)},_bringToFront:function(l){var f=l._order;if(f){var v=f.next,S=f.prev;if(v)v.prev=S;else return;S?S.next=v:v&&(this._drawFirst=v),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(l)}},_bringToBack:function(l){var f=l._order;if(f){var v=f.next,S=f.prev;if(S)S.next=v;else return;v?v.prev=S:S&&(this._drawLast=S),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(l)}}});function Xo(l){return Et.canvas?new nl(l):null}var Tr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Mu={_initContainer:function(){this._container=Yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(kn.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var f=l._container=Tr("shape");Ft(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",l._path=Tr("path"),f.appendChild(l._path),this._updateStyle(l),this._layers[m(l)]=l},_addPath:function(l){var f=l._container;this._container.appendChild(f),l.options.interactive&&l.addInteractiveTarget(f)},_removePath:function(l){var f=l._container;ge(f),l.removeInteractiveTarget(f),delete this._layers[m(l)]},_updateStyle:function(l){var f=l._stroke,v=l._fill,S=l.options,T=l._container;T.stroked=!!S.stroke,T.filled=!!S.fill,S.stroke?(f||(f=l._stroke=Tr("stroke")),T.appendChild(f),f.weight=S.weight+"px",f.color=S.color,f.opacity=S.opacity,S.dashArray?f.dashStyle=D(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=S.lineCap.replace("butt","flat"),f.joinstyle=S.lineJoin):f&&(T.removeChild(f),l._stroke=null),S.fill?(v||(v=l._fill=Tr("fill")),T.appendChild(v),v.color=S.fillColor||S.color,v.opacity=S.fillOpacity):v&&(T.removeChild(v),l._fill=null)},_updateCircle:function(l){var f=l._point.round(),v=Math.round(l._radius),S=Math.round(l._radiusY||v);this._setPath(l,l._empty()?"M0 0":"AL "+f.x+","+f.y+" "+v+","+S+" 0,"+65535*360)},_setPath:function(l,f){l._path.v=f},_bringToFront:function(l){un(l._container)},_bringToBack:function(l){Wr(l._container)}},Ui=Et.vml?Tr:Yi,Gs=kn.extend({_initContainer:function(){this._container=Ui("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ui("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ge(this._container),fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kn.prototype._update.call(this);var l=this._bounds,f=l.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,v.setAttribute("width",f.x),v.setAttribute("height",f.y)),we(v,l.min),v.setAttribute("viewBox",[l.min.x,l.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(l){var f=l._path=Ui("path");l.options.className&&Ft(f,l.options.className),l.options.interactive&&Ft(f,"leaflet-interactive"),this._updateStyle(l),this._layers[m(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){ge(l._path),l.removeInteractiveTarget(l._path),delete this._layers[m(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var f=l._path,v=l.options;f&&(v.stroke?(f.setAttribute("stroke",v.color),f.setAttribute("stroke-opacity",v.opacity),f.setAttribute("stroke-width",v.weight),f.setAttribute("stroke-linecap",v.lineCap),f.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?f.setAttribute("stroke-dasharray",v.dashArray):f.removeAttribute("stroke-dasharray"),v.dashOffset?f.setAttribute("stroke-dashoffset",v.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),v.fill?(f.setAttribute("fill",v.fillColor||v.color),f.setAttribute("fill-opacity",v.fillOpacity),f.setAttribute("fill-rule",v.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(l,f){this._setPath(l,Li(l._parts,f))},_updateCircle:function(l){var f=l._point,v=Math.max(Math.round(l._radius),1),S=Math.max(Math.round(l._radiusY),1)||v,T="a"+v+","+S+" 0 1,0 ",k=l._empty()?"M0 0":"M"+(f.x-v)+","+f.y+T+v*2+",0 "+T+-v*2+",0 ";this._setPath(l,k)},_setPath:function(l,f){l._path.setAttribute("d",f)},_bringToFront:function(l){un(l._path)},_bringToBack:function(l){Wr(l._path)}});Et.vml&&Gs.include(Mu);function Qo(l){return Et.svg||Et.vml?new Gs(l):null}ne.include({getRenderer:function(l){var f=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var f=this._paneRenderers[l];return f===void 0&&(f=this._createRenderer({pane:l}),this._paneRenderers[l]=f),f},_createRenderer:function(l){return this.options.preferCanvas&&Xo(l)||Qo(l)}});var Jr=Vs.extend({initialize:function(l,f){Vs.prototype.initialize.call(this,this._boundsToLatLngs(l),f)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=st(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function km(l,f){return new Jr(l,f)}Gs.create=Ui,Gs.pointsToPath=Li,ir.geometryToLayer=gn,ir.coordsToLatLng=Xa,ir.coordsToLatLngs=qo,ir.latLngToCoords=Qa,ir.latLngsToCoords=Go,ir.getFeature=xr,ir.asFeature=Ja,ne.mergeOptions({boxZoom:!0});var Dn=ji.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ge(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ps(),Fa(),this._startPoint=this._map.mouseEventToContainerPoint(l),Bt(document,{contextmenu:br,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Yt("div","leaflet-zoom-box",this._container),Ft(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var f=new I(this._point,this._startPoint),v=f.getSize();we(this._box,f.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(ge(this._box),Me(this._container,"leaflet-crosshair")),Di(),Do(),fe(document,{contextmenu:br,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var f=new K(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ne.addInitHook("addHandler","boxZoom",Dn),ne.mergeOptions({doubleClickZoom:!0});var il=ji.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var f=this._map,v=f.getZoom(),S=f.options.zoomDelta,T=l.originalEvent.shiftKey?v-S:v+S;f.options.doubleClickZoom==="center"?f.setZoom(T):f.setZoomAround(l.containerPoint,T)}});ne.addInitHook("addHandler","doubleClickZoom",il),ne.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vi=ji.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new wr(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Ft(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Me(this._map._container,"leaflet-grab"),Me(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=st(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var f=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(f),this._prunePositions(f)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,f){return l-(l-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;l.x<f.min.x&&(l.x=this._viscousLimit(l.x,f.min.x)),l.y<f.min.y&&(l.y=this._viscousLimit(l.y,f.min.y)),l.x>f.max.x&&(l.x=this._viscousLimit(l.x,f.max.x)),l.y>f.max.y&&(l.y=this._viscousLimit(l.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,f=Math.round(l/2),v=this._initialWorldOffset,S=this._draggable._newPos.x,T=(S-f+v)%l+f-v,k=(S+f+v)%l-f-v,V=Math.abs(T+v)<Math.abs(k+v)?T:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(l){var f=this._map,v=f.options,S=!v.inertia||l.noInertia||this._times.length<2;if(f.fire("dragend",l),S)f.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,V=v.easeLinearity,Q=T.multiplyBy(V/k),nt=Q.distanceTo([0,0]),mt=Math.min(v.inertiaMaxSpeed,nt),xt=Q.multiplyBy(mt/nt),Lt=mt/(v.inertiaDeceleration*V),Zt=xt.multiplyBy(-Lt/2).round();!Zt.x&&!Zt.y?f.fire("moveend"):(Zt=f._limitOffset(Zt,f.options.maxBounds),yt(function(){f.panBy(Zt,{duration:Lt,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});ne.addInitHook("addHandler","dragging",Vi),ne.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Lu=ji.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),Bt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,f=document.documentElement,v=l.scrollTop||f.scrollTop,S=l.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(S,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var f=this._panKeys={},v=this.keyCodes,S,T;for(S=0,T=v.left.length;S<T;S++)f[v.left[S]]=[-1*l,0];for(S=0,T=v.right.length;S<T;S++)f[v.right[S]]=[l,0];for(S=0,T=v.down.length;S<T;S++)f[v.down[S]]=[0,l];for(S=0,T=v.up.length;S<T;S++)f[v.up[S]]=[0,-1*l]},_setZoomDelta:function(l){var f=this._zoomKeys={},v=this.keyCodes,S,T;for(S=0,T=v.zoomIn.length;S<T;S++)f[v.zoomIn[S]]=l;for(S=0,T=v.zoomOut.length;S<T;S++)f[v.zoomOut[S]]=-l},_addHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var f=l.keyCode,v=this._map,S;if(f in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(S=this._panKeys[f],l.shiftKey&&(S=at(S).multiplyBy(3)),v.options.maxBounds&&(S=v._limitOffset(at(S),v.options.maxBounds)),v.options.worldCopyJump){var T=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(S)));v.panTo(T)}else v.panBy(S)}else if(f in this._zoomKeys)v.setZoom(v.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;br(l)}}});ne.addInitHook("addHandler","keyboard",Lu),ne.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Jo=ji.extend({addHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var f=xn(l),v=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var S=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),S),br(l)},_performZoom:function(){var l=this._map,f=l.getZoom(),v=this._map.options.zoomSnap||0;l._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,k=v?Math.ceil(T/v)*v:T,V=l._limitZoom(f+(this._delta>0?k:-k))-f;this._delta=0,this._startTime=null,V&&(l.options.scrollWheelZoom==="center"?l.setZoom(f+V):l.setZoomAround(this._lastMousePos,f+V))}});ne.addInitHook("addHandler","scrollWheelZoom",Jo);var ts=600;ne.mergeOptions({tapHold:Et.touchNative&&Et.safari&&Et.mobile,tapTolerance:15});var rl=ji.extend({addHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var f=l.touches[0];this._startPos=this._newPos=new H(f.clientX,f.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Bt(document,"touchend",Ie),Bt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),ts),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){fe(document,"touchend",Ie),fe(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)},_onMove:function(l){var f=l.touches[0];this._newPos=new H(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,f){var v=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});v._simulated=!0,f.target.dispatchEvent(v)}});ne.addInitHook("addHandler","tapHold",rl),ne.mergeOptions({touchZoom:Et.touch,bounceAtZoomLimits:!0});var Pu=ji.extend({addHooks:function(){Ft(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var f=this._map;if(!(!l.touches||l.touches.length!==2||f._animatingZoom||this._zooming)){var v=f.mouseEventToContainerPoint(l.touches[0]),S=f.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(v.add(S)._divideBy(2))),this._startDist=v.distanceTo(S),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),Ie(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var f=this._map,v=f.mouseEventToContainerPoint(l.touches[0]),S=f.mouseEventToContainerPoint(l.touches[1]),T=v.distanceTo(S)/this._startDist;if(this._zoom=f.getScaleZoom(T,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&T<1||this._zoom>f.getMaxZoom()&&T>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var k=v._add(S)._divideBy(2)._subtract(this._centerPoint);if(T===1&&k.x===0&&k.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),_t(this._animRequest);var V=u(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=yt(V,this,!0),Ie(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,_t(this._animRequest),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ne.addInitHook("addHandler","touchZoom",Pu),ne.BoxZoom=Dn,ne.DoubleClickZoom=il,ne.Drag=Vi,ne.Keyboard=Lu,ne.ScrollWheelZoom=Jo,ne.TapHold=rl,ne.TouchZoom=Pu,n.Bounds=I,n.Browser=Et,n.CRS=wt,n.Canvas=nl,n.Circle=Ya,n.CircleMarker=Us,n.Class=ut,n.Control=Hn,n.DivIcon=jd,n.DivOverlay=vn,n.DomEvent=qa,n.DomUtil=Ns,n.Draggable=wr,n.Evented=G,n.FeatureGroup=Bi,n.GeoJSON=ir,n.GridLayer=qs,n.Handler=ji,n.Icon=zi,n.ImageOverlay=$s,n.LatLng=J,n.LatLngBounds=K,n.Layer=_i,n.LayerGroup=Is,n.LineUtil=Am,n.Map=ne,n.Marker=Ho,n.Mixin=Sm,n.Path=Ii,n.Point=H,n.PolyUtil=Au,n.Polygon=Vs,n.Polyline=nr,n.Popup=Ko,n.PosAnimation=js,n.Projection=Ad,n.Rectangle=Jr,n.Renderer=kn,n.SVG=Gs,n.SVGOverlay=el,n.TileLayer=Cr,n.Tooltip=Wo,n.Transformation=ze,n.Util=vt,n.VideoOverlay=Er,n.bind=u,n.bounds=z,n.canvas=Xo,n.circle=Pd,n.circleMarker=Ld,n.control=er,n.divIcon=Pm,n.extend=o,n.featureGroup=Od,n.geoJSON=tl,n.geoJson=Zo,n.gridLayer=Bd,n.icon=Vo,n.imageOverlay=kd,n.latLng=ct,n.latLngBounds=st,n.layerGroup=Rm,n.map=wu,n.marker=Md,n.point=at,n.polygon=Mm,n.polyline=Om,n.popup=Nd,n.rectangle=km,n.setOptions=E,n.stamp=m,n.svg=Qo,n.svgOverlay=Dd,n.tileLayer=Jn,n.tooltip=Lm,n.transformation=He,n.version=r,n.videoOverlay=Hs;var ku=window.L;n.noConflict=function(){return window.L=ku,this},window.L=n}))})(wc,wc.exports)),wc.exports}var ou=yL();const Kn=Wh(ou);function Jc(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function td(t,e){return e==null?function(r,o){const a=O.useRef(void 0);return a.current||(a.current=t(r,o)),a}:function(r,o){const a=O.useRef(void 0);a.current||(a.current=t(r,o));const u=O.useRef(r),{instance:d}=a.current;return O.useEffect(function(){u.current!==r&&(e(d,r,u.current),u.current=r)},[d,r,e]),a}}function EE(t,e){O.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function CE(t){return function(n){const r=Qc(),o=t(Xh(n,r),r);return _E(r.map,n.attribution),Gy(o.current,n.eventHandlers),EE(o.current,r),o}}function _L(t,e){const n=O.useRef(void 0);O.useEffect(function(){if(e.pathOptions!==n.current){const o=e.pathOptions??{};t.instance.setStyle(o),n.current=o}},[t,e])}function bL(t){return function(n){const r=Qc(),o=t(Xh(n,r),r);return Gy(o.current,n.eventHandlers),EE(o.current,r),_L(o.current,n),o}}function wL(t){function e(o,a){return Jc(t(o),a)}const n=td(e),r=pL(n);return SE(r)}function xL(t,e){const n=td(t,e),r=CE(n);return xE(r)}function SL(t,e){const n=td(t),r=gL(n,e);return mL(r)}function EL(t,e){const n=td(t,e),r=bL(n);return xE(r)}function CL(t,e){const n=td(t,e),r=CE(n);return SE(r)}function TL(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function AL(){return Qc().map}function RL(t){const e=AL();return O.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function OL({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:a,placeholder:u,style:d,whenReady:m,zoom:p,...g},y){const[w]=O.useState({className:o,id:a,style:d}),[x,C]=O.useState(null),E=O.useRef(void 0);O.useImperativeHandle(y,()=>x?.map??null,[x]);const R=O.useCallback(j=>{if(j!==null&&!E.current){const D=new ou.Map(j,g);E.current=D,n!=null&&p!=null?D.setView(n,p):t!=null&&D.fitBounds(t,e),m!=null&&D.whenReady(m),C(hL(D))}},[]);O.useEffect(()=>()=>{x?.map.remove()},[x]);const M=x?rt.createElement(qy,{value:x},r):u??null;return rt.createElement("div",{...w,ref:R},M)}const ML=O.forwardRef(OL),LL=xL(function({position:e,...n},r){const o=new ou.Marker(e,n);return Jc(o,wE(r,{overlayContainer:o}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),PL=CL(function({url:e,...n},r){const o=new ou.TileLayer(e,Xh(n,r));return Jc(o,r)},function(e,n,r){TL(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)}),kL=SL(function(e,n){const r=new ou.Tooltip(e,n.overlayContainer);return Jc(r,n)},function(e,n,{position:r},o){O.useEffect(function(){const u=n.overlayContainer;if(u==null)return;const{instance:d}=e,m=g=>{g.tooltip===d&&(r!=null&&d.setLatLng(r),d.update(),o(!0))},p=g=>{g.tooltip===d&&o(!1)};return u.on({tooltipopen:m,tooltipclose:p}),u.bindTooltip(d),function(){u.off({tooltipopen:m,tooltipclose:p}),u._map!=null&&u.unbindTooltip()}},[e,n,o,r])}),DL=wL(function(e){return new ou.Control.Zoom(e)});var xc={exports:{}},NL=xc.exports,mx;function jL(){return mx||(mx=1,(function(t,e){(function(n,r){r(e)})(NL,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var u=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,u?this._withAnimation:this._noAnimation),this._markerCluster=u?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var u=a,d=this._zoom;if(a.__parent)for(;u.__parent._zoom>=d;)u=u.__parent;return this._currentShownBounds.contains(u.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,u):this._animationAddLayerNonAnimated(a,u)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,u){if(!L.Util.isArray(a))return this.addLayer(a);var d=this._featureGroup,m=this._nonPointGroup,p=this.options.chunkedLoading,g=this.options.chunkInterval,y=this.options.chunkProgress,w=a.length,x=0,C=!0,E;if(this._map){var R=new Date().getTime(),M=L.bind(function(){var D=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();x<w;x++){if(p&&x%200===0){var B=new Date().getTime()-D;if(B>g)break}if(E=a[x],E instanceof L.LayerGroup){C&&(a=a.slice(),C=!1),this._extractNonGroupLayers(E,a),w=a.length;continue}if(!E.getLatLng){m.addLayer(E),u||this.fire("layeradd",{layer:E});continue}if(!this.hasLayer(E)&&(this._addLayer(E,this._maxZoom),u||this.fire("layeradd",{layer:E}),E.__parent&&E.__parent.getChildCount()===2)){var q=E.__parent.getAllChildMarkers(),W=q[0]===E?q[1]:q[0];d.removeLayer(W)}}y&&y(x,w,new Date().getTime()-R),x===w?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(M,this.options.chunkDelay)},this);M()}else for(var j=this._needsClustering;x<w;x++){if(E=a[x],E instanceof L.LayerGroup){C&&(a=a.slice(),C=!1),this._extractNonGroupLayers(E,a),w=a.length;continue}if(!E.getLatLng){m.addLayer(E);continue}this.hasLayer(E)||j.push(E)}return this},removeLayers:function(a){var u,d,m=a.length,p=this._featureGroup,g=this._nonPointGroup,y=!0;if(!this._map){for(u=0;u<m;u++){if(d=a[u],d instanceof L.LayerGroup){y&&(a=a.slice(),y=!1),this._extractNonGroupLayers(d,a),m=a.length;continue}this._arraySplice(this._needsClustering,d),g.removeLayer(d),this.hasLayer(d)&&this._needsRemoving.push({layer:d,latlng:d._latlng}),this.fire("layerremove",{layer:d})}return this}if(this._unspiderfy){this._unspiderfy();var w=a.slice(),x=m;for(u=0;u<x;u++){if(d=w[u],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,w),x=w.length;continue}this._unspiderfyLayer(d)}}for(u=0;u<m;u++){if(d=a[u],d instanceof L.LayerGroup){y&&(a=a.slice(),y=!1),this._extractNonGroupLayers(d,a),m=a.length;continue}if(!d.__parent){g.removeLayer(d),this.fire("layerremove",{layer:d});continue}this._removeLayer(d,!0,!0),this.fire("layerremove",{layer:d}),p.hasLayer(d)&&(p.removeLayer(d),d.clusterShow&&d.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var u=this._needsClustering.length-1;u>=0;u--)a.extend(this._needsClustering[u].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,u){var d=this._needsClustering.slice(),m=this._needsRemoving,p,g,y;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(d),g=d.length-1;g>=0;g--){for(p=!0,y=m.length-1;y>=0;y--)if(m[y].layer===d[g]){p=!1;break}p&&a.call(u,d[g])}this._nonPointGroup.eachLayer(a,u)},getLayers:function(){var a=[];return this.eachLayer(function(u){a.push(u)}),a},getLayer:function(a){var u=null;return a=parseInt(a,10),this.eachLayer(function(d){L.stamp(d)===a&&(u=d)}),u},hasLayer:function(a){if(!a)return!1;var u,d=this._needsClustering;for(u=d.length-1;u>=0;u--)if(d[u]===a)return!0;for(d=this._needsRemoving,u=d.length-1;u>=0;u--)if(d[u].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,u){var d=this._map;typeof u!="function"&&(u=function(){});var m=function(){(d.hasLayer(a)||d.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",m,this),this.off("animationend",m,this),d.hasLayer(a)?u():a.__parent._icon&&(this.once("spiderfied",u,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?u():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",m,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",m,this),this.on("animationend",m,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var u,d,m;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,u=0,d=this._needsRemoving.length;u<d;u++)m=this._needsRemoving[u],m.newlatlng=m.layer._latlng,m.layer._latlng=m.latlng;for(u=0,d=this._needsRemoving.length;u<d;u++)m=this._needsRemoving[u],this._removeLayer(m.layer,!0),m.layer._latlng=m.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),d=this._needsClustering,this._needsClustering=[],this.addLayers(d,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var u=a;u&&!u._icon;)u=u.__parent;return u||null},_arraySplice:function(a,u){for(var d=a.length-1;d>=0;d--)if(a[d]===u)return a.splice(d,1),!0},_removeFromGridUnclustered:function(a,u){for(var d=this._map,m=this._gridUnclustered,p=Math.floor(this._map.getMinZoom());u>=p&&m[u].removeObject(a,d.project(a.getLatLng(),u));u--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var u=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),u&&a.target.openPopup()}},_moveChild:function(a,u,d){a._latlng=u,this.removeLayer(a),a._latlng=d,this.addLayer(a)},_childMarkerDragEnd:function(a){var u=a.target.__dragStart;delete a.target.__dragStart,u&&this._moveChild(a.target,u,a.target._latlng)},_removeLayer:function(a,u,d){var m=this._gridClusters,p=this._gridUnclustered,g=this._featureGroup,y=this._map,w=Math.floor(this._map.getMinZoom());u&&this._removeFromGridUnclustered(a,this._maxZoom);var x=a.__parent,C=x._markers,E;for(this._arraySplice(C,a);x&&(x._childCount--,x._boundsNeedUpdate=!0,!(x._zoom<w));)u&&x._childCount<=1?(E=x._markers[0]===a?x._markers[1]:x._markers[0],m[x._zoom].removeObject(x,y.project(x._cLatLng,x._zoom)),p[x._zoom].addObject(E,y.project(E.getLatLng(),x._zoom)),this._arraySplice(x.__parent._childClusters,x),x.__parent._markers.push(E),E.__parent=x.__parent,x._icon&&(g.removeLayer(x),d||g.addLayer(E))):x._iconNeedsUpdate=!0,x=x.__parent;delete a.__parent},_isOrIsParent:function(a,u){for(;u;){if(a===u)return!0;u=u.parentNode}return!1},fire:function(a,u,d){if(u&&u.layer instanceof L.MarkerCluster){if(u.originalEvent&&this._isOrIsParent(u.layer._icon,u.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,u,d)},listens:function(a,u){return L.FeatureGroup.prototype.listens.call(this,a,u)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,u)},_defaultIconCreateFunction:function(a){var u=a.getChildCount(),d=" marker-cluster-";return u<10?d+="small":u<100?d+="medium":d+="large",new L.DivIcon({html:"<div><span>"+u+"</span></div>",className:"marker-cluster"+d,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,u=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,m=this.options.zoomToBoundsOnClick,p=this.options.spiderfyOnEveryZoom;(u||m||p)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var u=a.layer,d=u;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;d._childClusters.length===1;)d=d._childClusters[0];d._zoom===this._maxZoom&&d._childCount===u._childCount&&this.options.spiderfyOnMaxZoom?u.spiderfy():this.options.zoomToBoundsOnClick&&u.zoomToBounds(),this.options.spiderfyOnEveryZoom&&u.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var u=this._map;this._inZoomAnimation||(this._shownPolygon&&u.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),u.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom,p=this._map;(a||d||m)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),p.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),u=Math.floor(this._map.getMinZoom()),d=this.options.maxClusterRadius,m=d;typeof d!="function"&&(m=function(){return d}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var p=a;p>=u;p--)this._gridClusters[p]=new L.DistanceGrid(m(p)),this._gridUnclustered[p]=new L.DistanceGrid(m(p));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(a,u){var d=this._gridClusters,m=this._gridUnclustered,p=Math.floor(this._map.getMinZoom()),g,y;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);u>=p;u--){g=this._map.project(a.getLatLng(),u);var w=d[u].getNearObject(g);if(w){w._addChild(a),a.__parent=w;return}if(w=m[u].getNearObject(g),w){var x=w.__parent;x&&this._removeLayer(w,!1);var C=new this._markerCluster(this,u,w,a);d[u].addObject(C,this._map.project(C._cLatLng,u)),w.__parent=C,a.__parent=C;var E=C;for(y=u-1;y>x._zoom;y--)E=new this._markerCluster(this,y,E),d[y].addObject(E,this._map.project(w.getLatLng(),y));x._addChild(E),this._removeFromGridUnclustered(w,u);return}m[u].addObject(a,g)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var u=this._maxLat;return u!==void 0&&(a.getNorth()>=u&&(a._northEast.lat=1/0),a.getSouth()<=-u&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,u){if(u===a)this._featureGroup.addLayer(a);else if(u._childCount===2){u._addToMap();var d=u.getAllChildMarkers();this._featureGroup.removeLayer(d[0]),this._featureGroup.removeLayer(d[1])}else u._updateIcon()},_extractNonGroupLayers:function(a,u){var d=a.getLayers(),m=0,p;for(u=u||[];m<d.length;m++){if(p=d[m],p instanceof L.LayerGroup){this._extractNonGroupLayers(p,u);continue}u.push(p)}return u},_overrideMarkerIcon:function(a){var u=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return u}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,u){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,u){this._animationAddLayerNonAnimated(a,u)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,u){var d=this._getExpandedVisibleBounds(),m=this._featureGroup,p=Math.floor(this._map.getMinZoom()),g;this._ignoreMove=!0,this._topClusterLevel._recursively(d,a,p,function(y){var w=y._latlng,x=y._markers,C;for(d.contains(w)||(w=null),y._isSingleParent()&&a+1===u?(m.removeLayer(y),y._recursivelyAddChildrenToMap(null,u,d)):(y.clusterHide(),y._recursivelyAddChildrenToMap(w,u,d)),g=x.length-1;g>=0;g--)C=x[g],d.contains(C._latlng)||m.removeLayer(C)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(d,u),m.eachLayer(function(y){!(y instanceof L.MarkerCluster)&&y._icon&&y.clusterShow()}),this._topClusterLevel._recursively(d,a,u,function(y){y._recursivelyRestoreChildPositions(u)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(d,a,p,function(y){m.removeLayer(y),y.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,u){this._animationZoomOutSingle(this._topClusterLevel,a-1,u),this._topClusterLevel._recursivelyAddChildrenToMap(null,u,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,u){var d=this,m=this._featureGroup;m.addLayer(a),u!==a&&(u._childCount>2?(u._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(u.getLatLng())),a.clusterHide(),this._enqueue(function(){m.removeLayer(a),a.clusterShow(),d._animationEnd()})):(this._forceLayout(),d._animationStart(),d._animationZoomOutSingle(u,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,u,d){var m=this._getExpandedVisibleBounds(),p=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(m,p,u+1,d);var g=this;this._forceLayout(),a._recursivelyBecomeVisible(m,d),this._enqueue(function(){if(a._childCount===1){var y=a._markers[0];this._ignoreMove=!0,y.setLatLng(y.getLatLng()),this._ignoreMove=!1,y.clusterShow&&y.clusterShow()}else a._recursively(m,d,p,function(w){w._recursivelyRemoveChildrenFromMap(m,p,u+1)});g._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var o=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,u,d,m){L.Marker.prototype.initialize.call(this,d?d._cLatLng||d.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=u,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,d&&this._addChild(d),m&&this._addChild(m)},getAllChildMarkers:function(a,u){a=a||[];for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d].getAllChildMarkers(a,u);for(var m=this._markers.length-1;m>=0;m--)u&&this._markers[m].__dragStart||a.push(this._markers[m]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var u=this._childClusters.slice(),d=this._group._map,m=d.getBoundsZoom(this._bounds),p=this._zoom+1,g=d.getZoom(),y;u.length>0&&m>p;){p++;var w=[];for(y=0;y<u.length;y++)w=w.concat(u[y]._childClusters);u=w}m>p?this._group._map.setView(this._latlng,p):m<=g?this._group._map.setView(this._latlng,g+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,u){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(u||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(u||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,u=this._childClusters,d=0,m=0,p=this._childCount,g,y,w,x;if(p!==0){for(this._resetBounds(),g=0;g<a.length;g++)w=a[g]._latlng,this._bounds.extend(w),d+=w.lat,m+=w.lng;for(g=0;g<u.length;g++)y=u[g],y._boundsNeedUpdate&&y._recalculateBounds(),this._bounds.extend(y._bounds),w=y._wLatLng,x=y._childCount,d+=w.lat*x,m+=w.lng*x;this._latlng=this._wLatLng=new L.LatLng(d/p,m/p),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,u,d){this._recursively(a,this._group._map.getMinZoom(),d-1,function(m){var p=m._markers,g,y;for(g=p.length-1;g>=0;g--)y=p[g],y._icon&&(y._setPos(u),y.clusterHide())},function(m){var p=m._childClusters,g,y;for(g=p.length-1;g>=0;g--)y=p[g],y._icon&&(y._setPos(u),y.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,u,d,m){this._recursively(a,m,u,function(p){p._recursivelyAnimateChildrenIn(a,p._group._map.latLngToLayerPoint(p.getLatLng()).round(),d),p._isSingleParent()&&d-1===m?(p.clusterShow(),p._recursivelyRemoveChildrenFromMap(a,u,d)):p.clusterHide(),p._addToMap()})},_recursivelyBecomeVisible:function(a,u){this._recursively(a,this._group._map.getMinZoom(),u,null,function(d){d.clusterShow()})},_recursivelyAddChildrenToMap:function(a,u,d){this._recursively(d,this._group._map.getMinZoom()-1,u,function(m){if(u!==m._zoom)for(var p=m._markers.length-1;p>=0;p--){var g=m._markers[p];d.contains(g._latlng)&&(a&&(g._backupLatlng=g.getLatLng(),g.setLatLng(a),g.clusterHide&&g.clusterHide()),m._group._featureGroup.addLayer(g))}},function(m){m._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var u=this._markers.length-1;u>=0;u--){var d=this._markers[u];d._backupLatlng&&(d.setLatLng(d._backupLatlng),delete d._backupLatlng)}if(a-1===this._zoom)for(var m=this._childClusters.length-1;m>=0;m--)this._childClusters[m]._restorePosition();else for(var p=this._childClusters.length-1;p>=0;p--)this._childClusters[p]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,u,d,m){var p,g;this._recursively(a,u-1,d-1,function(y){for(g=y._markers.length-1;g>=0;g--)p=y._markers[g],(!m||!m.contains(p._latlng))&&(y._group._featureGroup.removeLayer(p),p.clusterShow&&p.clusterShow())},function(y){for(g=y._childClusters.length-1;g>=0;g--)p=y._childClusters[g],(!m||!m.contains(p._latlng))&&(y._group._featureGroup.removeLayer(p),p.clusterShow&&p.clusterShow())})},_recursively:function(a,u,d,m,p){var g=this._childClusters,y=this._zoom,w,x;if(u<=y&&(m&&m(this),p&&y===d&&p(this)),y<u||y<d)for(w=g.length-1;w>=0;w--)x=g[w],x._boundsNeedUpdate&&x._recalculateBounds(),a.intersects(x._bounds)&&x._recursively(a,u,d,m,p)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,u){var d=this._getCoord(u.x),m=this._getCoord(u.y),p=this._grid,g=p[m]=p[m]||{},y=g[d]=g[d]||[],w=L.Util.stamp(a);this._objectPoint[w]=u,y.push(a)},updateObject:function(a,u){this.removeObject(a),this.addObject(a,u)},removeObject:function(a,u){var d=this._getCoord(u.x),m=this._getCoord(u.y),p=this._grid,g=p[m]=p[m]||{},y=g[d]=g[d]||[],w,x;for(delete this._objectPoint[L.Util.stamp(a)],w=0,x=y.length;w<x;w++)if(y[w]===a)return y.splice(w,1),x===1&&delete g[d],!0},eachObject:function(a,u){var d,m,p,g,y,w,x,C=this._grid;for(d in C){y=C[d];for(m in y)for(w=y[m],p=0,g=w.length;p<g;p++)x=a.call(u,w[p]),x&&(p--,g--)}},getNearObject:function(a){var u=this._getCoord(a.x),d=this._getCoord(a.y),m,p,g,y,w,x,C,E,R=this._objectPoint,M=this._sqCellSize,j=null;for(m=d-1;m<=d+1;m++)if(y=this._grid[m],y){for(p=u-1;p<=u+1;p++)if(w=y[p],w)for(g=0,x=w.length;g<x;g++)C=w[g],E=this._sqDist(R[L.Util.stamp(C)],a),(E<M||E<=M&&j===null)&&(M=E,j=C)}return j},_getCoord:function(a){var u=Math.floor(a/this._cellSize);return isFinite(u)?u:a},_sqDist:function(a,u){var d=u.x-a.x,m=u.y-a.y;return d*d+m*m}},(function(){L.QuickHull={getDistant:function(a,u){var d=u[1].lat-u[0].lat,m=u[0].lng-u[1].lng;return m*(a.lat-u[0].lat)+d*(a.lng-u[0].lng)},findMostDistantPointFromBaseLine:function(a,u){var d=0,m=null,p=[],g,y,w;for(g=u.length-1;g>=0;g--){if(y=u[g],w=this.getDistant(y,a),w>0)p.push(y);else continue;w>d&&(d=w,m=y)}return{maxPoint:m,newPoints:p}},buildConvexHull:function(a,u){var d=[],m=this.findMostDistantPointFromBaseLine(a,u);return m.maxPoint?(d=d.concat(this.buildConvexHull([a[0],m.maxPoint],m.newPoints)),d=d.concat(this.buildConvexHull([m.maxPoint,a[1]],m.newPoints)),d):[a[0]]},getConvexHull:function(a){var u=!1,d=!1,m=!1,p=!1,g=null,y=null,w=null,x=null,C=null,E=null,R;for(R=a.length-1;R>=0;R--){var M=a[R];(u===!1||M.lat>u)&&(g=M,u=M.lat),(d===!1||M.lat<d)&&(y=M,d=M.lat),(m===!1||M.lng>m)&&(w=M,m=M.lng),(p===!1||M.lng<p)&&(x=M,p=M.lng)}d!==u?(E=y,C=g):(E=x,C=w);var j=[].concat(this.buildConvexHull([E,C],a),this.buildConvexHull([C,E],a));return j}}})(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),u=[],d,m;for(m=a.length-1;m>=0;m--)d=a[m].getLatLng(),u.push(d);return L.QuickHull.getConvexHull(u)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),u=this._group,d=u._map,m=d.latLngToLayerPoint(this._latlng),p;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?p=this._group.options.spiderfyShapePositions(a.length,m):a.length>=this._circleSpiralSwitchover?p=this._generatePointsSpiral(a.length,m):(m.y+=10,p=this._generatePointsCircle(a.length,m)),this._animationSpiderfy(a,p)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,u){var d=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),m=d/this._2PI,p=this._2PI/a,g=[],y,w;for(m=Math.max(m,35),g.length=a,y=0;y<a;y++)w=this._circleStartAngle+y*p,g[y]=new L.Point(u.x+m*Math.cos(w),u.y+m*Math.sin(w))._round();return g},_generatePointsSpiral:function(a,u){var d=this._group.options.spiderfyDistanceMultiplier,m=d*this._spiralLengthStart,p=d*this._spiralFootSeparation,g=d*this._spiralLengthFactor*this._2PI,y=0,w=[],x;for(w.length=a,x=a;x>=0;x--)x<a&&(w[x]=new L.Point(u.x+m*Math.cos(y),u.y+m*Math.sin(y))._round()),y+=p/m+x*5e-4,m+=g/y;return w},_noanimationUnspiderfy:function(){var a=this._group,u=a._map,d=a._featureGroup,m=this.getAllChildMarkers(null,!0),p,g;for(a._ignoreMove=!0,this.setOpacity(1),g=m.length-1;g>=0;g--)p=m[g],d.removeLayer(p),p._preSpiderfyLatlng&&(p.setLatLng(p._preSpiderfyLatlng),delete p._preSpiderfyLatlng),p.setZIndexOffset&&p.setZIndexOffset(0),p._spiderLeg&&(u.removeLayer(p._spiderLeg),delete p._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:m}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,u){var d=this._group,m=d._map,p=d._featureGroup,g=this._group.options.spiderLegPolylineOptions,y,w,x,C;for(d._ignoreMove=!0,y=0;y<a.length;y++)C=m.layerPointToLatLng(u[y]),w=a[y],x=new L.Polyline([this._latlng,C],g),m.addLayer(x),w._spiderLeg=x,w._preSpiderfyLatlng=w._latlng,w.setLatLng(C),w.setZIndexOffset&&w.setZIndexOffset(1e6),p.addLayer(w);this.setOpacity(.3),d._ignoreMove=!1,d.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,u){var d=this,m=this._group,p=m._map,g=m._featureGroup,y=this._latlng,w=p.latLngToLayerPoint(y),x=L.Path.SVG,C=L.extend({},this._group.options.spiderLegPolylineOptions),E=C.opacity,R,M,j,D,B,q;for(E===void 0&&(E=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),x?(C.opacity=0,C.className=(C.className||"")+" leaflet-cluster-spider-leg"):C.opacity=E,m._ignoreMove=!0,R=0;R<a.length;R++)M=a[R],q=p.layerPointToLatLng(u[R]),j=new L.Polyline([y,q],C),p.addLayer(j),M._spiderLeg=j,x&&(D=j._path,B=D.getTotalLength()+.1,D.style.strokeDasharray=B,D.style.strokeDashoffset=B),M.setZIndexOffset&&M.setZIndexOffset(1e6),M.clusterHide&&M.clusterHide(),g.addLayer(M),M._setPos&&M._setPos(w);for(m._forceLayout(),m._animationStart(),R=a.length-1;R>=0;R--)q=p.layerPointToLatLng(u[R]),M=a[R],M._preSpiderfyLatlng=M._latlng,M.setLatLng(q),M.clusterShow&&M.clusterShow(),x&&(j=M._spiderLeg,D=j._path,D.style.strokeDashoffset=0,j.setStyle({opacity:E}));this.setOpacity(.3),m._ignoreMove=!1,setTimeout(function(){m._animationEnd(),m.fire("spiderfied",{cluster:d,markers:a})},200)},_animationUnspiderfy:function(a){var u=this,d=this._group,m=d._map,p=d._featureGroup,g=a?m._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):m.latLngToLayerPoint(this._latlng),y=this.getAllChildMarkers(null,!0),w=L.Path.SVG,x,C,E,R,M,j;for(d._ignoreMove=!0,d._animationStart(),this.setOpacity(1),C=y.length-1;C>=0;C--)x=y[C],x._preSpiderfyLatlng&&(x.closePopup(),x.setLatLng(x._preSpiderfyLatlng),delete x._preSpiderfyLatlng,j=!0,x._setPos&&(x._setPos(g),j=!1),x.clusterHide&&(x.clusterHide(),j=!1),j&&p.removeLayer(x),w&&(E=x._spiderLeg,R=E._path,M=R.getTotalLength()+.1,R.style.strokeDashoffset=M,E.setStyle({opacity:0})));d._ignoreMove=!1,setTimeout(function(){var D=0;for(C=y.length-1;C>=0;C--)x=y[C],x._spiderLeg&&D++;for(C=y.length-1;C>=0;C--)x=y[C],x._spiderLeg&&(x.clusterShow&&x.clusterShow(),x.setZIndexOffset&&x.setZIndexOffset(0),D>1&&p.removeLayer(x),m.removeLayer(x._spiderLeg),delete x._spiderLeg);d._animationEnd(),d.fire("unspiderfied",{cluster:u,markers:y})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var u,d;for(u in a)for(d=a[u].__parent;d;)d._iconNeedsUpdate=!0,d=d.__parent},_refreshSingleMarkerModeMarkers:function(a){var u,d;for(u in a)d=a[u],this.hasLayer(d)&&d.setIcon(this._overrideMarkerIcon(d))}}),L.Marker.include({refreshIconOptions:function(a,u){var d=this.options.icon;return L.setOptions(d,a),this.setIcon(d),u&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=o,Object.defineProperty(n,"__esModule",{value:!0})})})(xc,xc.exports)),xc.exports}jL();function Rv(t){let e={},n={};const{children:r,...o}=t;return Object.entries(o).forEach(([a,u])=>{a.startsWith("on")?n={...n,[a]:u}:e={...e,[a]:u}}),{clusterProps:e,clusterEvents:n}}function BL(t,e){const{clusterProps:n,clusterEvents:r}=Rv(t),o=new Kn.MarkerClusterGroup(n);return Object.entries(r).forEach(([a,u])=>{const d=`cluster${a.substring(2).toLowerCase()}`;o.on(d,u)}),Jc(o,wE(e,{layerContainer:o}))}var zL=(t,e,n)=>{const{clusterProps:r,clusterEvents:o}=Rv(e),{clusterProps:a,clusterEvents:u}=Rv(n);Object.keys(r).forEach(d=>{r[d]!==a[d]&&(t.options[d]=r[d])}),Object.entries(u).forEach(([d,m])=>{const p=`cluster${d.substring(2).toLowerCase()}`;t.off(p,m)}),Object.entries(o).forEach(([d,m])=>{const p=`cluster${d.substring(2).toLowerCase()}`;t.on(p,m)})},IL=EL(BL,zL),UL=IL;function Ov(t){return t?t>=1e9?`${(t/1e9).toFixed(1)} mdr`:t>=1e6?`${(t/1e6).toFixed(0)} mkr`:`${(t/1e3).toFixed(0)} tkr`:"-"}function Zy(t){if(!t)return"";const e=t.toLowerCase();return e.includes("climate")||e.includes("milj")||e.includes("energi")?"":e.includes("health")||e.includes("hlsa")||e.includes("med")?"":e.includes("fintech")||e.includes("finans")?"":e.includes("edtech")||e.includes("utbild")?"":e.includes("food")||e.includes("mat")||e.includes("agri")?"":e.includes("mobility")||e.includes("transport")?"":e.includes("circular")||e.includes("tervinning")?"":e.includes("social")||e.includes("samhll")?"":""}function px(t){const e=t?"#84CC16":"#18181B",n=t?"#18181B":"#84CC16";return Kn.divIcon({html:`<div class="company-marker ${t?"selected":""}" style="
      background: ${e};
      border: 2px solid ${n};
      width: 10px;
      height: 10px;
      border-radius: 50%;
      box-shadow: 0 2px 4px rgba(0,0,0,0.15);
    "></div>`,className:"custom-marker",iconSize:Kn.point(10,10),iconAnchor:Kn.point(5,5)})}function VL(t,e){const n=e?"#84CC16":"#ffffff",r=e?"#18181B":"#27272A",o=e?"#65A30D":"#E4E4E7";return Kn.divIcon({html:`<div class="company-marker ${e?"selected":""}" style="
      background: ${n};
      border: 1px solid ${o};
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
      font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
      color: ${r};
      white-space: nowrap;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      max-width: 120px;
      overflow: hidden;
      text-overflow: ellipsis;
    ">${t.name}</div>`,className:"custom-marker",iconSize:Kn.point(100,24),iconAnchor:Kn.point(50,12)})}function FL(t,e){const n=e?"#84CC16":"#ffffff",r=e?"#18181B":"#27272A",o=e?"#65A30D":"#E4E4E7",a=Zy(t.sector),u=t.logo_url?`<img src="${t.logo_url}" alt="" style="width: 24px; height: 24px; border-radius: 4px; object-fit: contain; background: #f4f4f5;" />`:`<div style="width: 24px; height: 24px; border-radius: 4px; background: linear-gradient(135deg, #84CC16, #65A30D); display: flex; align-items: center; justify-content: center; font-size: 12px;">${a}</div>`;return Kn.divIcon({html:`<div class="company-marker ${e?"selected":""}" style="
      background: ${n};
      border: 1px solid ${o};
      padding: 6px 10px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    ">
      ${u}
      <span style="font-size: 12px; font-weight: 600; color: ${r}; white-space: nowrap; max-width: 100px; overflow: hidden; text-overflow: ellipsis;">${t.name}</span>
    </div>`,className:"custom-marker",iconSize:Kn.point(150,36),iconAnchor:Kn.point(75,18)})}function $L(t,e){const n=e?"#84CC16":"#ffffff",r=e?"#18181B":"#27272A",o=e?"#18181B99":"#71717A",a=e?"#65A30D":"#E4E4E7",u=Zy(t.sector),d=t.logo_url?`<img src="${t.logo_url}" alt="" style="width: 32px; height: 32px; border-radius: 6px; object-fit: contain; background: #f4f4f5;" />`:`<div style="width: 32px; height: 32px; border-radius: 6px; background: linear-gradient(135deg, #84CC16, #65A30D); display: flex; align-items: center; justify-content: center; font-size: 14px;">${u}</div>`,m=t.latest_valuation_sek?Ov(t.latest_valuation_sek):null,p=t.turnover_2024_sek?Ov(t.turnover_2024_sek):null,g=m?`Vrdering: ${m}`:p?`Omsttning: ${p}`:"";return Kn.divIcon({html:`<div class="company-marker ${e?"selected":""}" style="
      background: ${n};
      border: 1px solid ${a};
      padding: 10px 14px;
      border-radius: 12px;
      font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
      box-shadow: 0 6px 20px rgba(0,0,0,0.12);
      min-width: 180px;
    ">
      <div style="display: flex; align-items: center; gap: 10px;">
        ${d}
        <div style="flex: 1; min-width: 0;">
          <div style="font-size: 13px; font-weight: 700; color: ${r}; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${t.name}</div>
          ${t.sector?`<div style="font-size: 10px; color: ${o}; margin-top: 2px;">${t.sector}</div>`:""}
        </div>
      </div>
      ${g?`<div style="font-size: 11px; font-weight: 600; color: ${o}; margin-top: 8px; padding-top: 8px; border-top: 1px solid ${a};">${g}</div>`:""}
    </div>`,className:"custom-marker",iconSize:Kn.point(200,80),iconAnchor:Kn.point(100,40)})}function HL(t,e,n){switch(e){case 1:return px(n);case 2:return VL(t,n);case 3:return FL(t,n);case 4:return $L(t,n);default:return px(n)}}function qL({company:t}){const{selectedCompany:e,setSelectedCompany:n,setHoveredCompany:r,markerDisplayLevel:o}=Ts(),a=e?.orgnr===t.orgnr;return P.jsx(LL,{position:[t.latitude,t.longitude],icon:HL(t,o,a),eventHandlers:{click:()=>n(t),mouseover:()=>r(t),mouseout:()=>r(null)},children:o<=2&&P.jsx(kL,{direction:"top",offset:[0,-10],opacity:1,className:"company-tooltip",children:P.jsxs("div",{className:"p-3 min-w-[220px]",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[t.logo_url?P.jsx("img",{src:t.logo_url,alt:"",className:"w-8 h-8 rounded-lg object-contain bg-gray-100"}):P.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-loop-lime to-loop-lime-dark flex items-center justify-center text-sm",children:Zy(t.sector)}),P.jsxs("div",{children:[P.jsx("div",{className:"font-bold text-gray-900 text-sm",children:t.name}),t.sector&&P.jsx("div",{className:"text-xs text-gray-500",children:t.sector})]})]}),P.jsxs("div",{className:"flex items-center gap-3 mt-2 pt-2 border-t border-gray-100",children:[t.city&&P.jsxs("span",{className:"text-xs text-gray-500",children:[" ",t.city]}),t.turnover_2024_sek&&P.jsx("span",{className:"text-xs font-semibold text-gray-700",children:Ov(t.turnover_2024_sek)})]})]})})})}function GL(){const{setZoomLevel:t}=Ts();return RL({zoomend:e=>{t(e.target.getZoom())}}),null}const ZL=[62.5,17.5],KL=[[55.3,10.5],[69.1,24.2]],WL=t=>{const e=t.getChildCount();let n="small",r=40;return e>=100?(n="large",r=60):e>=20&&(n="medium",r=50),Kn.divIcon({html:`<div class="cluster-icon cluster-${n}">
      <span>${e}</span>
    </div>`,className:"custom-cluster",iconSize:Kn.point(r,r)})};function YL({companies:t}){const{filters:e}=Ts(),n=t.filter(r=>{if(!r.latitude||!r.longitude||r.latitude===0||r.longitude===0||e.sector&&r.sector!==e.sector)return!1;if(e.search){const o=e.search.toLowerCase();return r.name.toLowerCase().includes(o)||r.city?.toLowerCase().includes(o)||r.sector?.toLowerCase().includes(o)}return!0});return P.jsx("div",{className:"relative w-full h-full",children:P.jsxs(ML,{center:ZL,zoom:5,minZoom:4,maxZoom:18,maxBounds:KL,maxBoundsViscosity:1,zoomControl:!1,className:"w-full h-full",children:[P.jsx(GL,{}),P.jsx(PL,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>  <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),P.jsx(DL,{position:"bottomright"}),P.jsx(UL,{chunkedLoading:!0,iconCreateFunction:WL,maxClusterRadius:60,spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,animate:!0,children:n.map(r=>P.jsx(qL,{company:r},r.orgnr))})]})})}const Ky=O.createContext({});function Wy(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Yy=typeof window<"u",TE=Yy?O.useLayoutEffect:O.useEffect,Qh=O.createContext(null);function Xy(t,e){t.indexOf(e)===-1&&t.push(e)}function Qy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ws=(t,e,n)=>n>e?e:n<t?t:n;let Jy=()=>{};const xs={},AE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function RE(t){return typeof t=="object"&&t!==null}const OE=t=>/^0[^.\s]+$/u.test(t);function t0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Wi=t=>t,XL=(t,e)=>n=>e(t(n)),ed=(...t)=>t.reduce(XL),Dc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class e0{constructor(){this.subscriptions=[]}add(e){return Xy(this.subscriptions,e),()=>Qy(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zr=t=>t*1e3,Ki=t=>t/1e3;function ME(t,e){return e?t*(1e3/e):0}const LE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QL=1e-7,JL=12;function t2(t,e,n,r,o){let a,u,d=0;do u=e+(n-e)/2,a=LE(u,r,o)-t,a>0?n=u:e=u;while(Math.abs(a)>QL&&++d<JL);return u}function nd(t,e,n,r){if(t===e&&n===r)return Wi;const o=a=>t2(a,0,1,t,n);return a=>a===0||a===1?a:LE(o(a),e,r)}const PE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kE=t=>e=>1-t(1-e),DE=nd(.33,1.53,.69,.99),n0=kE(DE),NE=PE(n0),jE=t=>(t*=2)<1?.5*n0(t):.5*(2-Math.pow(2,-10*(t-1))),i0=t=>1-Math.sin(Math.acos(t)),BE=kE(i0),zE=PE(i0),e2=nd(.42,0,1,1),n2=nd(0,0,.58,1),IE=nd(.42,0,.58,1),i2=t=>Array.isArray(t)&&typeof t[0]!="number",UE=t=>Array.isArray(t)&&typeof t[0]=="number",r2={linear:Wi,easeIn:e2,easeInOut:IE,easeOut:n2,circIn:i0,circInOut:zE,circOut:BE,backIn:n0,backInOut:NE,backOut:DE,anticipate:jE},s2=t=>typeof t=="string",gx=t=>{if(UE(t)){Jy(t.length===4);const[e,n,r,o]=t;return nd(e,n,r,o)}else if(s2(t))return r2[t];return t},Nf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function o2(t,e){let n=new Set,r=new Set,o=!1,a=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(g){u.has(g)&&(p.schedule(g),t()),g(d)}const p={schedule:(g,y=!1,w=!1)=>{const C=w&&o?n:r;return y&&u.add(g),C.has(g)||C.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(d=g,o){a=!0;return}o=!0,[n,r]=[r,n],n.forEach(m),n.clear(),o=!1,a&&(a=!1,p.process(g))}};return p}const a2=40;function VE(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=Nf.reduce((D,B)=>(D[B]=o2(a),D),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:g,update:y,preRender:w,render:x,postRender:C}=u,E=()=>{const D=xs.useManualTiming?o.timestamp:performance.now();n=!1,xs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(D-o.timestamp,a2),1)),o.timestamp=D,o.isProcessing=!0,d.process(o),m.process(o),p.process(o),g.process(o),y.process(o),w.process(o),x.process(o),C.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(E))},R=()=>{n=!0,r=!0,o.isProcessing||t(E)};return{schedule:Nf.reduce((D,B)=>{const q=u[B];return D[B]=(W,U=!1,Y=!1)=>(n||R(),q.schedule(W,U,Y)),D},{}),cancel:D=>{for(let B=0;B<Nf.length;B++)u[Nf[B]].cancel(D)},state:o,steps:u}}const{schedule:De,cancel:So,state:Rn,steps:wg}=VE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wi,!0);let dh;function l2(){dh=void 0}const di={now:()=>(dh===void 0&&di.set(Rn.isProcessing||xs.useManualTiming?Rn.timestamp:performance.now()),dh),set:t=>{dh=t,queueMicrotask(l2)}},FE=t=>e=>typeof e=="string"&&e.startsWith(t),r0=FE("--"),u2=FE("var(--"),s0=t=>u2(t)?c2.test(t.split("/*")[0].trim()):!1,c2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,au={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Nc={...au,transform:t=>ws(0,1,t)},jf={...au,default:1},Oc=t=>Math.round(t*1e5)/1e5,o0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function d2(t){return t==null}const f2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,a0=(t,e)=>n=>!!(typeof n=="string"&&f2.test(n)&&n.startsWith(t)||e&&!d2(n)&&Object.prototype.hasOwnProperty.call(n,e)),$E=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,a,u,d]=r.match(o0);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},h2=t=>ws(0,255,t),xg={...au,transform:t=>Math.round(h2(t))},Sa={test:a0("rgb","red"),parse:$E("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+xg.transform(t)+", "+xg.transform(e)+", "+xg.transform(n)+", "+Oc(Nc.transform(r))+")"};function m2(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Mv={test:a0("#"),parse:m2,transform:Sa.transform},id=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ho=id("deg"),Ir=id("%"),zt=id("px"),p2=id("vh"),g2=id("vw"),vx={...Ir,parse:t=>Ir.parse(t)/100,transform:t=>Ir.transform(t*100)},Vl={test:a0("hsl","hue"),parse:$E("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ir.transform(Oc(e))+", "+Ir.transform(Oc(n))+", "+Oc(Nc.transform(r))+")"},on={test:t=>Sa.test(t)||Mv.test(t)||Vl.test(t),parse:t=>Sa.test(t)?Sa.parse(t):Vl.test(t)?Vl.parse(t):Mv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Sa.transform(t):Vl.transform(t),getAnimatableNone:t=>{const e=on.parse(t);return e.alpha=0,on.transform(e)}},v2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function y2(t){return isNaN(t)&&typeof t=="string"&&(t.match(o0)?.length||0)+(t.match(v2)?.length||0)>0}const HE="number",qE="color",_2="var",b2="var(",yx="${}",w2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(w2,m=>(on.test(m)?(r.color.push(a),o.push(qE),n.push(on.parse(m))):m.startsWith(b2)?(r.var.push(a),o.push(_2),n.push(m)):(r.number.push(a),o.push(HE),n.push(parseFloat(m))),++a,yx)).split(yx);return{values:n,split:d,indexes:r,types:o}}function GE(t){return jc(t).values}function ZE(t){const{split:e,types:n}=jc(t),r=e.length;return o=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],o[u]!==void 0){const d=n[u];d===HE?a+=Oc(o[u]):d===qE?a+=on.transform(o[u]):a+=o[u]}return a}}const x2=t=>typeof t=="number"?0:on.test(t)?on.getAnimatableNone(t):t;function S2(t){const e=GE(t);return ZE(t)(e.map(x2))}const Eo={test:y2,parse:GE,createTransformer:ZE,getAnimatableNone:S2};function Sg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function E2({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;o=Sg(m,d,t+1/3),a=Sg(m,d,t),u=Sg(m,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function Eh(t,e){return n=>n>0?e:t}const Be=(t,e,n)=>t+(e-t)*n,Eg=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},C2=[Mv,Sa,Vl],T2=t=>C2.find(e=>e.test(t));function _x(t){const e=T2(t);if(!e)return!1;let n=e.parse(t);return e===Vl&&(n=E2(n)),n}const bx=(t,e)=>{const n=_x(t),r=_x(e);if(!n||!r)return Eh(t,e);const o={...n};return a=>(o.red=Eg(n.red,r.red,a),o.green=Eg(n.green,r.green,a),o.blue=Eg(n.blue,r.blue,a),o.alpha=Be(n.alpha,r.alpha,a),Sa.transform(o))},Lv=new Set(["none","hidden"]);function A2(t,e){return Lv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function R2(t,e){return n=>Be(t,e,n)}function l0(t){return typeof t=="number"?R2:typeof t=="string"?s0(t)?Eh:on.test(t)?bx:L2:Array.isArray(t)?KE:typeof t=="object"?on.test(t)?bx:O2:Eh}function KE(t,e){const n=[...t],r=n.length,o=t.map((a,u)=>l0(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)n[u]=o[u](a);return n}}function O2(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=l0(t[o])(t[o],e[o]));return o=>{for(const a in r)n[a]=r[a](o);return n}}function M2(t,e){const n=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],u=t.indexes[a][r[a]],d=t.values[u]??0;n[o]=d,r[a]++}return n}const L2=(t,e)=>{const n=Eo.createTransformer(e),r=jc(t),o=jc(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Lv.has(t)&&!o.values.length||Lv.has(e)&&!r.values.length?A2(t,e):ed(KE(M2(r,o),o.values),n):Eh(t,e)};function WE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Be(t,e,n):l0(t)(t,e)}const P2=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>De.update(e,n),stop:()=>So(e),now:()=>Rn.isProcessing?Rn.timestamp:di.now()}},YE=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)r+=Math.round(t(a/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ch=2e4;function u0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ch;)e+=n,r=t.next(e);return e>=Ch?1/0:e}function k2(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(u0(r),Ch);return{type:"keyframes",ease:a=>r.next(o*a).value/e,duration:Ki(o)}}const D2=5;function XE(t,e,n){const r=Math.max(e-D2,0);return ME(n-t(r),e-r)}const $e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cg=.001;function N2({duration:t=$e.duration,bounce:e=$e.bounce,velocity:n=$e.velocity,mass:r=$e.mass}){let o,a,u=1-e;u=ws($e.minDamping,$e.maxDamping,u),t=ws($e.minDuration,$e.maxDuration,Ki(t)),u<1?(o=p=>{const g=p*u,y=g*t,w=g-n,x=Pv(p,u),C=Math.exp(-y);return Cg-w/x*C},a=p=>{const y=p*u*t,w=y*n+n,x=Math.pow(u,2)*Math.pow(p,2)*t,C=Math.exp(-y),E=Pv(Math.pow(p,2),u);return(-o(p)+Cg>0?-1:1)*((w-x)*C)/E}):(o=p=>{const g=Math.exp(-p*t),y=(p-n)*t+1;return-Cg+g*y},a=p=>{const g=Math.exp(-p*t),y=(n-p)*(t*t);return g*y});const d=5/t,m=B2(o,a,d);if(t=zr(t),isNaN(m))return{stiffness:$e.stiffness,damping:$e.damping,duration:t};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const j2=12;function B2(t,e,n){let r=n;for(let o=1;o<j2;o++)r=r-t(r)/e(r);return r}function Pv(t,e){return t*Math.sqrt(1-e*e)}const z2=["duration","bounce"],I2=["stiffness","damping","mass"];function wx(t,e){return e.some(n=>t[n]!==void 0)}function U2(t){let e={velocity:$e.velocity,stiffness:$e.stiffness,damping:$e.damping,mass:$e.mass,isResolvedFromDuration:!1,...t};if(!wx(t,I2)&&wx(t,z2))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,a=2*ws(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:$e.mass,stiffness:o,damping:a}}else{const n=N2(t);e={...e,...n,mass:$e.mass},e.isResolvedFromDuration=!0}return e}function Th(t=$e.visualDuration,e=$e.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:m,damping:p,mass:g,duration:y,velocity:w,isResolvedFromDuration:x}=U2({...n,velocity:-Ki(n.velocity||0)}),C=w||0,E=p/(2*Math.sqrt(m*g)),R=u-a,M=Ki(Math.sqrt(m/g)),j=Math.abs(R)<5;r||(r=j?$e.restSpeed.granular:$e.restSpeed.default),o||(o=j?$e.restDelta.granular:$e.restDelta.default);let D;if(E<1){const q=Pv(M,E);D=W=>{const U=Math.exp(-E*M*W);return u-U*((C+E*M*R)/q*Math.sin(q*W)+R*Math.cos(q*W))}}else if(E===1)D=q=>u-Math.exp(-M*q)*(R+(C+M*R)*q);else{const q=M*Math.sqrt(E*E-1);D=W=>{const U=Math.exp(-E*M*W),Y=Math.min(q*W,300);return u-U*((C+E*M*R)*Math.sinh(Y)+q*R*Math.cosh(Y))/q}}const B={calculatedDuration:x&&y||null,next:q=>{const W=D(q);if(x)d.done=q>=y;else{let U=q===0?C:0;E<1&&(U=q===0?zr(C):XE(D,q,W));const Y=Math.abs(U)<=r,ot=Math.abs(u-W)<=o;d.done=Y&&ot}return d.value=d.done?u:W,d},toString:()=>{const q=Math.min(u0(B),Ch),W=YE(U=>B.next(q*U).value,q,30);return q+"ms "+W},toTransition:()=>{}};return B}Th.applyToOptions=t=>{const e=k2(t,100,Th);return t.ease=e.ease,t.duration=zr(e.duration),t.type="keyframes",t};function kv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:m,restDelta:p=.5,restSpeed:g}){const y=t[0],w={done:!1,value:y},x=Y=>d!==void 0&&Y<d||m!==void 0&&Y>m,C=Y=>d===void 0?m:m===void 0||Math.abs(d-Y)<Math.abs(m-Y)?d:m;let E=n*e;const R=y+E,M=u===void 0?R:u(R);M!==R&&(E=M-y);const j=Y=>-E*Math.exp(-Y/r),D=Y=>M+j(Y),B=Y=>{const ot=j(Y),gt=D(Y);w.done=Math.abs(ot)<=p,w.value=w.done?M:gt};let q,W;const U=Y=>{x(w.value)&&(q=Y,W=Th({keyframes:[w.value,C(w.value)],velocity:XE(D,Y,w.value),damping:o,stiffness:a,restDelta:p,restSpeed:g}))};return U(0),{calculatedDuration:null,next:Y=>{let ot=!1;return!W&&q===void 0&&(ot=!0,B(Y),U(Y)),q!==void 0&&Y>=q?W.next(Y-q):(!ot&&B(Y),w)}}}function V2(t,e,n){const r=[],o=n||xs.mix||WE,a=t.length-1;for(let u=0;u<a;u++){let d=o(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||Wi:e;d=ed(m,d)}r.push(d)}return r}function F2(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const a=t.length;if(Jy(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=V2(e,r,o),m=d.length,p=g=>{if(u&&g<t[0])return e[0];let y=0;if(m>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const w=Dc(t[y],t[y+1],g);return d[y](w)};return n?g=>p(ws(t[0],t[a-1],g)):p}function $2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Dc(0,e,r);t.push(Be(n,1,o))}}function H2(t){const e=[0];return $2(e,t.length-1),e}function q2(t,e){return t.map(n=>n*e)}function G2(t,e){return t.map(()=>e||IE).splice(0,t.length-1)}function Mc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=i2(r)?r.map(gx):gx(r),a={done:!1,value:e[0]},u=q2(n&&n.length===e.length?n:H2(e),t),d=F2(u,e,{ease:Array.isArray(o)?o:G2(e,o)});return{calculatedDuration:t,next:m=>(a.value=d(m),a.done=m>=t,a)}}const Z2=t=>t!==null;function c0(t,{repeat:e,repeatType:n="loop"},r,o=1){const a=t.filter(Z2),d=o<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!d||r===void 0?a[d]:r}const K2={decay:kv,inertia:kv,tween:Mc,keyframes:Mc,spring:Th};function QE(t){typeof t.type=="string"&&(t.type=K2[t.type])}class d0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const W2=t=>t/100;class f0 extends d0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==di.now()&&this.tick(di.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;QE(e);const{type:n=Mc,repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=e;let{keyframes:d}=e;const m=n||Mc;m!==Mc&&typeof d[0]!="number"&&(this.mixKeyframes=ed(W2,WE(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=u0(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:o,mixKeyframes:a,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:w,repeatDelay:x,type:C,onUpdate:E,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?M<0:M>o;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let D=this.currentTime,B=r;if(y){const Y=Math.min(this.currentTime,o)/d;let ot=Math.floor(Y),gt=Y%1;!gt&&Y>=1&&(gt=1),gt===1&&ot--,ot=Math.min(ot,y+1),!!(ot%2)&&(w==="reverse"?(gt=1-gt,x&&(gt-=x/d)):w==="mirror"&&(B=u)),D=ws(0,1,gt)*d}const q=j?{done:!1,value:g[0]}:B.next(D);a&&(q.value=a(q.value));let{done:W}=q;!j&&m!==null&&(W=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return U&&C!==kv&&(q.value=c0(g,this.options,R,this.speed)),E&&E(q.value),U&&this.finish(),q}then(e,n){return this.finished.then(e,n)}get duration(){return Ki(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ki(e)}get time(){return Ki(this.currentTime)}set time(e){e=zr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(di.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ki(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=P2,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(di.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Y2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ea=t=>t*180/Math.PI,Dv=t=>{const e=Ea(Math.atan2(t[1],t[0]));return Nv(e)},X2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Dv,rotateZ:Dv,skewX:t=>Ea(Math.atan(t[1])),skewY:t=>Ea(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Nv=t=>(t=t%360,t<0&&(t+=360),t),xx=Dv,Sx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ex=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Q2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Sx,scaleY:Ex,scale:t=>(Sx(t)+Ex(t))/2,rotateX:t=>Nv(Ea(Math.atan2(t[6],t[5]))),rotateY:t=>Nv(Ea(Math.atan2(-t[2],t[0]))),rotateZ:xx,rotate:xx,skewX:t=>Ea(Math.atan(t[4])),skewY:t=>Ea(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function jv(t){return t.includes("scale")?1:0}function Bv(t,e){if(!t||t==="none")return jv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=Q2,o=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=X2,o=d}if(!o)return jv(e);const a=r[e],u=o[1].split(",").map(tP);return typeof a=="function"?a(u):u[a]}const J2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Bv(n,e)};function tP(t){return parseFloat(t.trim())}const lu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uu=new Set(lu),Cx=t=>t===au||t===zt,eP=new Set(["x","y","z"]),nP=lu.filter(t=>!eP.has(t));function iP(t){const e=[];return nP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ta={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Bv(e,"x"),y:(t,{transform:e})=>Bv(e,"y")};Ta.translateX=Ta.x;Ta.translateY=Ta.y;const Aa=new Set;let zv=!1,Iv=!1,Uv=!1;function JE(){if(Iv){const t=Array.from(Aa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=iP(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([a,u])=>{r.getValue(a)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Iv=!1,zv=!1,Aa.forEach(t=>t.complete(Uv)),Aa.clear()}function tC(){Aa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Iv=!0)})}function rP(){Uv=!0,tC(),JE(),Uv=!1}class h0{constructor(e,n,r,o,a,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Aa.add(this),zv||(zv=!0,De.read(tC),De.resolveKeyframes(JE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;if(e[0]===null){const a=o?.get(),u=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const d=r.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&a===void 0&&o.set(e[0])}Y2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Aa.delete(this)}cancel(){this.state==="scheduled"&&(Aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sP=t=>t.startsWith("--");function oP(t,e,n){sP(e)?t.style.setProperty(e,n):t.style[e]=n}const aP=t0(()=>window.ScrollTimeline!==void 0),lP={};function uP(t,e){const n=t0(t);return()=>lP[e]??n()}const eC=uP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Tx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sc([0,.65,.55,1]),circOut:Sc([.55,0,1,.45]),backIn:Sc([.31,.01,.66,-.59]),backOut:Sc([.33,1.53,.69,.99])};function nC(t,e){if(t)return typeof t=="function"?eC()?YE(t,e):"ease-out":UE(t)?Sc(t):Array.isArray(t)?t.map(n=>nC(n,e)||Tx.easeOut):Tx[t]}function cP(t,e,n,{delay:r=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeOut",times:m}={},p=void 0){const g={[e]:n};m&&(g.offset=m);const y=nC(d,o);Array.isArray(y)&&(g.easing=y);const w={delay:r,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(g,w)}function iC(t){return typeof t=="function"&&"applyToOptions"in t}function dP({type:t,...e}){return iC(t)&&eC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class fP extends d0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:o,pseudoElement:a,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!a,this.allowFlatten=u,this.options=e,Jy(typeof e.type!="string");const p=dP(e);this.animation=cP(n,r,o,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=c0(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):oP(n,r,g),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ki(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ki(e)}get time(){return Ki(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&aP()?(this.animation.timeline=e,Wi):n(this)}}const rC={anticipate:jE,backInOut:NE,circInOut:zE};function hP(t){return t in rC}function mP(t){typeof t.ease=="string"&&hP(t.ease)&&(t.ease=rC[t.ease])}const Ax=10;class pP extends fP{constructor(e){mP(e),QE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:o,element:a,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new f0({...u,autoplay:!1}),m=zr(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-Ax).value,d.sample(m).value,Ax),d.stop()}}const Rx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Eo.test(t)||t==="0")&&!t.startsWith("url("));function gP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function vP(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=Rx(o,e),d=Rx(a,e);return!u||!d?!1:gP(t)||(n==="spring"||iC(n))&&r}function Vv(t){t.duration=0,t.type="keyframes"}const yP=new Set(["opacity","clipPath","filter","transform"]),_P=t0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bP(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:o,damping:a,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return _P()&&n&&yP.has(n)&&(n!=="transform"||!p)&&!m&&!r&&o!=="mirror"&&a!==0&&u!=="inertia"}const wP=40;class xP extends d0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",keyframes:d,name:m,motionValue:p,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=di.now();const w={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:a,repeatType:u,name:m,motionValue:p,element:g,...y},x=g?.KeyframeResolver||h0;this.keyframeResolver=new x(d,(C,E,R)=>this.onKeyframesResolved(C,E,w,!R),m,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,o){this.keyframeResolver=void 0;const{name:a,type:u,velocity:d,delay:m,isHandoff:p,onUpdate:g}=r;this.resolvedAt=di.now(),vP(e,a,u,d)||((xs.instantAnimations||!m)&&g?.(c0(e,r,n)),e[0]=e[e.length-1],Vv(r),r.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>wP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!p&&bP(w)?new pP({...w,element:w.motionValue.owner.current}):new f0(w);x.finished.then(()=>this.notifyFinished()).catch(Wi),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),rP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const SP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EP(t){const e=SP.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function sC(t,e,n=1){const[r,o]=EP(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return AE(u)?parseFloat(u):u}return s0(o)?sC(o,e,n+1):o}function m0(t,e){return t?.[e]??t?.default??t}const oC=new Set(["width","height","top","left","right","bottom",...lu]),CP={test:t=>t==="auto",parse:t=>t},aC=t=>e=>e.test(t),lC=[au,zt,Ir,ho,g2,p2,CP],Ox=t=>lC.find(aC(t));function TP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||OE(t):!0}const AP=new Set(["brightness","contrast","saturate","opacity"]);function RP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(o0)||[];if(!r)return t;const o=n.replace(r,"");let a=AP.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+o+")"}const OP=/\b([a-z-]*)\(.*?\)/gu,Fv={...Eo,getAnimatableNone:t=>{const e=t.match(OP);return e?e.map(RP).join(" "):t}},Mx={...au,transform:Math.round},MP={rotate:ho,rotateX:ho,rotateY:ho,rotateZ:ho,scale:jf,scaleX:jf,scaleY:jf,scaleZ:jf,skew:ho,skewX:ho,skewY:ho,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:Nc,originX:vx,originY:vx,originZ:zt},p0={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,backgroundPositionX:zt,backgroundPositionY:zt,...MP,zIndex:Mx,fillOpacity:Nc,strokeOpacity:Nc,numOctaves:Mx},LP={...p0,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:Fv,WebkitFilter:Fv},uC=t=>LP[t];function cC(t,e){let n=uC(t);return n!==Fv&&(n=Eo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const PP=new Set(["auto","none","0"]);function kP(t,e,n){let r=0,o;for(;r<t.length&&!o;){const a=t[r];typeof a=="string"&&!PP.has(a)&&jc(a).values.length&&(o=t[r]),r++}if(o&&n)for(const a of e)t[a]=cC(n,o)}class DP extends h0{constructor(e,n,r,o,a){super(e,n,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),s0(p))){const g=sC(p,n.current);g!==void 0&&(e[m]=g),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!oC.has(r)||e.length!==2)return;const[o,a]=e,u=Ox(o),d=Ox(a);if(u!==d)if(Cx(u)&&Cx(d))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Ta[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||TP(e[o]))&&r.push(o);r.length&&kP(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ta[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,u=r[a];r[a]=Ta[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function NP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=n?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const dC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function fC(t){return RE(t)&&"offsetHeight"in t}const Lx=30,jP=t=>!isNaN(parseFloat(t));class BP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=di.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=di.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new e0);const r=this.events[e].add(n);return e==="change"?()=>{r(),De.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=di.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Lx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Lx);return ME(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xl(t,e){return new BP(t,e)}const{schedule:g0}=VE(queueMicrotask,!1),cr={x:!1,y:!1};function hC(){return cr.x||cr.y}function zP(t){return t==="x"||t==="y"?cr[t]?null:(cr[t]=!0,()=>{cr[t]=!1}):cr.x||cr.y?null:(cr.x=cr.y=!0,()=>{cr.x=cr.y=!1})}function mC(t,e){const n=NP(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function Px(t){return!(t.pointerType==="touch"||hC())}function IP(t,e,n={}){const[r,o,a]=mC(t,n),u=d=>{if(!Px(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const g=y=>{Px(y)&&(p(y),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,o)};return r.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const pC=(t,e)=>e?t===e?!0:pC(t,e.parentElement):!1,v0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,UP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function VP(t){return UP.has(t.tagName)||t.tabIndex!==-1}const fh=new WeakSet;function kx(t){return e=>{e.key==="Enter"&&t(e)}}function Tg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FP=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=kx(()=>{if(fh.has(n))return;Tg(n,"down");const o=kx(()=>{Tg(n,"up")}),a=()=>Tg(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Dx(t){return v0(t)&&!hC()}function $P(t,e,n={}){const[r,o,a]=mC(t,n),u=d=>{const m=d.currentTarget;if(!Dx(d))return;fh.add(m);const p=e(m,d),g=(x,C)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),fh.has(m)&&fh.delete(m),Dx(x)&&typeof p=="function"&&p(x,{success:C})},y=x=>{g(x,m===window||m===document||n.useGlobalTarget||pC(m,x.target))},w=x=>{g(x,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",w,o)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),fC(d)&&(d.addEventListener("focus",p=>FP(p,o)),!VP(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function gC(t){return RE(t)&&"ownerSVGElement"in t}function HP(t){return gC(t)&&t.tagName==="svg"}const zn=t=>!!(t&&t.getVelocity),qP=[...lC,on,Eo],GP=t=>qP.find(aC(t)),y0=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Nx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ZP(...t){return e=>{let n=!1;const r=t.map(o=>{const a=Nx(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():Nx(t[o],null)}}}}function KP(...t){return O.useCallback(ZP(...t),t)}class WP extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,o=fC(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function YP({children:t,isPresent:e,anchorX:n,root:r}){const o=O.useId(),a=O.useRef(null),u=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=O.useContext(y0),m=KP(a,t?.ref);return O.useInsertionEffect(()=>{const{width:p,height:g,top:y,left:w,right:x}=u.current;if(e||!a.current||!p||!g)return;const C=n==="left"?`left: ${w}`:`right: ${x}`;a.current.dataset.motionPopId=o;const E=document.createElement("style");d&&(E.nonce=d);const R=r??document.head;return R.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${C}px !important;
            top: ${y}px !important;
          }
        `),()=>{R.contains(E)&&R.removeChild(E)}},[e]),P.jsx(WP,{isPresent:e,childRef:a,sizeRef:u,children:O.cloneElement(t,{ref:m})})}const XP=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:u,anchorX:d,root:m})=>{const p=Wy(QP),g=O.useId();let y=!0,w=O.useMemo(()=>(y=!1,{id:g,initial:e,isPresent:n,custom:o,onExitComplete:x=>{p.set(x,!0);for(const C of p.values())if(!C)return;r&&r()},register:x=>(p.set(x,!1),()=>p.delete(x))}),[n,p,r]);return a&&y&&(w={...w}),O.useMemo(()=>{p.forEach((x,C)=>p.set(C,!1))},[n]),O.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),u==="popLayout"&&(t=P.jsx(YP,{isPresent:n,anchorX:d,root:m,children:t})),P.jsx(Qh.Provider,{value:w,children:t})};function QP(){return new Map}function vC(t=!0){const e=O.useContext(Qh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,a=O.useId();O.useEffect(()=>{if(t)return o(a)},[t]);const u=O.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,u]:[!0]}const Bf=t=>t.key||"";function jx(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const Bc=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1,anchorX:d="left",root:m})=>{const[p,g]=vC(u),y=O.useMemo(()=>jx(t),[t]),w=u&&!p?[]:y.map(Bf),x=O.useRef(!0),C=O.useRef(y),E=Wy(()=>new Map),[R,M]=O.useState(y),[j,D]=O.useState(y);TE(()=>{x.current=!1,C.current=y;for(let W=0;W<j.length;W++){const U=Bf(j[W]);w.includes(U)?E.delete(U):E.get(U)!==!0&&E.set(U,!1)}},[j,w.length,w.join("-")]);const B=[];if(y!==R){let W=[...y];for(let U=0;U<j.length;U++){const Y=j[U],ot=Bf(Y);w.includes(ot)||(W.splice(U,0,Y),B.push(Y))}return a==="wait"&&B.length&&(W=B),D(jx(W)),M(y),null}const{forceRender:q}=O.useContext(Ky);return P.jsx(P.Fragment,{children:j.map(W=>{const U=Bf(W),Y=u&&!p?!1:y===j||w.includes(U),ot=()=>{if(E.has(U))E.set(U,!0);else return;let gt=!0;E.forEach(yt=>{yt||(gt=!1)}),gt&&(q?.(),D(C.current),u&&g?.(),r&&r())};return P.jsx(XP,{isPresent:Y,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,root:m,onExitComplete:Y?void 0:ot,anchorX:d,children:W},U)})})},yC=O.createContext({strict:!1}),Bx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ql={};for(const t in Bx)Ql[t]={isEnabled:e=>Bx[t].some(n=>!!e[n])};function JP(t){for(const e in t)Ql[e]={...Ql[e],...t[e]}}const tk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ah(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||tk.has(t)}let _C=t=>!Ah(t);function ek(t){typeof t=="function"&&(_C=e=>e.startsWith("on")?!Ah(e):t(e))}try{ek(require("@emotion/is-prop-valid").default)}catch{}function nk(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(_C(o)||n===!0&&Ah(o)||!e&&!Ah(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const Jh=O.createContext({});function tm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function zc(t){return typeof t=="string"||Array.isArray(t)}const _0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],b0=["initial",..._0];function em(t){return tm(t.animate)||b0.some(e=>zc(t[e]))}function bC(t){return!!(em(t)||t.variants)}function ik(t,e){if(em(t)){const{initial:n,animate:r}=t;return{initial:n===!1||zc(n)?n:void 0,animate:zc(r)?r:void 0}}return t.inherit!==!1?e:{}}function rk(t){const{initial:e,animate:n}=ik(t,O.useContext(Jh));return O.useMemo(()=>({initial:e,animate:n}),[zx(e),zx(n)])}function zx(t){return Array.isArray(t)?t.join(" "):t}const Ic={};function sk(t){for(const e in t)Ic[e]=t[e],r0(e)&&(Ic[e].isCSSVariable=!0)}function wC(t,{layout:e,layoutId:n}){return uu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ic[t]||t==="opacity")}const ok={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ak=lu.length;function lk(t,e,n){let r="",o=!0;for(let a=0;a<ak;a++){const u=lu[a],d=t[u];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(u.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=dC(d,p0[u]);if(!m){o=!1;const g=ok[u]||u;r+=`${g}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function w0(t,e,n){const{style:r,vars:o,transformOrigin:a}=t;let u=!1,d=!1;for(const m in e){const p=e[m];if(uu.has(m)){u=!0;continue}else if(r0(m)){o[m]=p;continue}else{const g=dC(p,p0[m]);m.startsWith("origin")?(d=!0,a[m]=g):r[m]=g}}if(e.transform||(u||n?r.transform=lk(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${m} ${p} ${g}`}}const x0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xC(t,e,n){for(const r in e)!zn(e[r])&&!wC(r,n)&&(t[r]=e[r])}function uk({transformTemplate:t},e){return O.useMemo(()=>{const n=x0();return w0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ck(t,e){const n=t.style||{},r={};return xC(r,n,t),Object.assign(r,uk(t,e)),r}function dk(t,e){const n={},r=ck(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const fk={offset:"stroke-dashoffset",array:"stroke-dasharray"},hk={offset:"strokeDashoffset",array:"strokeDasharray"};function mk(t,e,n=1,r=0,o=!0){t.pathLength=1;const a=o?fk:hk;t[a.offset]=zt.transform(-r);const u=zt.transform(e),d=zt.transform(n);t[a.array]=`${u} ${d}`}function SC(t,{attrX:e,attrY:n,attrScale:r,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...d},m,p,g){if(w0(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:w}=t;y.transform&&(w.transform=y.transform,delete y.transform),(w.transform||y.transformOrigin)&&(w.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&mk(y,o,a,u,!1)}const EC=()=>({...x0(),attrs:{}}),CC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pk(t,e,n,r){const o=O.useMemo(()=>{const a=EC();return SC(a,e,CC(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};xC(a,t.style,t),o.style={...a,...o.style}}return o}const gk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function S0(t){return typeof t!="string"||t.includes("-")?!1:!!(gk.indexOf(t)>-1||/[A-Z]/u.test(t))}function vk(t,e,n,{latestValues:r},o,a=!1){const d=(S0(t)?pk:dk)(e,r,o,t),m=nk(e,typeof t=="string",a),p=t!==O.Fragment?{...m,...d,ref:n}:{},{children:g}=e,y=O.useMemo(()=>zn(g)?g.get():g,[g]);return O.createElement(t,{...p,children:y})}function Ix(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function E0(t,e,n,r){if(typeof e=="function"){const[o,a]=Ix(r);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Ix(r);e=e(n!==void 0?n:t.custom,o,a)}return e}function hh(t){return zn(t)?t.get():t}function yk({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,o){return{latestValues:_k(n,r,o,t),renderState:e()}}function _k(t,e,n,r){const o={},a=r(t,{});for(const w in a)o[w]=hh(a[w]);let{initial:u,animate:d}=t;const m=em(t),p=bC(t);e&&p&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?d:u;if(y&&typeof y!="boolean"&&!tm(y)){const w=Array.isArray(y)?y:[y];for(let x=0;x<w.length;x++){const C=E0(t,w[x]);if(C){const{transitionEnd:E,transition:R,...M}=C;for(const j in M){let D=M[j];if(Array.isArray(D)){const B=g?D.length-1:0;D=D[B]}D!==null&&(o[j]=D)}for(const j in E)o[j]=E[j]}}}return o}const TC=t=>(e,n)=>{const r=O.useContext(Jh),o=O.useContext(Qh),a=()=>yk(t,e,r,o);return n?a():Wy(a)};function C0(t,e,n){const{style:r}=t,o={};for(const a in r)(zn(r[a])||e.style&&zn(e.style[a])||wC(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(o[a]=r[a]);return o}const bk=TC({scrapeMotionValuesFromProps:C0,createRenderState:x0});function AC(t,e,n){const r=C0(t,e,n);for(const o in t)if(zn(t[o])||zn(e[o])){const a=lu.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=t[o]}return r}const wk=TC({scrapeMotionValuesFromProps:AC,createRenderState:EC}),xk=Symbol.for("motionComponentSymbol");function Fl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Sk(t,e,n){return O.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Fl(n)&&(n.current=r))},[e])}const T0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ek="framerAppearId",RC="data-"+T0(Ek),OC=O.createContext({});function Ck(t,e,n,r,o){const{visualElement:a}=O.useContext(Jh),u=O.useContext(yC),d=O.useContext(Qh),m=O.useContext(y0).reducedMotion,p=O.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const g=p.current,y=O.useContext(OC);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&Tk(p.current,n,o,y);const w=O.useRef(!1);O.useInsertionEffect(()=>{g&&w.current&&g.update(n,d)});const x=n[RC],C=O.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return TE(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),O.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),C.current=!1),g.enteringChildren=void 0)}),g}function Tk(t,e,n,r){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:MC(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&Fl(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:m,layoutRoot:p})}function MC(t){if(t)return t.options.allowProjection!==!1?t.projection:MC(t.parent)}function Ag(t,{forwardMotionProps:e=!1}={},n,r){n&&JP(n);const o=S0(t)?wk:bk;function a(d,m){let p;const g={...O.useContext(y0),...d,layoutId:Ak(d)},{isStatic:y}=g,w=rk(d),x=o(d,y);if(!y&&Yy){Rk();const C=Ok(g);p=C.MeasureLayout,w.visualElement=Ck(t,x,g,r,C.ProjectionNode)}return P.jsxs(Jh.Provider,{value:w,children:[p&&w.visualElement?P.jsx(p,{visualElement:w.visualElement,...g}):null,vk(t,d,Sk(x,w.visualElement,m),x,y,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=O.forwardRef(a);return u[xk]=t,u}function Ak({layoutId:t}){const e=O.useContext(Ky).id;return e&&t!==void 0?e+"-"+t:t}function Rk(t,e){O.useContext(yC).strict}function Ok(t){const{drag:e,layout:n}=Ql;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Mk(t,e){if(typeof Proxy>"u")return Ag;const n=new Map,r=(a,u)=>Ag(a,u,t,e),o=(a,u)=>r(a,u);return new Proxy(o,{get:(a,u)=>u==="create"?r:(n.has(u)||n.set(u,Ag(u,void 0,t,e)),n.get(u))})}function LC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Lk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Pk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Rg(t){return t===void 0||t===1}function $v({scale:t,scaleX:e,scaleY:n}){return!Rg(t)||!Rg(e)||!Rg(n)}function ga(t){return $v(t)||PC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function PC(t){return Ux(t.x)||Ux(t.y)}function Ux(t){return t&&t!=="0%"}function Rh(t,e,n){const r=t-n,o=e*r;return n+o}function Vx(t,e,n,r,o){return o!==void 0&&(t=Rh(t,o,r)),Rh(t,n,r)+e}function Hv(t,e=0,n=1,r,o){t.min=Vx(t.min,e,n,r,o),t.max=Vx(t.max,e,n,r,o)}function kC(t,{x:e,y:n}){Hv(t.x,e.translate,e.scale,e.originPoint),Hv(t.y,n.translate,n.scale,n.originPoint)}const Fx=.999999999999,$x=1.0000000000001;function kk(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=n[d],u=a.projectionDelta;const{visualElement:m}=a.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Hl(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,kC(t,u)),r&&ga(a.latestValues)&&Hl(t,a.latestValues))}e.x<$x&&e.x>Fx&&(e.x=1),e.y<$x&&e.y>Fx&&(e.y=1)}function $l(t,e){t.min=t.min+e,t.max=t.max+e}function Hx(t,e,n,r,o=.5){const a=Be(t.min,t.max,o);Hv(t,e,n,a,r)}function Hl(t,e){Hx(t.x,e.x,e.scaleX,e.scale,e.originX),Hx(t.y,e.y,e.scaleY,e.scale,e.originY)}function DC(t,e){return LC(Pk(t.getBoundingClientRect(),e))}function Dk(t,e,n){const r=DC(t,n),{scroll:o}=e;return o&&($l(r.x,o.offset.x),$l(r.y,o.offset.y)),r}const qx=()=>({translate:0,scale:1,origin:0,originPoint:0}),ql=()=>({x:qx(),y:qx()}),Gx=()=>({min:0,max:0}),fn=()=>({x:Gx(),y:Gx()}),qv={current:null},NC={current:!1};function Nk(){if(NC.current=!0,!!Yy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qv.current=t.matches;t.addEventListener("change",e),e()}else qv.current=!1}const jk=new WeakMap;function Bk(t,e,n){for(const r in e){const o=e[r],a=n[r];if(zn(o))t.addValue(r,o);else if(zn(a))t.addValue(r,Xl(o,{owner:t}));else if(a!==o)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(r);t.addValue(r,Xl(u!==void 0?u:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Zx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zk{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=h0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=di.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,De.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=em(n),this.isVariantNode=bC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in y){const x=y[w];m[w]!==void 0&&zn(x)&&x.set(m[w])}}mount(e){this.current=e,jk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),NC.current||Nk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),So(this.notifyUpdate),So(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=uu.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&De.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ql){const n=Ql[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Zx.length;r++){const o=Zx[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=Bk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Xl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(AE(r)||OE(r))?r=parseFloat(r):!GP(r)&&Eo.test(n)&&(r=cC(e,n)),this.setBaseTarget(e,zn(r)?r.get():r)),zn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=E0(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!zn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new e0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){g0.render(this.render)}}class jC extends zk{constructor(){super(...arguments),this.KeyframeResolver=DP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function BC(t,{style:e,vars:n},r,o){const a=t.style;let u;for(u in e)a[u]=e[u];o?.applyProjectionStyles(a,r);for(u in n)a.setProperty(u,n[u])}function Ik(t){return window.getComputedStyle(t)}class Uk extends jC{constructor(){super(...arguments),this.type="html",this.renderInstance=BC}readValueFromInstance(e,n){if(uu.has(n))return this.projection?.isProjecting?jv(n):J2(e,n);{const r=Ik(e),o=(r0(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DC(e,n)}build(e,n,r){w0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return C0(e,n,r)}}const zC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vk(t,e,n,r){BC(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(zC.has(o)?o:T0(o),e.attrs[o])}class Fk extends jC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(uu.has(n)){const r=uC(n);return r&&r.default||0}return n=zC.has(n)?n:T0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return AC(e,n,r)}build(e,n,r){SC(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,o){Vk(e,n,r,o)}mount(e){this.isSVGTag=CC(e.tagName),super.mount(e)}}const $k=(t,e)=>S0(t)?new Fk(e):new Uk(e,{allowProjection:t!==O.Fragment});function Gl(t,e,n){const r=t.getProps();return E0(r,e,n!==void 0?n:r.custom,t)}const Gv=t=>Array.isArray(t);function Hk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xl(n))}function qk(t){return Gv(t)?t[t.length-1]||0:t}function Gk(t,e){const n=Gl(t,e);let{transitionEnd:r={},transition:o={},...a}=n||{};a={...a,...r};for(const u in a){const d=qk(a[u]);Hk(t,u,d)}}function Zk(t){return!!(zn(t)&&t.add)}function Zv(t,e){const n=t.getValue("willChange");if(Zk(n))return n.add(e);if(!n&&xs.WillChange){const r=new xs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function IC(t){return t.props[RC]}const Kk=t=>t!==null;function Wk(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(Kk),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[a]}const Yk={type:"spring",stiffness:500,damping:25,restSpeed:10},Xk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Qk={type:"keyframes",duration:.8},Jk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tD=(t,{keyframes:e})=>e.length>2?Qk:uu.has(t)?t.startsWith("scale")?Xk(e[1]):Yk:Jk;function eD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:m,elapsed:p,...g}){return!!Object.keys(g).length}const A0=(t,e,n,r={},o,a)=>u=>{const d=m0(r,t)||{},m=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-zr(m);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:o};eD(d)||Object.assign(g,tD(t,g)),g.duration&&(g.duration=zr(g.duration)),g.repeatDelay&&(g.repeatDelay=zr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Vv(g),g.delay===0&&(y=!0)),(xs.instantAnimations||xs.skipAnimations)&&(y=!0,Vv(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,y&&!a&&e.get()!==void 0){const w=Wk(g.keyframes,d);if(w!==void 0){De.update(()=>{g.onUpdate(w),g.onComplete()});return}}return d.isSync?new f0(g):new xP(g)};function nD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function UC(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:u,...d}=e;r&&(a=r);const m=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in d){const y=t.getValue(g,t.latestValues[g]??null),w=d[g];if(w===void 0||p&&nD(p,g))continue;const x={delay:n,...m0(a||{},g)},C=y.get();if(C!==void 0&&!y.isAnimating&&!Array.isArray(w)&&w===C&&!x.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const M=IC(t);if(M){const j=window.MotionHandoffAnimation(M,g,De);j!==null&&(x.startTime=j,E=!0)}}Zv(t,g),y.start(A0(g,y,w,t.shouldReduceMotion&&oC.has(g)?{type:!1}:x,t,E));const R=y.animation;R&&m.push(R)}return u&&Promise.all(m).then(()=>{De.update(()=>{u&&Gk(t,u)})}),m}function VC(t,e,n,r=0,o=1){const a=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,d=(u-1)*r;return typeof n=="function"?n(a,u):o===1?a*r:d-a*r}function Kv(t,e,n={}){const r=Gl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const a=r?()=>Promise.all(UC(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=o;return iD(t,e,m,p,g,y,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[m,p]=d==="beforeChildren"?[a,u]:[u,a];return m().then(()=>p())}else return Promise.all([a(),u(n.delay)])}function iD(t,e,n=0,r=0,o=0,a=1,u){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(Kv(m,e,{...u,delay:n+(typeof r=="function"?0:r)+VC(t.variantChildren,m,r,o,a)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function rD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>Kv(t,a,n));r=Promise.all(o)}else if(typeof e=="string")r=Kv(t,e,n);else{const o=typeof e=="function"?Gl(t,e,n.custom):e;r=Promise.all(UC(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function FC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const sD=b0.length;function $C(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$C(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<sD;n++){const r=b0[n],o=t.props[r];(zc(o)||o===!1)&&(e[r]=o)}return e}const oD=[..._0].reverse(),aD=_0.length;function lD(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rD(t,n,r)))}function uD(t){let e=lD(t),n=Kx(),r=!0;const o=m=>(p,g)=>{const y=Gl(t,g,m==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:w,transitionEnd:x,...C}=y;p={...p,...C,...x}}return p};function a(m){e=m(t)}function u(m){const{props:p}=t,g=$C(t.parent)||{},y=[],w=new Set;let x={},C=1/0;for(let R=0;R<aD;R++){const M=oD[R],j=n[M],D=p[M]!==void 0?p[M]:g[M],B=zc(D),q=M===m?j.isActive:null;q===!1&&(C=R);let W=D===g[M]&&D!==p[M]&&B;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),j.protectedKeys={...x},!j.isActive&&q===null||!D&&!j.prevProp||tm(D)||typeof D=="boolean")continue;const U=cD(j.prevProp,D);let Y=U||M===m&&j.isActive&&!W&&B||R>C&&B,ot=!1;const gt=Array.isArray(D)?D:[D];let yt=gt.reduce(o(M),{});q===!1&&(yt={});const{prevResolvedValues:_t={}}=j,vt={..._t,...yt},ut=G=>{Y=!0,w.has(G)&&(ot=!0,w.delete(G)),j.needsAnimating[G]=!0;const H=t.getValue(G);H&&(H.liveStyle=!1)};for(const G in vt){const H=yt[G],dt=_t[G];if(x.hasOwnProperty(G))continue;let at=!1;Gv(H)&&Gv(dt)?at=!FC(H,dt):at=H!==dt,at?H!=null?ut(G):w.add(G):H!==void 0&&w.has(G)?ut(G):j.protectedKeys[G]=!0}j.prevProp=D,j.prevResolvedValues=yt,j.isActive&&(x={...x,...yt}),r&&t.blockInitialAnimation&&(Y=!1);const bt=W&&U;Y&&(!bt||ot)&&y.push(...gt.map(G=>{const H={type:M};if(typeof G=="string"&&r&&!bt&&t.manuallyAnimateOnMount&&t.parent){const{parent:dt}=t,at=Gl(dt,G);if(dt.enteringChildren&&at){const{delayChildren:I}=at.transition||{};H.delay=VC(dt.enteringChildren,t,I)}}return{animation:G,options:H}}))}if(w.size){const R={};if(typeof p.initial!="boolean"){const M=Gl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(R.transition=M.transition)}w.forEach(M=>{const j=t.getBaseTarget(M),D=t.getValue(M);D&&(D.liveStyle=!0),R[M]=j??null}),y.push({animation:R})}let E=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(y):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(m,p)),n[m].isActive=p;const g=u(m);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Kx()}}}function cD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FC(e,t):!1}function da(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kx(){return{animate:da(!0),whileInView:da(),whileHover:da(),whileTap:da(),whileDrag:da(),whileFocus:da(),exit:da()}}class Ao{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dD extends Ao{constructor(e){super(e),e.animationState||(e.animationState=uD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let fD=0;class hD extends Ao{constructor(){super(...arguments),this.id=fD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const mD={animation:{Feature:dD},exit:{Feature:hD}};function Uc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function rd(t){return{point:{x:t.pageX,y:t.pageY}}}const pD=t=>e=>v0(e)&&t(e,rd(e));function Lc(t,e,n,r){return Uc(t,e,pD(n),r)}const HC=1e-4,gD=1-HC,vD=1+HC,qC=.01,yD=0-qC,_D=0+qC;function Zn(t){return t.max-t.min}function bD(t,e,n){return Math.abs(t-e)<=n}function Wx(t,e,n,r=.5){t.origin=r,t.originPoint=Be(e.min,e.max,t.origin),t.scale=Zn(n)/Zn(e),t.translate=Be(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gD&&t.scale<=vD||isNaN(t.scale))&&(t.scale=1),(t.translate>=yD&&t.translate<=_D||isNaN(t.translate))&&(t.translate=0)}function Pc(t,e,n,r){Wx(t.x,e.x,n.x,r?r.originX:void 0),Wx(t.y,e.y,n.y,r?r.originY:void 0)}function Yx(t,e,n){t.min=n.min+e.min,t.max=t.min+Zn(e)}function wD(t,e,n){Yx(t.x,e.x,n.x),Yx(t.y,e.y,n.y)}function Xx(t,e,n){t.min=e.min-n.min,t.max=t.min+Zn(e)}function Oh(t,e,n){Xx(t.x,e.x,n.x),Xx(t.y,e.y,n.y)}function Gi(t){return[t("x"),t("y")]}const GC=({current:t})=>t?t.ownerDocument.defaultView:null,Qx=(t,e)=>Math.abs(t-e);function xD(t,e){const n=Qx(t.x,e.x),r=Qx(t.y,e.y);return Math.sqrt(n**2+r**2)}class ZC{constructor(e,n,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Mg(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,C=xD(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!C)return;const{point:E}=w,{timestamp:R}=Rn;this.history.push({...E,timestamp:R});const{onStart:M,onMove:j}=this.handlers;x||(M&&M(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,w)},this.handlePointerMove=(w,x)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Og(x,this.transformPagePoint),De.update(this.updatePoint,!0)},this.handlePointerUp=(w,x)=>{this.end();const{onEnd:C,onSessionEnd:E,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=Mg(w.type==="pointercancel"?this.lastMoveEventInfo:Og(x,this.transformPagePoint),this.history);this.startEvent&&C&&C(w,M),E&&E(w,M)},!v0(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const d=rd(e),m=Og(d,this.transformPagePoint),{point:p}=m,{timestamp:g}=Rn;this.history=[{...p,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,Mg(m,this.history)),this.removeListeners=ed(Lc(this.contextWindow,"pointermove",this.handlePointerMove),Lc(this.contextWindow,"pointerup",this.handlePointerUp),Lc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),So(this.updatePoint)}}function Og(t,e){return e?{point:e(t.point)}:t}function Jx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mg({point:t},e){return{point:t,delta:Jx(t,KC(e)),offset:Jx(t,SD(e)),velocity:ED(e,.1)}}function SD(t){return t[0]}function KC(t){return t[t.length-1]}function ED(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=KC(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>zr(e)));)n--;if(!r)return{x:0,y:0};const a=Ki(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function CD(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Be(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Be(n,t,r.max):Math.min(t,n)),t}function tS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function TD(t,{top:e,left:n,bottom:r,right:o}){return{x:tS(t.x,n,o),y:tS(t.y,e,r)}}function eS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function AD(t,e){return{x:eS(t.x,e.x),y:eS(t.y,e.y)}}function RD(t,e){let n=.5;const r=Zn(t),o=Zn(e);return o>r?n=Dc(e.min,e.max-r,t.min):r>o&&(n=Dc(t.min,t.max-o,e.min)),ws(0,1,n)}function OD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wv=.35;function MD(t=Wv){return t===!1?t=0:t===!0&&(t=Wv),{x:nS(t,"left","right"),y:nS(t,"top","bottom")}}function nS(t,e,n){return{min:iS(t,e),max:iS(t,n)}}function iS(t,e){return typeof t=="number"?t:t[e]||0}const LD=new WeakMap;class PD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rd(y).point)},u=(y,w)=>{const{drag:x,dragPropagation:C,onDragStart:E}=this.getProps();if(x&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zP(x),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(M=>{let j=this.getAxisMotionValue(M).get()||0;if(Ir.test(j)){const{projection:D}=this.visualElement;if(D&&D.layout){const B=D.layout.layoutBox[M];B&&(j=Zn(B)*(parseFloat(j)/100))}}this.originPoint[M]=j}),E&&De.postRender(()=>E(y,w)),Zv(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},d=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w;const{dragPropagation:x,dragDirectionLock:C,onDirectionLock:E,onDrag:R}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:M}=w;if(C&&this.currentDirection===null){this.currentDirection=kD(M),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",w.point,M),this.updateAxis("y",w.point,M),this.visualElement.render(),R&&R(y,w)},m=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w,this.stop(y,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Gi(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new ZC(e,{onSessionStart:a,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:GC(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,o=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&De.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!zf(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=CD(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Fl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=TD(r.layoutBox,e):this.constraints=!1,this.elastic=MD(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=OD(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Fl(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=Dk(r,o.root,this.visualElement.getTransformPagePoint());let u=AD(o.layout.layoutBox,a);if(n){const d=n(Lk(u));this.hasMutatedConstraints=!!d,d&&(u=LC(d))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Gi(g=>{if(!zf(g,n,this.currentDirection))return;let y=m&&m[g]||{};u&&(y={min:0,max:0});const w=o?200:1e6,x=o?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,C)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Zv(this.visualElement,e),r.start(A0(e,r,0,n,this.visualElement,!1))}stopAnimation(){Gi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gi(n=>{const{drag:r}=this.getProps();if(!zf(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[n];a.set(e[n]-Be(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fl(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Gi(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();o[u]=RD({min:m,max:m},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gi(u=>{if(!zf(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];d.set(Be(m,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;LD.set(this.visualElement,this);const e=this.visualElement.current,n=Lc(e,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Fl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),De.read(r);const u=Uc(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Gi(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=m[g].translate,y.set(y.get()+m[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Wv,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function zf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function kD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DD extends Ao{constructor(e){super(e),this.removeGroupControls=Wi,this.removeListeners=Wi,this.controls=new PD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wi}unmount(){this.removeGroupControls(),this.removeListeners()}}const rS=t=>(e,n)=>{t&&De.postRender(()=>t(e,n))};class ND extends Ao{constructor(){super(...arguments),this.removePointerDownListener=Wi}onPointerDown(e){this.session=new ZC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:rS(e),onStart:rS(n),onMove:r,onEnd:(a,u)=>{delete this.session,o&&De.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=Lc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(zt.test(t))t=parseFloat(t);else return t;const n=sS(t,e.target.x),r=sS(t,e.target.y);return`${n}% ${r}%`}},jD={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Eo.parse(t);if(o.length>5)return r;const a=Eo.createTransformer(t),u=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;o[0+u]/=d,o[1+u]/=m;const p=Be(d,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}};let Lg=!1;class BD extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;sk(zD),a&&(n.group&&n.group.add(a),r&&r.register&&o&&r.register(a),Lg&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),mh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:a}=this.props,{projection:u}=r;return u&&(u.isPresent=a,Lg=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||De.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),g0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;Lg=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function WC(t){const[e,n]=vC(),r=O.useContext(Ky);return P.jsx(BD,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(OC),isPresent:e,safeToRemove:n})}const zD={borderRadius:{...mc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mc,borderTopRightRadius:mc,borderBottomLeftRadius:mc,borderBottomRightRadius:mc,boxShadow:jD};function ID(t,e,n){const r=zn(t)?t:Xl(t);return r.start(A0("",r,e,n)),r.animation}const UD=(t,e)=>t.depth-e.depth;class VD{constructor(){this.children=[],this.isDirty=!1}add(e){Xy(this.children,e),this.isDirty=!0}remove(e){Qy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UD),this.isDirty=!1,this.children.forEach(e)}}function FD(t,e){const n=di.now(),r=({timestamp:o})=>{const a=o-n;a>=e&&(So(r),t(a-e))};return De.setup(r,!0),()=>So(r)}const YC=["TopLeft","TopRight","BottomLeft","BottomRight"],$D=YC.length,oS=t=>typeof t=="string"?parseFloat(t):t,aS=t=>typeof t=="number"||zt.test(t);function HD(t,e,n,r,o,a){o?(t.opacity=Be(0,n.opacity??1,qD(r)),t.opacityExit=Be(e.opacity??1,0,GD(r))):a&&(t.opacity=Be(e.opacity??1,n.opacity??1,r));for(let u=0;u<$D;u++){const d=`border${YC[u]}Radius`;let m=lS(e,d),p=lS(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||aS(m)===aS(p)?(t[d]=Math.max(Be(oS(m),oS(p),r),0),(Ir.test(p)||Ir.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=Be(e.rotate||0,n.rotate||0,r))}function lS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qD=XC(0,.5,BE),GD=XC(.5,.95,Wi);function XC(t,e,n){return r=>r<t?0:r>e?1:n(Dc(t,e,r))}function uS(t,e){t.min=e.min,t.max=e.max}function lr(t,e){uS(t.x,e.x),uS(t.y,e.y)}function cS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function dS(t,e,n,r,o){return t-=e,t=Rh(t,1/n,r),o!==void 0&&(t=Rh(t,1/o,r)),t}function ZD(t,e=0,n=1,r=.5,o,a=t,u=t){if(Ir.test(e)&&(e=parseFloat(e),e=Be(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Be(a.min,a.max,r);t===a&&(d-=e),t.min=dS(t.min,e,n,d,o),t.max=dS(t.max,e,n,d,o)}function fS(t,e,[n,r,o],a,u){ZD(t,e[n],e[r],e[o],e.scale,a,u)}const KD=["x","scaleX","originX"],WD=["y","scaleY","originY"];function hS(t,e,n,r){fS(t.x,e,KD,n?n.x:void 0,r?r.x:void 0),fS(t.y,e,WD,n?n.y:void 0,r?r.y:void 0)}function mS(t){return t.translate===0&&t.scale===1}function QC(t){return mS(t.x)&&mS(t.y)}function pS(t,e){return t.min===e.min&&t.max===e.max}function YD(t,e){return pS(t.x,e.x)&&pS(t.y,e.y)}function gS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JC(t,e){return gS(t.x,e.x)&&gS(t.y,e.y)}function vS(t){return Zn(t.x)/Zn(t.y)}function yS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class XD{constructor(){this.members=[]}add(e){Xy(this.members,e),e.scheduleRender()}remove(e){if(Qy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QD(t,e,n){let r="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=n?.z||0;if((o||a||u)&&(r=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:w,skewX:x,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),w&&(r+=`rotateY(${w}deg) `),x&&(r+=`skewX(${x}deg) `),C&&(r+=`skewY(${C}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const Pg=["","X","Y","Z"],JD=1e3;let tN=0;function kg(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function tT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=IC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",De,!(o||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&tT(r)}function eT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=tN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iN),this.nodes.forEach(aN),this.nodes.forEach(lN),this.nodes.forEach(rN)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new VD)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new e0),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=gC(u)&&!HP(u),this.instance=u;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let g,y=0;const w=()=>this.root.updateBlockedByResize=!1;De.read(()=>{y=window.innerWidth}),t(u,()=>{const x=window.innerWidth;x!==y&&(y=x,this.root.updateBlockedByResize=!0,g&&g(),g=FD(w,250),mh.hasAnimatedSinceResize&&(mh.hasAnimatedSinceResize=!1,this.nodes.forEach(wS)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||hN,{onLayoutAnimationStart:E,onLayoutAnimationComplete:R}=p.getProps(),M=!this.targetLayout||!JC(this.targetLayout,x),j=!y&&w;if(this.options.layoutRoot||this.resumeFrom||j||y&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...m0(C,"layout"),onPlay:E,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(g,j)}else y||wS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),So(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uN),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_S);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(bS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oN),this.nodes.forEach(eN),this.nodes.forEach(nN)):this.nodes.forEach(bS),this.clearAllSnapshots();const d=di.now();Rn.delta=ws(0,1e3/60,d-Rn.timestamp),Rn.timestamp=d,Rn.isProcessing=!0,wg.update.process(Rn),wg.preRender.process(Rn),wg.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,g0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sN),this.sharedNodes.forEach(cN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,De.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){De.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zn(this.snapshot.measuredBox.x)&&!Zn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!QC(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||ga(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),mN(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return fn();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(pN))){const{scroll:p}=this.root;p&&($l(d.x,p.offset.x),$l(d.y,p.offset.y))}return d}removeElementScroll(u){const d=fn();if(lr(d,u),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&lr(d,u),$l(d.x,g.offset.x),$l(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const m=fn();lr(m,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Hl(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ga(g.latestValues)&&Hl(m,g.latestValues)}return ga(this.latestValues)&&Hl(m,this.latestValues),m}removeTransform(u){const d=fn();lr(d,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ga(p.latestValues))continue;$v(p.latestValues)&&p.updateSnapshot();const g=fn(),y=p.measurePageBox();lr(g,y),hS(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return ga(this.latestValues)&&hS(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!this.layout||!(g||y))return;this.resolvedRelativeTargetAt=Rn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lr(this.target,this.layout.layoutBox),kC(this.target,this.targetDelta)):lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||$v(this.parent.latestValues)||PC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),Oh(this.relativeTargetOrigin,d,m),lr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;lr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;kk(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=fn());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cS(this.prevProjectionDelta.x,this.projectionDelta.x),cS(this.prevProjectionDelta.y,this.projectionDelta.y)),Pc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==w||!yS(this.projectionDelta.x,this.prevProjectionDelta.x)||!yS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ql(),this.projectionDelta=ql(),this.projectionDeltaWithTransform=ql()}setAnimationOrigin(u,d=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},y=ql();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=fn(),x=m?m.source:void 0,C=this.layout?this.layout.source:void 0,E=x!==C,R=this.getStack(),M=!R||R.members.length<=1,j=!!(E&&!M&&this.options.crossfade===!0&&!this.path.some(fN));this.animationProgress=0;let D;this.mixTargetDelta=B=>{const q=B/1e3;xS(y.x,u.x,q),xS(y.y,u.y,q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oh(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dN(this.relativeTarget,this.relativeTargetOrigin,w,q),D&&YD(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=fn()),lr(D,this.relativeTarget)),E&&(this.animationValues=g,HD(g,p,this.latestValues,q,j,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(So(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=De.update(()=>{mh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xl(0)),this.currentAnimation=ID(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:g}=u;if(!(!d||!m||!p)){if(this!==u&&this.layout&&p&&nT(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||fn();const y=Zn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+y;const w=Zn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+w}lr(d,m),Hl(d,g),Pc(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new XD),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&kg("z",u,p,this.animationValues);for(let g=0;g<Pg.length;g++)kg(`rotate${Pg[g]}`,u,p,this.animationValues),kg(`skew${Pg[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=hh(d?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=hh(d?.pointerEvents)||""),this.hasProjected&&!ga(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=QD(this.projectionDeltaWithTransform,this.treeScale,g);m&&(y=m(g,y)),u.transform=y;const{x:w,y:x}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in Ic){if(g[C]===void 0)continue;const{correct:E,applyTo:R,isCSSVariable:M}=Ic[C],j=y==="none"?g[C]:E(g[C],p);if(R){const D=R.length;for(let B=0;B<D;B++)u[R[B]]=j}else M?this.options.visualElement.renderState.vars[C]=j:u[C]=j}this.options.layoutId&&(u.pointerEvents=p===this?hh(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(_S),this.root.sharedNodes.clear()}}}function eN(t){t.updateLayout()}function nN(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?Gi(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],w=Zn(y);y.min=n[g].min,y.max=y.min+w}):nT(o,e.layoutBox,n)&&Gi(g=>{const y=a?e.measuredBox[g]:e.layoutBox[g],w=Zn(n[g]);y.max=y.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const u=ql();Pc(u,n,e.layoutBox);const d=ql();a?Pc(d,t.applyTransform(r,!0),e.measuredBox):Pc(d,n,e.layoutBox);const m=!QC(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:w}=g;if(y&&w){const x=fn();Oh(x,e.layoutBox,y.layoutBox);const C=fn();Oh(C,n,w.layoutBox),JC(x,C)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=x,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function iN(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sN(t){t.clearSnapshot()}function _S(t){t.clearMeasurements()}function bS(t){t.isLayoutDirty=!1}function oN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function wS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aN(t){t.resolveTargetDelta()}function lN(t){t.calcProjection()}function uN(t){t.resetSkewAndRotation()}function cN(t){t.removeLeadSnapshot()}function xS(t,e,n){t.translate=Be(e.translate,0,n),t.scale=Be(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function SS(t,e,n,r){t.min=Be(e.min,n.min,r),t.max=Be(e.max,n.max,r)}function dN(t,e,n,r){SS(t.x,e.x,n.x,r),SS(t.y,e.y,n.y,r)}function fN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hN={duration:.45,ease:[.4,0,.1,1]},ES=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),CS=ES("applewebkit/")&&!ES("chrome/")?Math.round:Wi;function TS(t){t.min=CS(t.min),t.max=CS(t.max)}function mN(t){TS(t.x),TS(t.y)}function nT(t,e,n){return t==="position"||t==="preserve-aspect"&&!bD(vS(e),vS(n),.2)}function pN(t){return t!==t.root&&t.scroll?.wasRoot}const gN=eT({attachResizeListener:(t,e)=>Uc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dg={current:void 0},iT=eT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dg.current){const t=new gN({});t.mount(window),t.setOptions({layoutScroll:!0}),Dg.current=t}return Dg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vN={pan:{Feature:ND},drag:{Feature:DD,ProjectionNode:iT,MeasureLayout:WC}};function AS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=r[o];a&&De.postRender(()=>a(e,rd(e)))}class yN extends Ao{mount(){const{current:e}=this.node;e&&(this.unmount=IP(e,(n,r)=>(AS(this.node,r,"Start"),o=>AS(this.node,o,"End"))))}unmount(){}}class _N extends Ao{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ed(Uc(this.node.current,"focus",()=>this.onFocus()),Uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=r[o];a&&De.postRender(()=>a(e,rd(e)))}class bN extends Ao{mount(){const{current:e}=this.node;e&&(this.unmount=$P(e,(n,r)=>(RS(this.node,r,"Start"),(o,{success:a})=>RS(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yv=new WeakMap,Ng=new WeakMap,wN=t=>{const e=Yv.get(t.target);e&&e(t)},xN=t=>{t.forEach(wN)};function SN({root:t,...e}){const n=t||document;Ng.has(n)||Ng.set(n,{});const r=Ng.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(xN,{root:t,...e})),r[o]}function EN(t,e,n){const r=SN(e);return Yv.set(t,n),r.observe(t),()=>{Yv.delete(t),r.unobserve(t)}}const CN={some:0,all:1};class TN extends Ao{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:CN[o]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),w=p?g:y;w&&w(m)};return EN(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(AN(e,n))&&this.startObserver()}unmount(){}}function AN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const RN={inView:{Feature:TN},tap:{Feature:bN},focus:{Feature:_N},hover:{Feature:yN}},ON={layout:{ProjectionNode:iT,MeasureLayout:WC}},MN={...mD,...RN,...vN,...ON},Se=Mk(MN,$k);function vo(t,e){return typeof t=="function"?t(e):t}function Ri(t,e){return n=>{e.setState(r=>({...r,[t]:vo(n,r[t])}))}}function nm(t){return t instanceof Function}function LN(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function PN(t,e){const n=[],r=o=>{o.forEach(a=>{n.push(a);const u=e(a);u!=null&&u.length&&r(u)})};return r(t),n}function It(t,e,n){let r=[],o;return a=>{let u;n.key&&n.debug&&(u=Date.now());const d=t(a);if(!(d.length!==r.length||d.some((g,y)=>r[y]!==g)))return o;r=d;let p;if(n.key&&n.debug&&(p=Date.now()),o=e(...d),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const g=Math.round((Date.now()-u)*100)/100,y=Math.round((Date.now()-p)*100)/100,w=y/16,x=(C,E)=>{for(C=String(C);C.length<E;)C=" "+C;return C};console.info(`%c ${x(y,5)} /${x(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,n?.key)}return o}}function Ut(t,e,n,r){return{debug:()=>{var o;return(o=t?.debugAll)!=null?o:t[e]},key:!1,onChange:r}}function kN(t,e,n,r){const o=()=>{var u;return(u=a.getValue())!=null?u:t.options.renderFallbackValue},a={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:o,getContext:It(()=>[t,n,e,a],(u,d,m,p)=>({table:u,column:d,row:m,cell:p,getValue:p.getValue,renderValue:p.renderValue}),Ut(t.options,"debugCells"))};return t._features.forEach(u=>{u.createCell==null||u.createCell(a,n,e,t)},{}),a}function DN(t,e,n,r){var o,a;const d={...t._getDefaultColumnDef(),...e},m=d.accessorKey;let p=(o=(a=d.id)!=null?a:m?typeof String.prototype.replaceAll=="function"?m.replaceAll(".","_"):m.replace(/\./g,"_"):void 0)!=null?o:typeof d.header=="string"?d.header:void 0,g;if(d.accessorFn?g=d.accessorFn:m&&(m.includes(".")?g=w=>{let x=w;for(const E of m.split(".")){var C;x=(C=x)==null?void 0:C[E]}return x}:g=w=>w[d.accessorKey]),!p)throw new Error;let y={id:`${String(p)}`,accessorFn:g,parent:r,depth:n,columnDef:d,columns:[],getFlatColumns:It(()=>[!0],()=>{var w;return[y,...(w=y.columns)==null?void 0:w.flatMap(x=>x.getFlatColumns())]},Ut(t.options,"debugColumns")),getLeafColumns:It(()=>[t._getOrderColumnsFn()],w=>{var x;if((x=y.columns)!=null&&x.length){let C=y.columns.flatMap(E=>E.getLeafColumns());return w(C)}return[y]},Ut(t.options,"debugColumns"))};for(const w of t._features)w.createColumn==null||w.createColumn(y,t);return y}const jn="debugHeaders";function OS(t,e,n){var r;let a={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const u=[],d=m=>{m.subHeaders&&m.subHeaders.length&&m.subHeaders.map(d),u.push(m)};return d(a),u},getContext:()=>({table:t,header:a,column:e})};return t._features.forEach(u=>{u.createHeader==null||u.createHeader(a,t)}),a}const NN={createTable:t=>{t.getHeaderGroups=It(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,o)=>{var a,u;const d=(a=r?.map(y=>n.find(w=>w.id===y)).filter(Boolean))!=null?a:[],m=(u=o?.map(y=>n.find(w=>w.id===y)).filter(Boolean))!=null?u:[],p=n.filter(y=>!(r!=null&&r.includes(y.id))&&!(o!=null&&o.includes(y.id)));return If(e,[...d,...p,...m],t)},Ut(t.options,jn)),t.getCenterHeaderGroups=It(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,o)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(o!=null&&o.includes(a.id))),If(e,n,t,"center")),Ut(t.options,jn)),t.getLeftHeaderGroups=It(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var o;const a=(o=r?.map(u=>n.find(d=>d.id===u)).filter(Boolean))!=null?o:[];return If(e,a,t,"left")},Ut(t.options,jn)),t.getRightHeaderGroups=It(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var o;const a=(o=r?.map(u=>n.find(d=>d.id===u)).filter(Boolean))!=null?o:[];return If(e,a,t,"right")},Ut(t.options,jn)),t.getFooterGroups=It(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Ut(t.options,jn)),t.getLeftFooterGroups=It(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Ut(t.options,jn)),t.getCenterFooterGroups=It(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Ut(t.options,jn)),t.getRightFooterGroups=It(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Ut(t.options,jn)),t.getFlatHeaders=It(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ut(t.options,jn)),t.getLeftFlatHeaders=It(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ut(t.options,jn)),t.getCenterFlatHeaders=It(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ut(t.options,jn)),t.getRightFlatHeaders=It(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ut(t.options,jn)),t.getCenterLeafHeaders=It(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ut(t.options,jn)),t.getLeftLeafHeaders=It(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ut(t.options,jn)),t.getRightLeafHeaders=It(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ut(t.options,jn)),t.getLeafHeaders=It(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var o,a,u,d,m,p;return[...(o=(a=e[0])==null?void 0:a.headers)!=null?o:[],...(u=(d=n[0])==null?void 0:d.headers)!=null?u:[],...(m=(p=r[0])==null?void 0:p.headers)!=null?m:[]].map(g=>g.getLeafHeaders()).flat()},Ut(t.options,jn))}};function If(t,e,n,r){var o,a;let u=0;const d=function(w,x){x===void 0&&(x=1),u=Math.max(u,x),w.filter(C=>C.getIsVisible()).forEach(C=>{var E;(E=C.columns)!=null&&E.length&&d(C.columns,x+1)},0)};d(t);let m=[];const p=(w,x)=>{const C={depth:x,id:[r,`${x}`].filter(Boolean).join("_"),headers:[]},E=[];w.forEach(R=>{const M=[...E].reverse()[0],j=R.column.depth===C.depth;let D,B=!1;if(j&&R.column.parent?D=R.column.parent:(D=R.column,B=!0),M&&M?.column===D)M.subHeaders.push(R);else{const q=OS(n,D,{id:[r,x,D.id,R?.id].filter(Boolean).join("_"),isPlaceholder:B,placeholderId:B?`${E.filter(W=>W.column===D).length}`:void 0,depth:x,index:E.length});q.subHeaders.push(R),E.push(q)}C.headers.push(R),R.headerGroup=C}),m.push(C),x>0&&p(E,x-1)},g=e.map((w,x)=>OS(n,w,{depth:u,index:x}));p(g,u-1),m.reverse();const y=w=>w.filter(C=>C.column.getIsVisible()).map(C=>{let E=0,R=0,M=[0];C.subHeaders&&C.subHeaders.length?(M=[],y(C.subHeaders).forEach(D=>{let{colSpan:B,rowSpan:q}=D;E+=B,M.push(q)})):E=1;const j=Math.min(...M);return R=R+j,C.colSpan=E,C.rowSpan=R,{colSpan:E,rowSpan:R}});return y((o=(a=m[0])==null?void 0:a.headers)!=null?o:[]),m}const jN=(t,e,n,r,o,a,u)=>{let d={id:e,index:r,original:n,depth:o,parentId:u,_valuesCache:{},_uniqueValuesCache:{},getValue:m=>{if(d._valuesCache.hasOwnProperty(m))return d._valuesCache[m];const p=t.getColumn(m);if(p!=null&&p.accessorFn)return d._valuesCache[m]=p.accessorFn(d.original,r),d._valuesCache[m]},getUniqueValues:m=>{if(d._uniqueValuesCache.hasOwnProperty(m))return d._uniqueValuesCache[m];const p=t.getColumn(m);if(p!=null&&p.accessorFn)return p.columnDef.getUniqueValues?(d._uniqueValuesCache[m]=p.columnDef.getUniqueValues(d.original,r),d._uniqueValuesCache[m]):(d._uniqueValuesCache[m]=[d.getValue(m)],d._uniqueValuesCache[m])},renderValue:m=>{var p;return(p=d.getValue(m))!=null?p:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>PN(d.subRows,m=>m.subRows),getParentRow:()=>d.parentId?t.getRow(d.parentId,!0):void 0,getParentRows:()=>{let m=[],p=d;for(;;){const g=p.getParentRow();if(!g)break;m.push(g),p=g}return m.reverse()},getAllCells:It(()=>[t.getAllLeafColumns()],m=>m.map(p=>kN(t,d,p,p.id)),Ut(t.options,"debugRows")),_getAllCellsByColumnId:It(()=>[d.getAllCells()],m=>m.reduce((p,g)=>(p[g.column.id]=g,p),{}),Ut(t.options,"debugRows"))};for(let m=0;m<t._features.length;m++){const p=t._features[m];p==null||p.createRow==null||p.createRow(d,t)}return d},BN={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},rT=(t,e,n)=>{var r,o;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((o=t.getValue(e))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(a))};rT.autoRemove=t=>hr(t);const sT=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};sT.autoRemove=t=>hr(t);const oT=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};oT.autoRemove=t=>hr(t);const aT=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};aT.autoRemove=t=>hr(t);const lT=(t,e,n)=>!n.some(r=>{var o;return!((o=t.getValue(e))!=null&&o.includes(r))});lT.autoRemove=t=>hr(t)||!(t!=null&&t.length);const uT=(t,e,n)=>n.some(r=>{var o;return(o=t.getValue(e))==null?void 0:o.includes(r)});uT.autoRemove=t=>hr(t)||!(t!=null&&t.length);const cT=(t,e,n)=>t.getValue(e)===n;cT.autoRemove=t=>hr(t);const dT=(t,e,n)=>t.getValue(e)==n;dT.autoRemove=t=>hr(t);const R0=(t,e,n)=>{let[r,o]=n;const a=t.getValue(e);return a>=r&&a<=o};R0.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,o=typeof n!="number"?parseFloat(n):n,a=e===null||Number.isNaN(r)?-1/0:r,u=n===null||Number.isNaN(o)?1/0:o;if(a>u){const d=a;a=u,u=d}return[a,u]};R0.autoRemove=t=>hr(t)||hr(t[0])&&hr(t[1]);const gs={includesString:rT,includesStringSensitive:sT,equalsString:oT,arrIncludes:aT,arrIncludesAll:lT,arrIncludesSome:uT,equals:cT,weakEquals:dT,inNumberRange:R0};function hr(t){return t==null||t===""}const zN={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Ri("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);return typeof r=="string"?gs.includesString:typeof r=="number"?gs.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?gs.equals:Array.isArray(r)?gs.arrIncludes:gs.weakEquals},t.getFilterFn=()=>{var n,r;return nm(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:gs[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,o;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((o=e.options.enableFilters)!=null?o:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const o=t.getFilterFn(),a=r?.find(g=>g.id===t.id),u=vo(n,a?a.value:void 0);if(MS(o,u,t)){var d;return(d=r?.filter(g=>g.id!==t.id))!=null?d:[]}const m={id:t.id,value:u};if(a){var p;return(p=r?.map(g=>g.id===t.id?m:g))!=null?p:[]}return r!=null&&r.length?[...r,m]:[m]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=o=>{var a;return(a=vo(e,o))==null?void 0:a.filter(u=>{const d=n.find(m=>m.id===u.id);if(d){const m=d.getFilterFn();if(MS(m,u.value,d))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function MS(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const IN=(t,e,n)=>n.reduce((r,o)=>{const a=o.getValue(t);return r+(typeof a=="number"?a:0)},0),UN=(t,e,n)=>{let r;return n.forEach(o=>{const a=o.getValue(t);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},VN=(t,e,n)=>{let r;return n.forEach(o=>{const a=o.getValue(t);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},FN=(t,e,n)=>{let r,o;return n.forEach(a=>{const u=a.getValue(t);u!=null&&(r===void 0?u>=u&&(r=o=u):(r>u&&(r=u),o<u&&(o=u)))}),[r,o]},$N=(t,e)=>{let n=0,r=0;if(e.forEach(o=>{let a=o.getValue(t);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},HN=(t,e)=>{if(!e.length)return;const n=e.map(a=>a.getValue(t));if(!LN(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((a,u)=>a-u);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},qN=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),GN=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,ZN=(t,e)=>e.length,jg={sum:IN,min:UN,max:VN,extent:FN,mean:$N,median:HN,unique:qN,uniqueCount:GN,count:ZN},KN={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Ri("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);if(typeof r=="number")return jg.sum;if(Object.prototype.toString.call(r)==="[object Date]")return jg.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return nm(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:jg[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var o;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function WN(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(a=>!e.includes(a.id));return n==="remove"?r:[...e.map(a=>t.find(u=>u.id===a)).filter(Boolean),...r]}const YN={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Ri("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=It(n=>[kc(e,n)],n=>n.findIndex(r=>r.id===t.id),Ut(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=kc(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const o=kc(e,n);return((r=o[o.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=It(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>o=>{let a=[];if(!(e!=null&&e.length))a=o;else{const u=[...e],d=[...o];for(;d.length&&u.length;){const m=u.shift(),p=d.findIndex(g=>g.id===m);p>-1&&a.push(d.splice(p,1)[0])}a=[...a,...d]}return WN(a,n,r)},Ut(t.options,"debugTable"))}},Bg=()=>({left:[],right:[]}),XN={getInitialState:t=>({columnPinning:Bg(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Ri("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(o=>o.id).filter(Boolean);e.setColumnPinning(o=>{var a,u;if(n==="right"){var d,m;return{left:((d=o?.left)!=null?d:[]).filter(y=>!(r!=null&&r.includes(y))),right:[...((m=o?.right)!=null?m:[]).filter(y=>!(r!=null&&r.includes(y))),...r]}}if(n==="left"){var p,g;return{left:[...((p=o?.left)!=null?p:[]).filter(y=>!(r!=null&&r.includes(y))),...r],right:((g=o?.right)!=null?g:[]).filter(y=>!(r!=null&&r.includes(y)))}}return{left:((a=o?.left)!=null?a:[]).filter(y=>!(r!=null&&r.includes(y))),right:((u=o?.right)!=null?u:[]).filter(y=>!(r!=null&&r.includes(y)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var o,a,u;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((a=(u=e.options.enableColumnPinning)!=null?u:e.options.enablePinning)!=null?a:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(d=>d.id),{left:r,right:o}=e.getState().columnPinning,a=n.some(d=>r?.includes(d)),u=n.some(d=>o?.includes(d));return a?"left":u?"right":!1},t.getPinnedIndex=()=>{var n,r;const o=t.getIsPinned();return o?(n=(r=e.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=It(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,o)=>{const a=[...r??[],...o??[]];return n.filter(u=>!a.includes(u.column.id))},Ut(e.options,"debugRows")),t.getLeftVisibleCells=It(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(u=>u.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),Ut(e.options,"debugRows")),t.getRightVisibleCells=It(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(u=>u.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),Ut(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?Bg():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:Bg())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var o,a;return!!((o=r.left)!=null&&o.length||(a=r.right)!=null&&a.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=It(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(o=>o.id===r)).filter(Boolean),Ut(t.options,"debugColumns")),t.getRightLeafColumns=It(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(o=>o.id===r)).filter(Boolean),Ut(t.options,"debugColumns")),t.getCenterLeafColumns=It(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const o=[...n??[],...r??[]];return e.filter(a=>!o.includes(a.id))},Ut(t.options,"debugColumns"))}};function QN(t){return t||(typeof document<"u"?document:null)}const Uf={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},zg=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),JN={getDefaultColumnDef:()=>Uf,getInitialState:t=>({columnSizing:{},columnSizingInfo:zg(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ri("columnSizing",t),onColumnSizingInfoChange:Ri("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,o;const a=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Uf.minSize,(r=a??t.columnDef.size)!=null?r:Uf.size),(o=t.columnDef.maxSize)!=null?o:Uf.maxSize)},t.getStart=It(n=>[n,kc(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((o,a)=>o+a.getSize(),0),Ut(e.options,"debugColumns")),t.getAfter=It(n=>[n,kc(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((o,a)=>o+a.getSize(),0),Ut(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...o}=n;return o})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var a;n+=(a=o.column.getSize())!=null?a:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),o=r?.getCanResize();return a=>{if(!r||!o||(a.persist==null||a.persist(),Ig(a)&&a.touches&&a.touches.length>1))return;const u=t.getSize(),d=t?t.getLeafHeaders().map(M=>[M.column.id,M.column.getSize()]):[[r.id,r.getSize()]],m=Ig(a)?Math.round(a.touches[0].clientX):a.clientX,p={},g=(M,j)=>{typeof j=="number"&&(e.setColumnSizingInfo(D=>{var B,q;const W=e.options.columnResizeDirection==="rtl"?-1:1,U=(j-((B=D?.startOffset)!=null?B:0))*W,Y=Math.max(U/((q=D?.startSize)!=null?q:0),-.999999);return D.columnSizingStart.forEach(ot=>{let[gt,yt]=ot;p[gt]=Math.round(Math.max(yt+yt*Y,0)*100)/100}),{...D,deltaOffset:U,deltaPercentage:Y}}),(e.options.columnResizeMode==="onChange"||M==="end")&&e.setColumnSizing(D=>({...D,...p})))},y=M=>g("move",M),w=M=>{g("end",M),e.setColumnSizingInfo(j=>({...j,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},x=QN(n),C={moveHandler:M=>y(M.clientX),upHandler:M=>{x?.removeEventListener("mousemove",C.moveHandler),x?.removeEventListener("mouseup",C.upHandler),w(M.clientX)}},E={moveHandler:M=>(M.cancelable&&(M.preventDefault(),M.stopPropagation()),y(M.touches[0].clientX),!1),upHandler:M=>{var j;x?.removeEventListener("touchmove",E.moveHandler),x?.removeEventListener("touchend",E.upHandler),M.cancelable&&(M.preventDefault(),M.stopPropagation()),w((j=M.touches[0])==null?void 0:j.clientX)}},R=tj()?{passive:!1}:!1;Ig(a)?(x?.addEventListener("touchmove",E.moveHandler,R),x?.addEventListener("touchend",E.upHandler,R)):(x?.addEventListener("mousemove",C.moveHandler,R),x?.addEventListener("mouseup",C.upHandler,R)),e.setColumnSizingInfo(M=>({...M,startOffset:m,startSize:u,deltaOffset:0,deltaPercentage:0,columnSizingStart:d,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?zg():(n=t.initialState.columnSizingInfo)!=null?n:zg())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?e:0}}};let Vf=null;function tj(){if(typeof Vf=="boolean")return Vf;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return Vf=t,Vf}function Ig(t){return t.type==="touchstart"}const ej={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Ri("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const o=t.columns;return(n=o.length?o.some(a=>a.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=It(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Ut(e.options,"debugRows")),t.getVisibleCells=It(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],Ut(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>It(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),Ut(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((o,a)=>({...o,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function kc(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const nj={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},ij={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Ri("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,o,a;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((o=e.options.enableFilters)!=null?o:!0)&&((a=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?a:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>gs.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return nm(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:gs[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},rj={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Ri("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,o;if(!e){t._queue(()=>{e=!0});return}if((r=(o=t.options.autoResetAll)!=null?o:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var o,a;t.setExpanded(r?{}:(o=(a=t.initialState)==null?void 0:a.expanded)!=null?o:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(a=>{const u=a.split(".");r=Math.max(r,u.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var o;const a=r===!0?!0:!!(r!=null&&r[t.id]);let u={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(d=>{u[d]=!0}):u=r,n=(o=n)!=null?o:!a,!a&&n)return{...u,[t.id]:!0};if(a&&!n){const{[t.id]:d,...m}=u;return m}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r?.[t.id])},t.getCanExpand=()=>{var n,r,o;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((o=t.subRows)!=null&&o.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Xv=0,Qv=10,Ug=()=>({pageIndex:Xv,pageSize:Qv}),sj={getInitialState:t=>({...t,pagination:{...Ug(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:Ri("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,o;if(!e){t._queue(()=>{e=!0});return}if((r=(o=t.options.autoResetAll)!=null?o:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const o=a=>vo(r,a);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(o)},t.resetPagination=r=>{var o;t.setPagination(r?Ug():(o=t.initialState.pagination)!=null?o:Ug())},t.setPageIndex=r=>{t.setPagination(o=>{let a=vo(r,o.pageIndex);const u=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return a=Math.max(0,Math.min(a,u)),{...o,pageIndex:a}})},t.resetPageIndex=r=>{var o,a;t.setPageIndex(r?Xv:(o=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?o:Xv)},t.resetPageSize=r=>{var o,a;t.setPageSize(r?Qv:(o=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?o:Qv)},t.setPageSize=r=>{t.setPagination(o=>{const a=Math.max(1,vo(r,o.pageSize)),u=o.pageSize*o.pageIndex,d=Math.floor(u/a);return{...o,pageIndex:d,pageSize:a}})},t.setPageCount=r=>t.setPagination(o=>{var a;let u=vo(r,(a=t.options.pageCount)!=null?a:-1);return typeof u=="number"&&(u=Math.max(-1,u)),{...o,pageCount:u}}),t.getPageOptions=It(()=>[t.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((a,u)=>u)),o},Ut(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,o=t.getPageCount();return o===-1?!0:o===0?!1:r<o-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},Vg=()=>({top:[],bottom:[]}),oj={getInitialState:t=>({rowPinning:Vg(),...t}),getDefaultOptions:t=>({onRowPinningChange:Ri("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,o)=>{const a=r?t.getLeafRows().map(m=>{let{id:p}=m;return p}):[],u=o?t.getParentRows().map(m=>{let{id:p}=m;return p}):[],d=new Set([...u,t.id,...a]);e.setRowPinning(m=>{var p,g;if(n==="bottom"){var y,w;return{top:((y=m?.top)!=null?y:[]).filter(E=>!(d!=null&&d.has(E))),bottom:[...((w=m?.bottom)!=null?w:[]).filter(E=>!(d!=null&&d.has(E))),...Array.from(d)]}}if(n==="top"){var x,C;return{top:[...((x=m?.top)!=null?x:[]).filter(E=>!(d!=null&&d.has(E))),...Array.from(d)],bottom:((C=m?.bottom)!=null?C:[]).filter(E=>!(d!=null&&d.has(E)))}}return{top:((p=m?.top)!=null?p:[]).filter(E=>!(d!=null&&d.has(E))),bottom:((g=m?.bottom)!=null?g:[]).filter(E=>!(d!=null&&d.has(E)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=e.options;return typeof r=="function"?r(t):(n=r??o)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:o}=e.getState().rowPinning,a=n.some(d=>r?.includes(d)),u=n.some(d=>o?.includes(d));return a?"top":u?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const o=t.getIsPinned();if(!o)return-1;const a=(n=o==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(u=>{let{id:d}=u;return d});return(r=a?.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?Vg():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:Vg())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var o,a;return!!((o=r.top)!=null&&o.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var o;return((o=t.options.keepPinnedRows)==null||o?(n??[]).map(u=>{const d=t.getRow(u,!0);return d.getIsAllParentsExpanded()?d:null}):(n??[]).map(u=>e.find(d=>d.id===u))).filter(Boolean).map(u=>({...u,position:r}))},t.getTopRows=It(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Ut(t.options,"debugRows")),t.getBottomRows=It(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Ut(t.options,"debugRows")),t.getCenterRows=It(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const o=new Set([...n??[],...r??[]]);return e.filter(a=>!o.has(a.id))},Ut(t.options,"debugRows"))}},aj={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Ri("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},o=t.getPreGroupedRowModel().flatRows;return e?o.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):o.forEach(a=>{delete r[a.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),o={...n};return t.getRowModel().rows.forEach(a=>{Jv(o,a.id,r,!0,t)}),o}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=It(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?Fg(t,n):{rows:[],flatRows:[],rowsById:{}},Ut(t.options,"debugTable")),t.getFilteredSelectedRowModel=It(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?Fg(t,n):{rows:[],flatRows:[],rowsById:{}},Ut(t.options,"debugTable")),t.getGroupedSelectedRowModel=It(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?Fg(t,n):{rows:[],flatRows:[],rowsById:{}},Ut(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(o=>!n[o.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const o=t.getIsSelected();e.setRowSelection(a=>{var u;if(n=typeof n<"u"?n:!o,t.getCanSelect()&&o===n)return a;const d={...a};return Jv(d,t.id,n,(u=r?.selectChildren)!=null?u:!0,e),d})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return O0(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return ty(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return ty(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var o;n&&t.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},Jv=(t,e,n,r,o)=>{var a;const u=o.getRow(e,!0);n?(u.getCanMultiSelect()||Object.keys(t).forEach(d=>delete t[d]),u.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(a=u.subRows)!=null&&a.length&&u.getCanSelectSubRows()&&u.subRows.forEach(d=>Jv(t,d.id,n,r,o))};function Fg(t,e){const n=t.getState().rowSelection,r=[],o={},a=function(u,d){return u.map(m=>{var p;const g=O0(m,n);if(g&&(r.push(m),o[m.id]=m),(p=m.subRows)!=null&&p.length&&(m={...m,subRows:a(m.subRows)}),g)return m}).filter(Boolean)};return{rows:a(e.rows),flatRows:r,rowsById:o}}function O0(t,e){var n;return(n=e[t.id])!=null?n:!1}function ty(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let o=!0,a=!1;return t.subRows.forEach(u=>{if(!(a&&!o)&&(u.getCanSelect()&&(O0(u,e)?a=!0:o=!1),u.subRows&&u.subRows.length)){const d=ty(u,e);d==="all"?a=!0:(d==="some"&&(a=!0),o=!1)}}),o?"all":a?"some":!1}const ey=/([0-9]+)/gm,lj=(t,e,n)=>fT(Co(t.getValue(n)).toLowerCase(),Co(e.getValue(n)).toLowerCase()),uj=(t,e,n)=>fT(Co(t.getValue(n)),Co(e.getValue(n))),cj=(t,e,n)=>M0(Co(t.getValue(n)).toLowerCase(),Co(e.getValue(n)).toLowerCase()),dj=(t,e,n)=>M0(Co(t.getValue(n)),Co(e.getValue(n))),fj=(t,e,n)=>{const r=t.getValue(n),o=e.getValue(n);return r>o?1:r<o?-1:0},hj=(t,e,n)=>M0(t.getValue(n),e.getValue(n));function M0(t,e){return t===e?0:t>e?1:-1}function Co(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function fT(t,e){const n=t.split(ey).filter(Boolean),r=e.split(ey).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),a=r.shift(),u=parseInt(o,10),d=parseInt(a,10),m=[u,d].sort();if(isNaN(m[0])){if(o>a)return 1;if(a>o)return-1;continue}if(isNaN(m[1]))return isNaN(u)?-1:1;if(u>d)return 1;if(d>u)return-1}return n.length-r.length}const pc={alphanumeric:lj,alphanumericCaseSensitive:uj,text:cj,textCaseSensitive:dj,datetime:fj,basic:hj},mj={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Ri("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const a=o?.getValue(t.id);if(Object.prototype.toString.call(a)==="[object Date]")return pc.datetime;if(typeof a=="string"&&(r=!0,a.split(ey).length>1))return pc.alphanumeric}return r?pc.text:pc.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return nm(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:pc[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const o=t.getNextSortingOrder(),a=typeof n<"u"&&n!==null;e.setSorting(u=>{const d=u?.find(x=>x.id===t.id),m=u?.findIndex(x=>x.id===t.id);let p=[],g,y=a?n:o==="desc";if(u!=null&&u.length&&t.getCanMultiSort()&&r?d?g="toggle":g="add":u!=null&&u.length&&m!==u.length-1?g="replace":d?g="toggle":g="replace",g==="toggle"&&(a||o||(g="remove")),g==="add"){var w;p=[...u,{id:t.id,desc:y}],p.splice(0,p.length-((w=e.options.maxMultiSortColCount)!=null?w:Number.MAX_SAFE_INTEGER))}else g==="toggle"?p=u.map(x=>x.id===t.id?{...x,desc:y}:x):g==="remove"?p=u.filter(x=>x.id!==t.id):p=[{id:t.id,desc:y}];return p})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,o;const a=t.getFirstSortDir(),u=t.getIsSorted();return u?u!==a&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(o=e.options.enableMultiRemove)!=null)||o)?!1:u==="desc"?"asc":"desc":a},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(o=>o.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(o=>o.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},pj=[NN,ej,YN,XN,BN,zN,nj,ij,mj,KN,rj,sj,oj,aj,JN];function gj(t){var e,n;const r=[...pj,...(e=t._features)!=null?e:[]];let o={_features:r};const a=o._features.reduce((w,x)=>Object.assign(w,x.getDefaultOptions==null?void 0:x.getDefaultOptions(o)),{}),u=w=>o.options.mergeOptions?o.options.mergeOptions(a,w):{...a,...w};let m={...{},...(n=t.initialState)!=null?n:{}};o._features.forEach(w=>{var x;m=(x=w.getInitialState==null?void 0:w.getInitialState(m))!=null?x:m});const p=[];let g=!1;const y={_features:r,options:{...a,...t},initialState:m,_queue:w=>{p.push(w),g||(g=!0,Promise.resolve().then(()=>{for(;p.length;)p.shift()();g=!1}).catch(x=>setTimeout(()=>{throw x})))},reset:()=>{o.setState(o.initialState)},setOptions:w=>{const x=vo(w,o.options);o.options=u(x)},getState:()=>o.options.state,setState:w=>{o.options.onStateChange==null||o.options.onStateChange(w)},_getRowId:(w,x,C)=>{var E;return(E=o.options.getRowId==null?void 0:o.options.getRowId(w,x,C))!=null?E:`${C?[C.id,x].join("."):x}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(w,x)=>{let C=(x?o.getPrePaginationRowModel():o.getRowModel()).rowsById[w];if(!C&&(C=o.getCoreRowModel().rowsById[w],!C))throw new Error;return C},_getDefaultColumnDef:It(()=>[o.options.defaultColumn],w=>{var x;return w=(x=w)!=null?x:{},{header:C=>{const E=C.header.column.columnDef;return E.accessorKey?E.accessorKey:E.accessorFn?E.id:null},cell:C=>{var E,R;return(E=(R=C.renderValue())==null||R.toString==null?void 0:R.toString())!=null?E:null},...o._features.reduce((C,E)=>Object.assign(C,E.getDefaultColumnDef==null?void 0:E.getDefaultColumnDef()),{}),...w}},Ut(t,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:It(()=>[o._getColumnDefs()],w=>{const x=function(C,E,R){return R===void 0&&(R=0),C.map(M=>{const j=DN(o,M,R,E),D=M;return j.columns=D.columns?x(D.columns,j,R+1):[],j})};return x(w)},Ut(t,"debugColumns")),getAllFlatColumns:It(()=>[o.getAllColumns()],w=>w.flatMap(x=>x.getFlatColumns()),Ut(t,"debugColumns")),_getAllFlatColumnsById:It(()=>[o.getAllFlatColumns()],w=>w.reduce((x,C)=>(x[C.id]=C,x),{}),Ut(t,"debugColumns")),getAllLeafColumns:It(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(w,x)=>{let C=w.flatMap(E=>E.getLeafColumns());return x(C)},Ut(t,"debugColumns")),getColumn:w=>o._getAllFlatColumnsById()[w]};Object.assign(o,y);for(let w=0;w<o._features.length;w++){const x=o._features[w];x==null||x.createTable==null||x.createTable(o)}return o}function vj(){return t=>It(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,a,u){a===void 0&&(a=0);const d=[];for(let p=0;p<o.length;p++){const g=jN(t,t._getRowId(o[p],p,u),o[p],p,a,void 0,u?.id);if(n.flatRows.push(g),n.rowsById[g.id]=g,d.push(g),t.options.getSubRows){var m;g.originalSubRows=t.options.getSubRows(o[p],p),(m=g.originalSubRows)!=null&&m.length&&(g.subRows=r(g.originalSubRows,a+1,g))}}return d};return n.rows=r(e),n},Ut(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function yj(){return t=>It(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,o=[],a=r.filter(m=>{var p;return(p=t.getColumn(m.id))==null?void 0:p.getCanSort()}),u={};a.forEach(m=>{const p=t.getColumn(m.id);p&&(u[m.id]={sortUndefined:p.columnDef.sortUndefined,invertSorting:p.columnDef.invertSorting,sortingFn:p.getSortingFn()})});const d=m=>{const p=m.map(g=>({...g}));return p.sort((g,y)=>{for(let x=0;x<a.length;x+=1){var w;const C=a[x],E=u[C.id],R=E.sortUndefined,M=(w=C?.desc)!=null?w:!1;let j=0;if(R){const D=g.getValue(C.id),B=y.getValue(C.id),q=D===void 0,W=B===void 0;if(q||W){if(R==="first")return q?-1:1;if(R==="last")return q?1:-1;j=q&&W?0:q?R:-R}}if(j===0&&(j=E.sortingFn(g,y,C.id)),j!==0)return M&&(j*=-1),E.invertSorting&&(j*=-1),j}return g.index-y.index}),p.forEach(g=>{var y;o.push(g),(y=g.subRows)!=null&&y.length&&(g.subRows=d(g.subRows))}),p};return{rows:d(n.rows),flatRows:o,rowsById:n.rowsById}},Ut(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}function LS(t,e){return t?_j(t)?O.createElement(t,e):t:null}function _j(t){return bj(t)||typeof t=="function"||wj(t)}function bj(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function wj(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function xj(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=O.useState(()=>({current:gj(e)})),[r,o]=O.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...t,state:{...r,...t.state},onStateChange:u=>{o(u),t.onStateChange==null||t.onStateChange(u)}})),n.current}function Al(t,e,n){let r=n.initialDeps??[],o,a=!0;function u(){var d,m,p;let g;n.key&&((d=n.debug)!=null&&d.call(n))&&(g=Date.now());const y=t();if(!(y.length!==r.length||y.some((C,E)=>r[E]!==C)))return o;r=y;let x;if(n.key&&((m=n.debug)!=null&&m.call(n))&&(x=Date.now()),o=e(...y),n.key&&((p=n.debug)!=null&&p.call(n))){const C=Math.round((Date.now()-g)*100)/100,E=Math.round((Date.now()-x)*100)/100,R=E/16,M=(j,D)=>{for(j=String(j);j.length<D;)j=" "+j;return j};console.info(`%c ${M(E,5)} /${M(C,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*R,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(a&&n.skipInitialOnChange)&&n.onChange(o),a=!1,o}return u.updateDeps=d=>{r=d},u}function PS(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const Sj=(t,e)=>Math.abs(t-e)<1.01,Ej=(t,e,n)=>{let r;return function(...o){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,o),n)}},kS=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},Cj=t=>t,Tj=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let o=e;o<=n;o++)r.push(o);return r},Aj=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const o=u=>{const{width:d,height:m}=u;e({width:Math.round(d),height:Math.round(m)})};if(o(kS(n)),!r.ResizeObserver)return()=>{};const a=new r.ResizeObserver(u=>{const d=()=>{const m=u[0];if(m?.borderBoxSize){const p=m.borderBoxSize[0];if(p){o({width:p.inlineSize,height:p.blockSize});return}}o(kS(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(d):d()});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},DS={passive:!0},NS=typeof window>"u"?!0:"onscrollend"in window,Rj=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let o=0;const a=t.options.useScrollendEvent&&NS?()=>{}:Ej(r,()=>{e(o,!1)},t.options.isScrollingResetDelay),u=g=>()=>{const{horizontal:y,isRtl:w}=t.options;o=y?n.scrollLeft*(w&&-1||1):n.scrollTop,a(),e(o,g)},d=u(!0),m=u(!1);m(),n.addEventListener("scroll",d,DS);const p=t.options.useScrollendEvent&&NS;return p&&n.addEventListener("scrollend",m,DS),()=>{n.removeEventListener("scroll",d),p&&n.removeEventListener("scrollend",m)}},Oj=(t,e,n)=>{if(e?.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},Mj=(t,{adjustments:e=0,behavior:n},r)=>{var o,a;const u=t+e;(a=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||a.call(o,{[r.options.horizontal?"left":"top"]:u,behavior:n})};class Lj{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(a=>{const u=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(u):u()})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var a;return(a=r())==null?void 0:a.observe(o,{box:"border-box"})},unobserve:o=>{var a;return(a=r())==null?void 0:a.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Cj,rangeExtractor:Tj,onChange:()=>{},measureElement:Oj,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=Al(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,a=new Map;for(let u=r-1;u>=0;u--){const d=n[u];if(o.has(d.lane))continue;const m=a.get(d.lane);if(m==null||d.end>m.end?a.set(d.lane,d):d.end<m.end&&o.set(d.lane,!0),o.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((u,d)=>u.end===d.end?u.index-d.index:u.end-d.end)[0]:void 0},this.getMeasurementOptions=Al(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,o,a,u,d)=>(this.prevLanes!==void 0&&this.prevLanes!==d&&(this.lanesChangedFlag=!0),this.prevLanes=d,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:a,enabled:u,lanes:d}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Al(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:a,enabled:u,lanes:d},m)=>{if(!u)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const w of this.laneAssignments.keys())w>=n&&this.laneAssignments.delete(w);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(w=>{this.itemSizeCache.set(w.key,w.size)}));const p=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const g=this.measurementsCache.slice(0,p),y=new Array(d).fill(void 0);for(let w=0;w<p;w++){const x=g[w];x&&(y[x.lane]=w)}for(let w=p;w<n;w++){const x=a(w),C=this.laneAssignments.get(w);let E,R;if(C!==void 0&&this.options.lanes>1){E=C;const B=y[E],q=B!==void 0?g[B]:void 0;R=q?q.end+this.options.gap:r+o}else{const B=this.options.lanes===1?g[w-1]:this.getFurthestMeasurement(g,w);R=B?B.end+this.options.gap:r+o,E=B?B.lane:w%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(w,E)}const M=m.get(x),j=typeof M=="number"?M:this.options.estimateSize(w),D=R+j;g[w]={index:w,start:R,size:j,end:D,key:x,lane:E},y[E]=w}return this.measurementsCache=g,g},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Al(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,o,a)=>this.range=n.length>0&&r>0?Pj({measurements:n,outerSize:r,scrollOffset:o,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Al(()=>{let n=null,r=null;const o=this.calculateRange();return o&&(n=o.startIndex,r=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,o,a,u)=>a===null||u===null?[]:n({startIndex:a,endIndex:u,overscan:r,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),a=this.measurementsCache[o];if(!a)return;const u=a.key,d=this.elementsCache.get(u);d!==n&&(d&&this.observer.unobserve(d),this.observer.observe(n),this.elementsCache.set(u,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const a=this.itemSizeCache.get(o.key)??o.size,u=r-a;u!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,u,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=u,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=Al(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let a=0,u=n.length;a<u;a++){const d=n[a],m=r[d];o.push(m)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return PS(r[hT(0,r.length-1,o=>PS(r[o]).start,n)])},this.getOffsetForAlignment=(n,r,o=0)=>{const a=this.getSize(),u=this.getScrollOffset();r==="auto"&&(r=n>=u+a?"end":"start"),r==="center"?n+=(o-a)/2:r==="end"&&(n-=a);const d=this.getTotalSize()+this.options.scrollMargin-a;return Math.max(Math.min(d,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const a=this.getSize(),u=this.getScrollOffset();if(r==="auto")if(o.end>=u+a-this.options.scrollPaddingEnd)r="end";else if(o.start<=u+this.options.scrollPaddingStart)r="start";else return[u,r];const d=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(d,r,o.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let a=0;const u=10,d=p=>{if(!this.targetWindow)return;const g=this.getOffsetForIndex(n,p);if(!g){console.warn("Failed to get offset for index:",n);return}const[y,w]=g;this._scrollToOffset(y,{adjustments:void 0,behavior:o}),this.targetWindow.requestAnimationFrame(()=>{const x=this.getScrollOffset(),C=this.getOffsetForIndex(n,w);if(!C){console.warn("Failed to get offset for index:",n);return}Sj(C[0],x)||m(w)})},m=p=>{this.targetWindow&&(a++,a<u?this.targetWindow.requestAnimationFrame(()=>d(p)):console.warn(`Failed to scroll to index ${n} after ${u} attempts.`))};d(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;if(r.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((n=r[r.length-1])==null?void 0:n.end)??0;else{const a=Array(this.options.lanes).fill(null);let u=r.length-1;for(;u>=0&&a.some(d=>d===null);){const d=r[u];a[d.lane]===null&&(a[d.lane]=d.end),u--}o=Math.max(...a.filter(d=>d!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}const hT=(t,e,n,r)=>{for(;t<=e;){const o=(t+e)/2|0,a=n(o);if(a<r)t=o+1;else if(a>r)e=o-1;else return o}return t>0?t-1:0};function Pj({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const o=t.length-1,a=m=>t[m].start;if(t.length<=r)return{startIndex:0,endIndex:o};let u=hT(0,o,a,n),d=u;if(r===1)for(;d<o&&t[d].end<n+e;)d++;else if(r>1){const m=Array(r).fill(0);for(;d<o&&m.some(g=>g<n+e);){const g=t[d];m[g.lane]=g.end,d++}const p=Array(r).fill(n+e);for(;u>=0&&p.some(g=>g>=n);){const g=t[u];p[g.lane]=g.start,u--}u=Math.max(0,u-u%r),d=Math.min(o,d+(r-1-d%r))}return{startIndex:u,endIndex:d}}const jS=typeof document<"u"?O.useLayoutEffect:O.useEffect;function kj(t){const e=O.useReducer(()=>({}),{})[1],n={...t,onChange:(o,a)=>{var u;a?su.flushSync(e):e(),(u=t.onChange)==null||u.call(t,o,a)}},[r]=O.useState(()=>new Lj(n));return r.setOptions(n),jS(()=>r._didMount(),[]),jS(()=>r._willUpdate()),r}function Dj(t){return kj({observeElementRect:Aj,observeElementOffset:Rj,scrollToFn:Mj,...t})}const Nj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),BS=t=>{const e=jj(t);return e.charAt(0).toUpperCase()+e.slice(1)},mT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Bj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var zj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ij=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:u,...d},m)=>O.createElement("svg",{ref:m,...zj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:mT("lucide",o),...!a&&!Bj(d)&&{"aria-hidden":"true"},...d},[...u.map(([p,g])=>O.createElement(p,g)),...Array.isArray(a)?a:[a]]));const Ee=(t,e)=>{const n=O.forwardRef(({className:r,...o},a)=>O.createElement(Ij,{ref:a,iconNode:e,className:mT(`lucide-${Nj(BS(t))}`,`lucide-${t}`,r),...o}));return n.displayName=BS(t),n};const Uj=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Vj=Ee("arrow-down-right",Uj);const Fj=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],$j=Ee("arrow-up-right",Fj);const Hj=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],qj=Ee("briefcase",Hj);const Gj=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],pT=Ee("building-2",Gj);const Zj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kj=Ee("calendar",Zj);const Wj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Yj=Ee("chevron-down",Wj);const Xj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Qj=Ee("chevron-up",Xj);const Jj=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],tB=Ee("chevrons-up-down",Jj);const eB=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],nB=Ee("command",eB);const iB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],rB=Ee("database",iB);const sB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],L0=Ee("external-link",sB);const oB=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],aB=Ee("github",oB);const lB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],uB=Ee("globe",lB);const cB=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],dB=Ee("heart",cB);const fB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hB=Ee("info",fB);const mB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pB=Ee("mail",mB);const gB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Mh=Ee("map-pin",gB);const vB=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],yB=Ee("map",vB);const _B=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Lh=Ee("search",_B);const bB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gT=Ee("sparkles",bB);const wB=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],xB=Ee("table-2",wB);const SB=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],EB=Ee("trending-down",SB);const CB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],im=Ee("trending-up",CB);const TB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AB=Ee("users",TB);const RB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],OB=Ee("wallet",RB);const MB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vT=Ee("x",MB);const LB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],PB=Ee("zap",LB);function Ss(t){return Array.isArray?Array.isArray(t):bT(t)==="[object Array]"}function kB(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function DB(t){return t==null?"":kB(t)}function jr(t){return typeof t=="string"}function yT(t){return typeof t=="number"}function NB(t){return t===!0||t===!1||jB(t)&&bT(t)=="[object Boolean]"}function _T(t){return typeof t=="object"}function jB(t){return _T(t)&&t!==null}function Ci(t){return t!=null}function $g(t){return!t.trim().length}function bT(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const BB="Incorrect 'index' type",zB=t=>`Invalid value for key ${t}`,IB=t=>`Pattern length exceeds max of ${t}.`,UB=t=>`Missing ${t} property in key`,VB=t=>`Property 'weight' in key '${t}' must be a positive integer`,zS=Object.prototype.hasOwnProperty;class FB{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let o=wT(r);this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function wT(t){let e=null,n=null,r=null,o=1,a=null;if(jr(t)||Ss(t))r=t,e=IS(t),n=ny(t);else{if(!zS.call(t,"name"))throw new Error(UB("name"));const u=t.name;if(r=u,zS.call(t,"weight")&&(o=t.weight,o<=0))throw new Error(VB(u));e=IS(u),n=ny(u),a=t.getFn}return{path:e,id:n,weight:o,src:r,getFn:a}}function IS(t){return Ss(t)?t:t.split(".")}function ny(t){return Ss(t)?t.join("."):t}function $B(t,e){let n=[],r=!1;const o=(a,u,d)=>{if(Ci(a))if(!u[d])n.push(a);else{let m=u[d];const p=a[m];if(!Ci(p))return;if(d===u.length-1&&(jr(p)||yT(p)||NB(p)))n.push(DB(p));else if(Ss(p)){r=!0;for(let g=0,y=p.length;g<y;g+=1)o(p[g],u,d+1)}else u.length&&o(p,u,d+1)}};return o(t,jr(e)?e.split("."):e,0),r?n:n[0]}const HB={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},qB={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},GB={location:0,threshold:.6,distance:100},ZB={useExtendedSearch:!1,getFn:$B,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Vt={...qB,...HB,...GB,...ZB};const KB=/[^ ]+/g;function WB(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(o){const a=o.match(KB).length;if(n.has(a))return n.get(a);const u=1/Math.pow(a,.5*t),d=parseFloat(Math.round(u*r)/r);return n.set(a,d),d},clear(){n.clear()}}}class P0{constructor({getFn:e=Vt.getFn,fieldNormWeight:n=Vt.fieldNormWeight}={}){this.norm=WB(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,jr(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();jr(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Ci(e)||$g(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((o,a)=>{let u=o.getFn?o.getFn(e):this.getFn(e,o.path);if(Ci(u)){if(Ss(u)){let d=[];const m=[{nestedArrIndex:-1,value:u}];for(;m.length;){const{nestedArrIndex:p,value:g}=m.pop();if(Ci(g))if(jr(g)&&!$g(g)){let y={v:g,i:p,n:this.norm.get(g)};d.push(y)}else Ss(g)&&g.forEach((y,w)=>{m.push({nestedArrIndex:w,value:y})})}r.$[a]=d}else if(jr(u)&&!$g(u)){let d={v:u,n:this.norm.get(u)};r.$[a]=d}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function xT(t,e,{getFn:n=Vt.getFn,fieldNormWeight:r=Vt.fieldNormWeight}={}){const o=new P0({getFn:n,fieldNormWeight:r});return o.setKeys(t.map(wT)),o.setSources(e),o.create(),o}function YB(t,{getFn:e=Vt.getFn,fieldNormWeight:n=Vt.fieldNormWeight}={}){const{keys:r,records:o}=t,a=new P0({getFn:e,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(o),a}function Ff(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:o=Vt.distance,ignoreLocation:a=Vt.ignoreLocation}={}){const u=e/t.length;if(a)return u;const d=Math.abs(r-n);return o?u+d/o:d?1:u}function XB(t=[],e=Vt.minMatchCharLength){let n=[],r=-1,o=-1,a=0;for(let u=t.length;a<u;a+=1){let d=t[a];d&&r===-1?r=a:!d&&r!==-1&&(o=a-1,o-r+1>=e&&n.push([r,o]),r=-1)}return t[a-1]&&a-r>=e&&n.push([r,a-1]),n}const ba=32;function QB(t,e,n,{location:r=Vt.location,distance:o=Vt.distance,threshold:a=Vt.threshold,findAllMatches:u=Vt.findAllMatches,minMatchCharLength:d=Vt.minMatchCharLength,includeMatches:m=Vt.includeMatches,ignoreLocation:p=Vt.ignoreLocation}={}){if(e.length>ba)throw new Error(IB(ba));const g=e.length,y=t.length,w=Math.max(0,Math.min(r,y));let x=a,C=w;const E=d>1||m,R=E?Array(y):[];let M;for(;(M=t.indexOf(e,C))>-1;){let U=Ff(e,{currentLocation:M,expectedLocation:w,distance:o,ignoreLocation:p});if(x=Math.min(U,x),C=M+g,E){let Y=0;for(;Y<g;)R[M+Y]=1,Y+=1}}C=-1;let j=[],D=1,B=g+y;const q=1<<g-1;for(let U=0;U<g;U+=1){let Y=0,ot=B;for(;Y<ot;)Ff(e,{errors:U,currentLocation:w+ot,expectedLocation:w,distance:o,ignoreLocation:p})<=x?Y=ot:B=ot,ot=Math.floor((B-Y)/2+Y);B=ot;let gt=Math.max(1,w-ot+1),yt=u?y:Math.min(w+ot,y)+g,_t=Array(yt+2);_t[yt+1]=(1<<U)-1;for(let ut=yt;ut>=gt;ut-=1){let bt=ut-1,$=n[t.charAt(bt)];if(E&&(R[bt]=+!!$),_t[ut]=(_t[ut+1]<<1|1)&$,U&&(_t[ut]|=(j[ut+1]|j[ut])<<1|1|j[ut+1]),_t[ut]&q&&(D=Ff(e,{errors:U,currentLocation:bt,expectedLocation:w,distance:o,ignoreLocation:p}),D<=x)){if(x=D,C=bt,C<=w)break;gt=Math.max(1,2*w-C)}}if(Ff(e,{errors:U+1,currentLocation:w,expectedLocation:w,distance:o,ignoreLocation:p})>x)break;j=_t}const W={isMatch:C>=0,score:Math.max(.001,D)};if(E){const U=XB(R,d);U.length?m&&(W.indices=U):W.isMatch=!1}return W}function JB(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const o=t.charAt(n);e[o]=(e[o]||0)|1<<r-n-1}return e}const Ph=String.prototype.normalize?(t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(t=>t);class ST{constructor(e,{location:n=Vt.location,threshold:r=Vt.threshold,distance:o=Vt.distance,includeMatches:a=Vt.includeMatches,findAllMatches:u=Vt.findAllMatches,minMatchCharLength:d=Vt.minMatchCharLength,isCaseSensitive:m=Vt.isCaseSensitive,ignoreDiacritics:p=Vt.ignoreDiacritics,ignoreLocation:g=Vt.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:o,includeMatches:a,findAllMatches:u,minMatchCharLength:d,isCaseSensitive:m,ignoreDiacritics:p,ignoreLocation:g},e=m?e:e.toLowerCase(),e=p?Ph(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const y=(x,C)=>{this.chunks.push({pattern:x,alphabet:JB(x),startIndex:C})},w=this.pattern.length;if(w>ba){let x=0;const C=w%ba,E=w-C;for(;x<E;)y(this.pattern.substr(x,ba),x),x+=ba;if(C){const R=w-ba;y(this.pattern.substr(R),R)}}else y(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:o}=this.options;if(e=n?e:e.toLowerCase(),e=r?Ph(e):e,this.pattern===e){let E={isMatch:!0,score:0};return o&&(E.indices=[[0,e.length-1]]),E}const{location:a,distance:u,threshold:d,findAllMatches:m,minMatchCharLength:p,ignoreLocation:g}=this.options;let y=[],w=0,x=!1;this.chunks.forEach(({pattern:E,alphabet:R,startIndex:M})=>{const{isMatch:j,score:D,indices:B}=QB(e,E,R,{location:a+M,distance:u,threshold:d,findAllMatches:m,minMatchCharLength:p,includeMatches:o,ignoreLocation:g});j&&(x=!0),w+=D,j&&B&&(y=[...y,...B])});let C={isMatch:x,score:x?w/this.chunks.length:1};return x&&o&&(C.indices=y),C}}class Ro{constructor(e){this.pattern=e}static isMultiMatch(e){return US(e,this.multiRegex)}static isSingleMatch(e){return US(e,this.singleRegex)}search(){}}function US(t,e){const n=t.match(e);return n?n[1]:null}class tz extends Ro{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class ez extends Ro{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class nz extends Ro{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class iz extends Ro{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class rz extends Ro{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class sz extends Ro{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class ET extends Ro{constructor(e,{location:n=Vt.location,threshold:r=Vt.threshold,distance:o=Vt.distance,includeMatches:a=Vt.includeMatches,findAllMatches:u=Vt.findAllMatches,minMatchCharLength:d=Vt.minMatchCharLength,isCaseSensitive:m=Vt.isCaseSensitive,ignoreDiacritics:p=Vt.ignoreDiacritics,ignoreLocation:g=Vt.ignoreLocation}={}){super(e),this._bitapSearch=new ST(e,{location:n,threshold:r,distance:o,includeMatches:a,findAllMatches:u,minMatchCharLength:d,isCaseSensitive:m,ignoreDiacritics:p,ignoreLocation:g})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class CT extends Ro{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const o=[],a=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+a,o.push([r,n-1]);const u=!!o.length;return{isMatch:u,score:u?0:1,indices:o}}}const iy=[tz,CT,nz,iz,sz,rz,ez,ET],VS=iy.length,oz=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,az="|";function lz(t,e={}){return t.split(az).map(n=>{let r=n.trim().split(oz).filter(a=>a&&!!a.trim()),o=[];for(let a=0,u=r.length;a<u;a+=1){const d=r[a];let m=!1,p=-1;for(;!m&&++p<VS;){const g=iy[p];let y=g.isMultiMatch(d);y&&(o.push(new g(y,e)),m=!0)}if(!m)for(p=-1;++p<VS;){const g=iy[p];let y=g.isSingleMatch(d);if(y){o.push(new g(y,e));break}}}return o})}const uz=new Set([ET.type,CT.type]);class cz{constructor(e,{isCaseSensitive:n=Vt.isCaseSensitive,ignoreDiacritics:r=Vt.ignoreDiacritics,includeMatches:o=Vt.includeMatches,minMatchCharLength:a=Vt.minMatchCharLength,ignoreLocation:u=Vt.ignoreLocation,findAllMatches:d=Vt.findAllMatches,location:m=Vt.location,threshold:p=Vt.threshold,distance:g=Vt.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:o,minMatchCharLength:a,findAllMatches:d,ignoreLocation:u,location:m,threshold:p,distance:g},e=n?e:e.toLowerCase(),e=r?Ph(e):e,this.pattern=e,this.query=lz(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:o,ignoreDiacritics:a}=this.options;e=o?e:e.toLowerCase(),e=a?Ph(e):e;let u=0,d=[],m=0;for(let p=0,g=n.length;p<g;p+=1){const y=n[p];d.length=0,u=0;for(let w=0,x=y.length;w<x;w+=1){const C=y[w],{isMatch:E,indices:R,score:M}=C.search(e);if(E){if(u+=1,m+=M,r){const j=C.constructor.type;uz.has(j)?d=[...d,...R]:d.push(R)}}else{m=0,u=0,d.length=0;break}}if(u){let w={isMatch:!0,score:m/u};return r&&(w.indices=d),w}}return{isMatch:!1,score:1}}}const ry=[];function dz(...t){ry.push(...t)}function sy(t,e){for(let n=0,r=ry.length;n<r;n+=1){let o=ry[n];if(o.condition(t,e))return new o(t,e)}return new ST(t,e)}const kh={AND:"$and",OR:"$or"},oy={PATH:"$path",PATTERN:"$val"},ay=t=>!!(t[kh.AND]||t[kh.OR]),fz=t=>!!t[oy.PATH],hz=t=>!Ss(t)&&_T(t)&&!ay(t),FS=t=>({[kh.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function TT(t,e,{auto:n=!0}={}){const r=o=>{let a=Object.keys(o);const u=fz(o);if(!u&&a.length>1&&!ay(o))return r(FS(o));if(hz(o)){const m=u?o[oy.PATH]:a[0],p=u?o[oy.PATTERN]:o[m];if(!jr(p))throw new Error(zB(m));const g={keyId:ny(m),pattern:p};return n&&(g.searcher=sy(p,e)),g}let d={children:[],operator:a[0]};return a.forEach(m=>{const p=o[m];Ss(p)&&p.forEach(g=>{d.children.push(r(g))})}),d};return ay(t)||(t=FS(t)),r(t)}function mz(t,{ignoreFieldNorm:e=Vt.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:o,norm:a,score:u})=>{const d=o?o.weight:null;r*=Math.pow(u===0&&d?Number.EPSILON:u,(d||1)*(e?1:a))}),n.score=r})}function pz(t,e){const n=t.matches;e.matches=[],Ci(n)&&n.forEach(r=>{if(!Ci(r.indices)||!r.indices.length)return;const{indices:o,value:a}=r;let u={indices:o,value:a};r.key&&(u.key=r.key.src),r.idx>-1&&(u.refIndex=r.idx),e.matches.push(u)})}function gz(t,e){e.score=t.score}function vz(t,e,{includeMatches:n=Vt.includeMatches,includeScore:r=Vt.includeScore}={}){const o=[];return n&&o.push(pz),r&&o.push(gz),t.map(a=>{const{idx:u}=a,d={item:e[u],refIndex:u};return o.length&&o.forEach(m=>{m(a,d)}),d})}class Ba{constructor(e,n={},r){this.options={...Vt,...n},this.options.useExtendedSearch,this._keyStore=new FB(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof P0))throw new Error(BB);this._myIndex=n||xT(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ci(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,o=this._docs.length;r<o;r+=1){const a=this._docs[r];e(a,r)&&(this.removeAt(r),r-=1,o-=1,n.push(a))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:o,shouldSort:a,sortFn:u,ignoreFieldNorm:d}=this.options;let m=jr(e)?jr(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return mz(m,{ignoreFieldNorm:d}),a&&m.sort(u),yT(n)&&n>-1&&(m=m.slice(0,n)),vz(m,this._docs,{includeMatches:r,includeScore:o})}_searchStringList(e){const n=sy(e,this.options),{records:r}=this._myIndex,o=[];return r.forEach(({v:a,i:u,n:d})=>{if(!Ci(a))return;const{isMatch:m,score:p,indices:g}=n.searchIn(a);m&&o.push({item:a,idx:u,matches:[{score:p,value:a,norm:d,indices:g}]})}),o}_searchLogical(e){const n=TT(e,this.options),r=(d,m,p)=>{if(!d.children){const{keyId:y,searcher:w}=d,x=this._findMatches({key:this._keyStore.get(y),value:this._myIndex.getValueForItemAtKeyId(m,y),searcher:w});return x&&x.length?[{idx:p,item:m,matches:x}]:[]}const g=[];for(let y=0,w=d.children.length;y<w;y+=1){const x=d.children[y],C=r(x,m,p);if(C.length)g.push(...C);else if(d.operator===kh.AND)return[]}return g},o=this._myIndex.records,a={},u=[];return o.forEach(({$:d,i:m})=>{if(Ci(d)){let p=r(n,d,m);p.length&&(a[m]||(a[m]={idx:m,item:d,matches:[]},u.push(a[m])),p.forEach(({matches:g})=>{a[m].matches.push(...g)}))}}),u}_searchObjectList(e){const n=sy(e,this.options),{keys:r,records:o}=this._myIndex,a=[];return o.forEach(({$:u,i:d})=>{if(!Ci(u))return;let m=[];r.forEach((p,g)=>{m.push(...this._findMatches({key:p,value:u[g],searcher:n}))}),m.length&&a.push({idx:d,item:u,matches:m})}),a}_findMatches({key:e,value:n,searcher:r}){if(!Ci(n))return[];let o=[];if(Ss(n))n.forEach(({v:a,i:u,n:d})=>{if(!Ci(a))return;const{isMatch:m,score:p,indices:g}=r.searchIn(a);m&&o.push({score:p,key:e,value:a,idx:u,norm:d,indices:g})});else{const{v:a,n:u}=n,{isMatch:d,score:m,indices:p}=r.searchIn(a);d&&o.push({score:m,key:e,value:a,norm:u,indices:p})}return o}}Ba.version="7.1.0";Ba.createIndex=xT;Ba.parseIndex=YB;Ba.config=Vt;Ba.parseQuery=TT;dz(cz);const ly=new Set,In=new WeakMap,La=new WeakMap,Ai=new WeakMap,Vc=new WeakMap,Hg=new WeakMap,Ec=new WeakMap,Ra=new WeakMap,yo=new WeakMap,Nl=new WeakSet;let ui,k0=0,D0=0;const ys="__aa_tgt",Fc="__aa_del",Dh="__aa_new",AT=t=>{const e=wz(t);e&&e.forEach(n=>xz(n))},yz=t=>{t.forEach(e=>{e.target===ui&&_z(),In.has(e.target)&&za(e.target)})};function RT(t){const e=t.getBoundingClientRect(),n=ui?.clientWidth||0,r=ui?.clientHeight||0;return e.bottom<0||e.top>r||e.right<0||e.left>n}function N0(t){const e=Vc.get(t);e?.disconnect();let n=In.get(t),r=0;const o=5;n||(n=Jl(t),In.set(t,n));const{offsetWidth:a,offsetHeight:u}=ui,m=[n.top-o,a-(n.left+o+n.width),u-(n.top+o+n.height),n.left-o].map(g=>`${-1*Math.floor(g)}px`).join(" "),p=new IntersectionObserver(()=>{++r>1&&za(t)},{root:ui,threshold:1,rootMargin:m});p.observe(t),Vc.set(t,p)}function za(t,e=!0){clearTimeout(yo.get(t));const n=rm(t),r=e?$c(n)?500:n.duration:0;yo.set(t,setTimeout(async()=>{const o=Ai.get(t);try{await o?.finished,In.set(t,Jl(t)),N0(t)}catch{}},r))}function _z(){clearTimeout(yo.get(ui)),yo.set(ui,setTimeout(()=>{ly.forEach(t=>ph(t,e=>OT(()=>za(e))))},100))}function bz(t){setTimeout(()=>{Ec.set(t,setInterval(()=>OT(za.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function OT(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let vs;const MT=typeof window<"u"&&"ResizeObserver"in window;MT&&(ui=document.documentElement,new MutationObserver(AT),vs=new ResizeObserver(yz),window.addEventListener("scroll",()=>{D0=window.scrollY,k0=window.scrollX}),vs.observe(ui));function wz(t){return t.reduce((r,o)=>[...r,...Array.from(o.addedNodes),...Array.from(o.removedNodes)],[]).every(r=>r.nodeName==="#comment")?!1:t.reduce((r,o)=>{if(r===!1)return!1;if(o.target instanceof Element){if(qg(o.target),!r.has(o.target)){r.add(o.target);for(let a=0;a<o.target.children.length;a++){const u=o.target.children.item(a);if(u){if(Fc in u)return!1;qg(o.target,u),r.add(u)}}}if(o.removedNodes.length)for(let a=0;a<o.removedNodes.length;a++){const u=o.removedNodes[a];if(Fc in u)return!1;u instanceof Element&&(r.add(u),qg(o.target,u),La.set(u,[o.previousSibling,o.nextSibling]))}}return r},new Set)}function qg(t,e){!e&&!(ys in t)?Object.defineProperty(t,ys,{value:t}):e&&!(ys in e)&&Object.defineProperty(e,ys,{value:t})}function xz(t){var e,n;const r=t.isConnected,o=In.has(t);r&&La.has(t)&&La.delete(t),((e=Ai.get(t))===null||e===void 0?void 0:e.playState)!=="finished"&&((n=Ai.get(t))===null||n===void 0||n.cancel()),Dh in t?$S(t):o&&r?Ez(t):o&&!r?Cz(t):$S(t)}function kr(t){return Number(t.replace(/[^0-9.\-]/g,""))}function Sz(t){let e=t.parentElement;for(;e;){if(e.scrollLeft||e.scrollTop)return{x:e.scrollLeft,y:e.scrollTop};e=e.parentElement}return{x:0,y:0}}function Jl(t){const e=t.getBoundingClientRect(),{x:n,y:r}=Sz(t);return{top:e.top+r,left:e.left+n,width:e.width,height:e.height}}function LT(t,e,n){let r=e.width,o=e.height,a=n.width,u=n.height;const d=getComputedStyle(t);if(d.getPropertyValue("box-sizing")==="content-box"){const p=kr(d.paddingTop)+kr(d.paddingBottom)+kr(d.borderTopWidth)+kr(d.borderBottomWidth),g=kr(d.paddingLeft)+kr(d.paddingRight)+kr(d.borderRightWidth)+kr(d.borderLeftWidth);r-=g,a-=g,o-=p,u-=p}return[r,a,o,u].map(Math.round)}function rm(t){return ys in t&&Ra.has(t[ys])?Ra.get(t[ys]):{duration:250,easing:"ease-in-out"}}function PT(t){if(ys in t)return t[ys]}function j0(t){const e=PT(t);return e?Nl.has(e):!1}function ph(t,...e){e.forEach(n=>n(t,Ra.has(t)));for(let n=0;n<t.children.length;n++){const r=t.children.item(n);r&&e.forEach(o=>o(r,Ra.has(r)))}}function B0(t){return Array.isArray(t)?t:[t]}function $c(t){return typeof t=="function"}function Ez(t){const e=In.get(t),n=Jl(t);if(!j0(t))return In.set(t,n);if(RT(t)){In.set(t,n),N0(t);return}let r;if(!e)return;const o=rm(t);if(typeof o!="function"){let a=e.left-n.left,u=e.top-n.top;const d=e.left+e.width-(n.left+n.width);e.top+e.height-(n.top+n.height)==0&&(u=0),d==0&&(a=0);const[p,g,y,w]=LT(t,e,n),x={transform:`translate(${a}px, ${u}px)`},C={transform:"translate(0, 0)"};p!==g&&(x.width=`${p}px`,C.width=`${g}px`),y!==w&&(x.height=`${y}px`,C.height=`${w}px`),r=t.animate([x,C],{duration:o.duration,easing:o.easing})}else{const[a]=B0(o(t,"remain",e,n));r=new Animation(a),r.play()}Ai.set(t,r),In.set(t,n),r.addEventListener("finish",za.bind(null,t,!1),{once:!0})}function $S(t){Dh in t&&delete t[Dh];const e=Jl(t);In.set(t,e);const n=rm(t);if(!j0(t))return;if(RT(t)){N0(t);return}let r;if(typeof n!="function")r=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[o]=B0(n(t,"add",e));r=new Animation(o),r.play()}Ai.set(t,r),r.addEventListener("finish",za.bind(null,t,!1),{once:!0})}function HS(t,e){var n;t.remove(),In.delete(t),La.delete(t),Ai.delete(t),(n=Vc.get(t))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(Fc in t&&delete t[Fc],Object.defineProperty(t,Dh,{value:!0,configurable:!0}),e&&t instanceof HTMLElement)for(const r in e)t.style[r]=""},0)}function Cz(t){var e;if(!La.has(t)||!In.has(t))return;const[n,r]=La.get(t);Object.defineProperty(t,Fc,{value:!0,configurable:!0});const o=window.scrollX,a=window.scrollY;if(r&&r.parentNode&&r.parentNode instanceof Element?r.parentNode.insertBefore(t,r):n&&n.parentNode?n.parentNode.appendChild(t):(e=PT(t))===null||e===void 0||e.appendChild(t),!j0(t))return HS(t);const[u,d,m,p]=Az(t),g=rm(t),y=In.get(t);(o!==k0||a!==D0)&&Tz(t,o,a,g);let w,x={position:"absolute",top:`${u}px`,left:`${d}px`,width:`${m}px`,height:`${p}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!$c(g))Object.assign(t.style,x),w=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:g.duration,easing:"ease-out"});else{const[C,E]=B0(g(t,"remove",y));E?.styleReset!==!1&&(x=E?.styleReset||x,Object.assign(t.style,x)),w=new Animation(C),w.play()}Ai.set(t,w),w.addEventListener("finish",()=>HS(t,x),{once:!0})}function Tz(t,e,n,r){const o=k0-e,a=D0-n,u=document.documentElement.style.scrollBehavior;if(getComputedStyle(ui).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+o,window.scrollY+a),!t.parentElement)return;const m=t.parentElement;let p=m.clientHeight,g=m.clientWidth;const y=performance.now();function w(){requestAnimationFrame(()=>{if(!$c(r)){const x=p-m.clientHeight,C=g-m.clientWidth;y+r.duration>performance.now()?(window.scrollTo({left:window.scrollX-C,top:window.scrollY-x}),p=m.clientHeight,g=m.clientWidth,w()):document.documentElement.style.scrollBehavior=u}})}w()}function Az(t){var e;const n=In.get(t),[r,,o]=LT(t,n,Jl(t));let a=t.parentElement;for(;a&&(getComputedStyle(a).position==="static"||a instanceof HTMLBodyElement);)a=a.parentElement;a||(a=document.body);const u=getComputedStyle(a),d=!Ai.has(t)||((e=Ai.get(t))===null||e===void 0?void 0:e.playState)==="finished"?Jl(a):In.get(a),m=Math.round(n.top-d.top)-kr(u.borderTopWidth),p=Math.round(n.left-d.left)-kr(u.borderLeftWidth);return[m,p,r,o]}function Rz(t,e={}){if(MT&&vs&&!(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!$c(e)&&!e.disrespectUserMotionPreference)){Nl.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),ph(t,za,bz,u=>vs?.observe(u)),$c(e)?Ra.set(t,e):Ra.set(t,{duration:250,easing:"ease-in-out",...e});const a=new MutationObserver(AT);a.observe(t,{childList:!0}),Hg.set(t,a),ly.add(t)}return Object.freeze({parent:t,enable:()=>{Nl.add(t)},disable:()=>{Nl.delete(t),ph(t,r=>{const o=Ai.get(r);try{o?.cancel()}catch{}Ai.delete(r);const a=yo.get(r);a&&clearTimeout(a),yo.delete(r);const u=Ec.get(r);u&&clearInterval(u),Ec.delete(r)})},isEnabled:()=>Nl.has(t),destroy:()=>{Nl.delete(t),ly.delete(t),Ra.delete(t);const r=Hg.get(t);r?.disconnect(),Hg.delete(t),ph(t,o=>{vs?.unobserve(o);const a=Ai.get(o);try{a?.cancel()}catch{}Ai.delete(o);const u=Vc.get(o);u?.disconnect(),Vc.delete(o);const d=Ec.get(o);d&&clearInterval(d),Ec.delete(o);const m=yo.get(o);m&&clearTimeout(m),yo.delete(o),In.delete(o),La.delete(o)})}})}function Oz(t){const[e,n]=O.useState(),r=O.useMemo(()=>t,[]),o=O.useCallback(u=>{u instanceof HTMLElement?n(Rz(u,r)):n(void 0)},[r]),a=O.useCallback(u=>{e&&(u?e.enable():e.disable())},[e]);return O.useEffect(()=>()=>{var u;(u=e?.destroy)===null||u===void 0||u.call(e)},[e]),[o,a]}function bo(t){return t?t>=1e9?`${(t/1e9).toFixed(1)} mdr kr`:t>=1e6?`${(t/1e6).toFixed(0)} mkr`:`${(t/1e3).toFixed(0)} tkr`:"-"}function kT(t){return t==null?"-":`${t>=0?"+":""}${t.toFixed(1)}%`}function tu(t){if(!t)return"";const e=t.toLowerCase();return e.includes("climate")||e.includes("milj")||e.includes("energi")?"":e.includes("health")||e.includes("hlsa")||e.includes("med")?"":e.includes("fintech")||e.includes("finans")?"":e.includes("edtech")||e.includes("utbild")?"":e.includes("food")||e.includes("mat")||e.includes("agri")?"":e.includes("mobility")||e.includes("transport")?"":e.includes("circular")||e.includes("tervinning")?"":e.includes("social")||e.includes("samhll")?"":""}function z0(t){if(!t)return"bg-gray-100 text-gray-700";const e=t.toLowerCase();return e.includes("climate")||e.includes("milj")||e.includes("energi")?"bg-green-100 text-green-700":e.includes("health")||e.includes("hlsa")||e.includes("med")?"bg-rose-100 text-rose-700":e.includes("fintech")||e.includes("finans")?"bg-amber-100 text-amber-700":e.includes("edtech")||e.includes("utbild")?"bg-blue-100 text-blue-700":e.includes("food")||e.includes("mat")||e.includes("agri")?"bg-lime-100 text-lime-700":e.includes("mobility")||e.includes("transport")?"bg-purple-100 text-purple-700":e.includes("circular")||e.includes("tervinning")?"bg-teal-100 text-teal-700":e.includes("social")||e.includes("samhll")?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}function Mz({companies:t}){const{filters:e,setSelectedCompany:n}=Ts(),[r,o]=O.useState([]),[a]=Oz({duration:200}),u=O.useMemo(()=>new Ba(t,{keys:["name","city","sector","orgnr"],threshold:.3,includeScore:!0}),[t]),d=O.useMemo(()=>{let E=t;if(e.sector&&(E=E.filter(R=>R.sector===e.sector)),e.search&&e.search.length>0){const R=u.search(e.search),M=new Set(R.map(j=>j.item.orgnr));E=E.filter(j=>M.has(j.orgnr))}return E},[t,e.sector,e.search,u]),m=O.useMemo(()=>[{id:"company",accessorKey:"name",header:"Fretag",cell:({row:E})=>{const R=E.original;return P.jsxs("div",{className:"flex items-center gap-3",children:[R.logo_url?P.jsx("div",{className:"relative",children:P.jsx("img",{src:R.logo_url,alt:R.name,className:"w-10 h-10 rounded-xl object-contain bg-gradient-to-br from-gray-50 to-gray-100 p-1.5 border border-gray-200 shadow-sm group-hover:shadow-md transition-all duration-300"})}):P.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-loop-lime via-loop-lime-dark to-loop-lime flex items-center justify-center text-loop-black font-bold text-lg shadow-md group-hover:shadow-lg transition-all duration-300 group-hover:scale-110",children:tu(R.sector)}),P.jsxs("div",{className:"min-w-0",children:[P.jsx("div",{className:"font-semibold text-gray-900 truncate group-hover:text-primary-blue transition-colors duration-300",children:R.name}),P.jsx("div",{className:"text-xs text-gray-400 font-mono mt-0.5",children:R.orgnr})]})]})},size:300},{accessorKey:"sector",header:"Sektor",cell:({getValue:E})=>{const R=E();return R?P.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-semibold border truncate group-hover:shadow-md transition-all duration-300 ${z0(R)}`,children:[P.jsx("span",{className:"text-sm",children:tu(R)}),R]}):P.jsx("span",{className:"text-gray-300 text-sm",children:""})},size:180},{accessorKey:"turnover_2024_sek",header:"Omsttning",cell:({getValue:E})=>{const R=E();return R?P.jsx("span",{className:"font-bold text-gray-900 tabular-nums text-sm",children:bo(R)}):P.jsx("span",{className:"text-gray-300 text-sm",children:""})},size:120},{accessorKey:"growth_2023_2024_percent",header:"Tillvxt",cell:({getValue:E})=>{const R=E();return R===null?P.jsx("span",{className:"text-gray-300 text-sm",children:""}):P.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[P.jsx("div",{className:`p-1 rounded-lg ${R>=0?"bg-green-100":"bg-red-100"}`,children:R>=0?P.jsx(im,{className:"w-3.5 h-3.5 text-green-600"}):P.jsx(EB,{className:"w-3.5 h-3.5 text-red-600"})}),P.jsx("span",{className:`font-bold tabular-nums text-sm ${R>=0?"text-green-600":"text-red-600"}`,children:kT(R)})]})},size:120},{accessorKey:"total_funding_sek",header:"Funding",cell:({getValue:E})=>{const R=E();return R?P.jsx("span",{className:"text-gray-700 tabular-nums text-sm",children:bo(R)}):P.jsx("span",{className:"text-gray-300 text-sm",children:""})},size:120},{accessorKey:"latest_valuation_sek",header:"Vrdering",cell:({getValue:E})=>{const R=E();return R?P.jsx("span",{className:"text-gray-700 tabular-nums text-sm",children:bo(R)}):P.jsx("span",{className:"text-gray-300 text-sm",children:""})},size:120},{accessorKey:"city",header:"Plats",cell:({row:E})=>{const R=E.original;return P.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[P.jsx(Mh,{className:"w-3 h-3 flex-shrink-0"}),P.jsx("span",{className:"truncate text-sm",children:R.city||R.county||"Sverige"})]})},size:150},{id:"actions",header:"",cell:({row:E})=>{const R=E.original;return P.jsx("a",{href:`https://www.allabolag.se/${R.orgnr}`,target:"_blank",rel:"noopener noreferrer",onClick:M=>M.stopPropagation(),className:"p-2 rounded-xl text-gray-400 hover:text-white hover:bg-gradient-to-br hover:from-primary-blue hover:to-purple transition-all duration-300 hover:shadow-lg hover:scale-110",children:P.jsx(L0,{className:"w-4 h-4"})})},size:80}],[]),p=xj({data:d,columns:m,state:{sorting:r},onSortingChange:o,getCoreRowModel:vj(),getSortedRowModel:yj()}),{rows:g}=p.getRowModel(),y=O.useMemo(()=>({current:null}),[]),w=Dj({count:g.length,getScrollElement:()=>y.current,estimateSize:()=>72,overscan:10}),x=w.getVirtualItems(),C=w.getTotalSize();return P.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full flex flex-col bg-gradient-to-b from-white to-gray-50",children:[P.jsx("div",{className:"sticky top-0 bg-white border-b-2 border-gray-200 z-10 shadow-sm min-w-[900px]",children:P.jsx("div",{className:"flex px-6 py-4",children:p.getHeaderGroups().map(E=>P.jsx("div",{className:"flex w-full",children:E.headers.map(R=>{const M=R.column.getIsSorted(),j=R.column.getCanSort();return P.jsx("div",{style:{width:R.getSize()},className:"flex-shrink-0",children:R.isPlaceholder?null:P.jsxs("button",{onClick:R.column.getToggleSortingHandler(),disabled:!j,className:`flex items-center gap-1.5 text-xs font-bold text-gray-600 uppercase tracking-wider hover:text-gray-900 transition-colors ${j?"cursor-pointer":"cursor-default"} ${R.id==="turnover_2024_sek"||R.id==="growth_2023_2024_percent"||R.id==="total_funding_sek"||R.id==="latest_valuation_sek"?"justify-end":""}`,children:[LS(R.column.columnDef.header,R.getContext()),j&&P.jsxs(P.Fragment,{children:[!M&&P.jsx(tB,{className:"w-3.5 h-3.5 text-gray-400"}),M==="asc"&&P.jsx(Qj,{className:"w-3.5 h-3.5 text-primary-blue"}),M==="desc"&&P.jsx(Yj,{className:"w-3.5 h-3.5 text-primary-blue"})]})]})},R.id)})},E.id))})}),P.jsxs("div",{ref:y,className:"flex-1 overflow-auto",style:{contain:"strict"},children:[P.jsx("div",{style:{height:`${C}px`,width:"100%",position:"relative"},className:"min-w-[900px]",children:P.jsx("div",{ref:a,style:{position:"absolute",top:0,left:0,width:"100%"},children:x.map(E=>{const R=g[E.index],M=E.index%2===0;return P.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${E.size}px`,transform:`translateY(${E.start}px)`},onClick:()=>n(R.original),className:`flex px-6 py-5 cursor-pointer transition-all duration-200 group hover:scale-[1.005] hover:shadow-md hover:z-10 rounded-lg mx-2 border border-transparent hover:border-gray-200 ${M?"bg-white hover:bg-gray-50/50":"bg-gray-50/30 hover:bg-gray-50"}`,children:R.getVisibleCells().map(j=>P.jsx("div",{style:{width:j.column.getSize()},className:`flex items-center flex-shrink-0 ${j.column.id==="turnover_2024_sek"||j.column.id==="growth_2023_2024_percent"||j.column.id==="total_funding_sek"||j.column.id==="latest_valuation_sek"?"justify-end":""}`,children:LS(j.column.columnDef.cell,j.getContext())},j.id))},R.id)})})}),d.length===0&&P.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-500",children:[P.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:P.jsx(Mh,{className:"w-6 h-6 text-gray-400"})}),P.jsx("p",{className:"text-sm",children:"Inga fretag matchar din skning"})]})]}),P.jsx("div",{className:"sticky bottom-0 bg-white border-t-2 border-gray-200 px-6 py-4 shadow-sm",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:["Visar ",P.jsx("span",{className:"font-bold text-gray-900 tabular-nums",children:d.length})," av ",P.jsx("span",{className:"font-bold text-gray-900 tabular-nums",children:t.length})," fretag"]}),r.length>0&&P.jsxs("p",{className:"text-xs text-gray-500",children:["Sorterat p: ",P.jsx("span",{className:"text-primary-blue font-semibold",children:r[0].id})," (",r[0].desc?"":"",")"]})]})})]})}function wo(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t?.(o),n===!1||!o.defaultPrevented)return e?.(o)}}function qS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Pa(...t){return e=>{let n=!1;const r=t.map(o=>{const a=qS(o,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():qS(t[o],null)}}}}function Ia(...t){return O.useCallback(Pa(...t),t)}function Lz(t,e){const n=O.createContext(e),r=a=>{const{children:u,...d}=a,m=O.useMemo(()=>d,Object.values(d));return P.jsx(n.Provider,{value:m,children:u})};r.displayName=t+"Provider";function o(a){const u=O.useContext(n);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,o]}function Pz(t,e=[]){let n=[];function r(a,u){const d=O.createContext(u),m=n.length;n=[...n,u];const p=y=>{const{scope:w,children:x,...C}=y,E=w?.[t]?.[m]||d,R=O.useMemo(()=>C,Object.values(C));return P.jsx(E.Provider,{value:R,children:x})};p.displayName=a+"Provider";function g(y,w){const x=w?.[t]?.[m]||d,C=O.useContext(x);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[p,g]}const o=()=>{const a=n.map(u=>O.createContext(u));return function(d){const m=d?.[t]||a;return O.useMemo(()=>({[`__scope${t}`]:{...d,[t]:m}}),[d,m])}};return o.scopeName=t,[r,kz(o,...e)]}function kz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=r.reduce((d,{useScope:m,scopeName:p})=>{const y=m(a)[`__scope${p}`];return{...d,...y}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var Hc=globalThis?.document?O.useLayoutEffect:()=>{},Dz=Yh[" useId ".trim().toString()]||(()=>{}),Nz=0;function _s(t){const[e,n]=O.useState(Dz());return Hc(()=>{n(r=>r??String(Nz++))},[t]),t||(e?`radix-${e}`:"")}var jz=Yh[" useInsertionEffect ".trim().toString()]||Hc;function Bz({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[o,a,u]=zz({defaultProp:e,onChange:n}),d=t!==void 0,m=d?t:o;{const g=O.useRef(t!==void 0);O.useEffect(()=>{const y=g.current;y!==d&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,r])}const p=O.useCallback(g=>{if(d){const y=Iz(g)?g(t):g;y!==t&&u.current?.(y)}else a(g)},[d,t,a,u]);return[m,p]}function zz({defaultProp:t,onChange:e}){const[n,r]=O.useState(t),o=O.useRef(n),a=O.useRef(e);return jz(()=>{a.current=e},[e]),O.useEffect(()=>{o.current!==n&&(a.current?.(n),o.current=n)},[n,o]),[n,r,a]}function Iz(t){return typeof t=="function"}function DT(t){const e=Uz(t),n=O.forwardRef((r,o)=>{const{children:a,...u}=r,d=O.Children.toArray(a),m=d.find(Fz);if(m){const p=m.props.children,g=d.map(y=>y===m?O.Children.count(p)>1?O.Children.only(null):O.isValidElement(p)?p.props.children:null:y);return P.jsx(e,{...u,ref:o,children:O.isValidElement(p)?O.cloneElement(p,void 0,g):null})}return P.jsx(e,{...u,ref:o,children:a})});return n.displayName=`${t}.Slot`,n}function Uz(t){const e=O.forwardRef((n,r)=>{const{children:o,...a}=n;if(O.isValidElement(o)){const u=Hz(o),d=$z(a,o.props);return o.type!==O.Fragment&&(d.ref=r?Pa(r,u):u),O.cloneElement(o,d)}return O.Children.count(o)>1?O.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Vz=Symbol("radix.slottable");function Fz(t){return O.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Vz}function $z(t,e){const n={...e};for(const r in e){const o=t[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...d)=>{const m=a(...d);return o(...d),m}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...t,...n}}function Hz(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var qz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],On=qz.reduce((t,e)=>{const n=DT(`Primitive.${e}`),r=O.forwardRef((o,a)=>{const{asChild:u,...d}=o,m=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(m,{...d,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Gz(t,e){t&&su.flushSync(()=>t.dispatchEvent(e))}function qc(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t}),O.useMemo(()=>(...n)=>e.current?.(...n),[])}function Zz(t,e=globalThis?.document){const n=qc(t);O.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Kz="DismissableLayer",uy="dismissableLayer.update",Wz="dismissableLayer.pointerDownOutside",Yz="dismissableLayer.focusOutside",GS,NT=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jT=O.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...m}=t,p=O.useContext(NT),[g,y]=O.useState(null),w=g?.ownerDocument??globalThis?.document,[,x]=O.useState({}),C=Ia(e,U=>y(U)),E=Array.from(p.layers),[R]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),M=E.indexOf(R),j=g?E.indexOf(g):-1,D=p.layersWithOutsidePointerEventsDisabled.size>0,B=j>=M,q=Jz(U=>{const Y=U.target,ot=[...p.branches].some(gt=>gt.contains(Y));!B||ot||(o?.(U),u?.(U),U.defaultPrevented||d?.())},w),W=tI(U=>{const Y=U.target;[...p.branches].some(gt=>gt.contains(Y))||(a?.(U),u?.(U),U.defaultPrevented||d?.())},w);return Zz(U=>{j===p.layers.size-1&&(r?.(U),!U.defaultPrevented&&d&&(U.preventDefault(),d()))},w),O.useEffect(()=>{if(g)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(GS=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),ZS(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=GS)}},[g,w,n,p]),O.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),ZS())},[g,p]),O.useEffect(()=>{const U=()=>x({});return document.addEventListener(uy,U),()=>document.removeEventListener(uy,U)},[]),P.jsx(On.div,{...m,ref:C,style:{pointerEvents:D?B?"auto":"none":void 0,...t.style},onFocusCapture:wo(t.onFocusCapture,W.onFocusCapture),onBlurCapture:wo(t.onBlurCapture,W.onBlurCapture),onPointerDownCapture:wo(t.onPointerDownCapture,q.onPointerDownCapture)})});jT.displayName=Kz;var Xz="DismissableLayerBranch",Qz=O.forwardRef((t,e)=>{const n=O.useContext(NT),r=O.useRef(null),o=Ia(e,r);return O.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),P.jsx(On.div,{...t,ref:o})});Qz.displayName=Xz;function Jz(t,e=globalThis?.document){const n=qc(t),r=O.useRef(!1),o=O.useRef(()=>{});return O.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let m=function(){BT(Wz,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=m,e.addEventListener("click",o.current,{once:!0})):m()}else e.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function tI(t,e=globalThis?.document){const n=qc(t),r=O.useRef(!1);return O.useEffect(()=>{const o=a=>{a.target&&!r.current&&BT(Yz,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ZS(){const t=new CustomEvent(uy);document.dispatchEvent(t)}function BT(t,e,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?Gz(o,a):o.dispatchEvent(a)}var Gg="focusScope.autoFocusOnMount",Zg="focusScope.autoFocusOnUnmount",KS={bubbles:!1,cancelable:!0},eI="FocusScope",zT=O.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...u}=t,[d,m]=O.useState(null),p=qc(o),g=qc(a),y=O.useRef(null),w=Ia(e,E=>m(E)),x=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(r){let E=function(D){if(x.paused||!d)return;const B=D.target;d.contains(B)?y.current=B:mo(y.current,{select:!0})},R=function(D){if(x.paused||!d)return;const B=D.relatedTarget;B!==null&&(d.contains(B)||mo(y.current,{select:!0}))},M=function(D){if(document.activeElement===document.body)for(const q of D)q.removedNodes.length>0&&mo(d)};document.addEventListener("focusin",E),document.addEventListener("focusout",R);const j=new MutationObserver(M);return d&&j.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",R),j.disconnect()}}},[r,d,x.paused]),O.useEffect(()=>{if(d){YS.add(x);const E=document.activeElement;if(!d.contains(E)){const M=new CustomEvent(Gg,KS);d.addEventListener(Gg,p),d.dispatchEvent(M),M.defaultPrevented||(nI(aI(IT(d)),{select:!0}),document.activeElement===E&&mo(d))}return()=>{d.removeEventListener(Gg,p),setTimeout(()=>{const M=new CustomEvent(Zg,KS);d.addEventListener(Zg,g),d.dispatchEvent(M),M.defaultPrevented||mo(E??document.body,{select:!0}),d.removeEventListener(Zg,g),YS.remove(x)},0)}}},[d,p,g,x]);const C=O.useCallback(E=>{if(!n&&!r||x.paused)return;const R=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,M=document.activeElement;if(R&&M){const j=E.currentTarget,[D,B]=iI(j);D&&B?!E.shiftKey&&M===B?(E.preventDefault(),n&&mo(D,{select:!0})):E.shiftKey&&M===D&&(E.preventDefault(),n&&mo(B,{select:!0})):M===j&&E.preventDefault()}},[n,r,x.paused]);return P.jsx(On.div,{tabIndex:-1,...u,ref:w,onKeyDown:C})});zT.displayName=eI;function nI(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(mo(r,{select:e}),document.activeElement!==n)return}function iI(t){const e=IT(t),n=WS(e,t),r=WS(e.reverse(),t);return[n,r]}function IT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function WS(t,e){for(const n of t)if(!rI(n,{upTo:e}))return n}function rI(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sI(t){return t instanceof HTMLInputElement&&"select"in t}function mo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&sI(t)&&e&&t.select()}}var YS=oI();function oI(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=XS(t,e),t.unshift(e)},remove(e){t=XS(t,e),t[0]?.resume()}}}function XS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function aI(t){return t.filter(e=>e.tagName!=="A")}var lI="Portal",UT=O.forwardRef((t,e)=>{const{container:n,...r}=t,[o,a]=O.useState(!1);Hc(()=>a(!0),[]);const u=n||o&&globalThis?.document?.body;return u?bE.createPortal(P.jsx(On.div,{...r,ref:e}),u):null});UT.displayName=lI;function uI(t,e){return O.useReducer((n,r)=>e[n][r]??n,t)}var sm=t=>{const{present:e,children:n}=t,r=cI(e),o=typeof n=="function"?n({present:r.isPresent}):O.Children.only(n),a=Ia(r.ref,dI(o));return typeof n=="function"||r.isPresent?O.cloneElement(o,{ref:a}):null};sm.displayName="Presence";function cI(t){const[e,n]=O.useState(),r=O.useRef(null),o=O.useRef(t),a=O.useRef("none"),u=t?"mounted":"unmounted",[d,m]=uI(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const p=$f(r.current);a.current=d==="mounted"?p:"none"},[d]),Hc(()=>{const p=r.current,g=o.current;if(g!==t){const w=a.current,x=$f(p);t?m("MOUNT"):x==="none"||p?.display==="none"?m("UNMOUNT"):m(g&&w!==x?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,m]),Hc(()=>{if(e){let p;const g=e.ownerDocument.defaultView??window,y=x=>{const E=$f(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&E&&(m("ANIMATION_END"),!o.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},w=x=>{x.target===e&&(a.current=$f(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(p),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:O.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function $f(t){return t?.animationName||"none"}function dI(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Kg=0;function fI(){O.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??QS()),document.body.insertAdjacentElement("beforeend",t[1]??QS()),Kg++,()=>{Kg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Kg--}},[])}function QS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var cy=function(t,e){return cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},cy(t,e)};function VT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Zi=function(){return Zi=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zi.apply(this,arguments)};function Oo(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function FT(t,e,n,r){var o=arguments.length,a=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(a=(o<3?u(a):o>3?u(e,n,a):u(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function $T(t,e){return function(n,r){e(n,r,t)}}function HT(t,e,n,r,o,a){function u(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var d=r.kind,m=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&t?r.static?t:t.prototype:null,g=e||(p?Object.getOwnPropertyDescriptor(p,r.name):{}),y,w=!1,x=n.length-1;x>=0;x--){var C={};for(var E in r)C[E]=E==="access"?{}:r[E];for(var E in r.access)C.access[E]=r.access[E];C.addInitializer=function(M){if(w)throw new TypeError("Cannot add initializers after decoration has completed");a.push(u(M||null))};var R=(0,n[x])(d==="accessor"?{get:g.get,set:g.set}:g[m],C);if(d==="accessor"){if(R===void 0)continue;if(R===null||typeof R!="object")throw new TypeError("Object expected");(y=u(R.get))&&(g.get=y),(y=u(R.set))&&(g.set=y),(y=u(R.init))&&o.unshift(y)}else(y=u(R))&&(d==="field"?o.unshift(y):g[m]=y)}p&&Object.defineProperty(p,r.name,g),w=!0}function qT(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function GT(t){return typeof t=="symbol"?t:"".concat(t)}function ZT(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function KT(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ct(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(g){try{p(r.next(g))}catch(y){u(y)}}function m(g){try{p(r.throw(g))}catch(y){u(y)}}function p(g){g.done?a(g.value):o(g.value).then(d,m)}p((r=r.apply(t,e||[])).next())})}function WT(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(g){return m([p,g])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,o&&(a=p[0]&2?o.return:p[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,p[1])).done)return a;switch(o=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(g){p=[6,g],o=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var om=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});function YT(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&om(e,t,n)}function Nh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function I0(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,a=[],u;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(d){u={error:d}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return a}function XT(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(I0(arguments[e]));return t}function QT(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var a=arguments[e],u=0,d=a.length;u<d;u++,o++)r[o]=a[u];return r}function U0(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function eu(t){return this instanceof eu?(this.v=t,this):new eu(t)}function JT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(x){return function(C){return Promise.resolve(C).then(x,y)}}function d(x,C){r[x]&&(o[x]=function(E){return new Promise(function(R,M){a.push([x,E,R,M])>1||m(x,E)})},C&&(o[x]=C(o[x])))}function m(x,C){try{p(r[x](C))}catch(E){w(a[0][3],E)}}function p(x){x.value instanceof eu?Promise.resolve(x.value.v).then(g,y):w(a[0][2],x)}function g(x){m("next",x)}function y(x){m("throw",x)}function w(x,C){x(C),a.shift(),a.length&&m(a[0][0],a[0][1])}}function tA(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,a){e[o]=t[o]?function(u){return(n=!n)?{value:eu(t[o](u)),done:!1}:a?a(u):u}:a}}function eA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Nh=="function"?Nh(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(u){return new Promise(function(d,m){u=t[a](u),o(d,m,u.done,u.value)})}}function o(a,u,d,m){Promise.resolve(m).then(function(p){a({value:p,done:d})},u)}}function nA(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var hI=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},dy=function(t){return dy=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},dy(t)};function iA(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=dy(t),r=0;r<n.length;r++)n[r]!=="default"&&om(e,t,n[r]);return hI(e,t),e}function rA(t){return t&&t.__esModule?t:{default:t}}function sA(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function oA(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function aA(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function lA(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var mI=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function uA(t){function e(a){t.error=t.hasError?new mI(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(o,function(u){return e(u),o()})}else r|=1}catch(u){e(u)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function cA(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,a,u){return r?e?".jsx":".js":o&&(!a||!u)?n:o+a+"."+u.toLowerCase()+"js"}):t}const pI={__extends:VT,__assign:Zi,__rest:Oo,__decorate:FT,__param:$T,__esDecorate:HT,__runInitializers:qT,__propKey:GT,__setFunctionName:ZT,__metadata:KT,__awaiter:Ct,__generator:WT,__createBinding:om,__exportStar:YT,__values:Nh,__read:I0,__spread:XT,__spreadArrays:QT,__spreadArray:U0,__await:eu,__asyncGenerator:JT,__asyncDelegator:tA,__asyncValues:eA,__makeTemplateObject:nA,__importStar:iA,__importDefault:rA,__classPrivateFieldGet:sA,__classPrivateFieldSet:oA,__classPrivateFieldIn:aA,__addDisposableResource:lA,__disposeResources:uA,__rewriteRelativeImportExtension:cA},gI=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:lA,get __assign(){return Zi},__asyncDelegator:tA,__asyncGenerator:JT,__asyncValues:eA,__await:eu,__awaiter:Ct,__classPrivateFieldGet:sA,__classPrivateFieldIn:aA,__classPrivateFieldSet:oA,__createBinding:om,__decorate:FT,__disposeResources:uA,__esDecorate:HT,__exportStar:YT,__extends:VT,__generator:WT,__importDefault:rA,__importStar:iA,__makeTemplateObject:nA,__metadata:KT,__param:$T,__propKey:GT,__read:I0,__rest:Oo,__rewriteRelativeImportExtension:cA,__runInitializers:qT,__setFunctionName:ZT,__spread:XT,__spreadArray:U0,__spreadArrays:QT,__values:Nh,default:pI},Symbol.toStringTag,{value:"Module"}));var gh="right-scroll-bar-position",vh="width-before-scroll-bar",vI="with-scroll-bars-hidden",yI="--removed-body-scroll-bar-size";function Wg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _I(t,e){var n=O.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}var bI=typeof window<"u"?O.useLayoutEffect:O.useEffect,JS=new WeakMap;function wI(t,e){var n=_I(null,function(r){return t.forEach(function(o){return Wg(o,r)})});return bI(function(){var r=JS.get(n);if(r){var o=new Set(r),a=new Set(t),u=n.current;o.forEach(function(d){a.has(d)||Wg(d,null)}),a.forEach(function(d){o.has(d)||Wg(d,u)})}JS.set(n,t)},[t]),n}function xI(t){return t}function SI(t,e){e===void 0&&(e=xI);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var u=e(a,r);return n.push(u),function(){n=n.filter(function(d){return d!==u})}},assignSyncMedium:function(a){for(r=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){r=!0;var u=[];if(n.length){var d=n;n=[],d.forEach(a),u=n}var m=function(){var g=u;u=[],g.forEach(a)},p=function(){return Promise.resolve().then(m)};p(),n={push:function(g){u.push(g),p()},filter:function(g){return u=u.filter(g),n}}}};return o}function EI(t){t===void 0&&(t={});var e=SI(null);return e.options=Zi({async:!0,ssr:!1},t),e}var dA=function(t){var e=t.sideCar,n=Oo(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return O.createElement(r,Zi({},n))};dA.isSideCarExport=!0;function CI(t,e){return t.useMedium(e),dA}var fA=EI(),Yg=function(){},am=O.forwardRef(function(t,e){var n=O.useRef(null),r=O.useState({onScrollCapture:Yg,onWheelCapture:Yg,onTouchMoveCapture:Yg}),o=r[0],a=r[1],u=t.forwardProps,d=t.children,m=t.className,p=t.removeScrollBar,g=t.enabled,y=t.shards,w=t.sideCar,x=t.noRelative,C=t.noIsolation,E=t.inert,R=t.allowPinchZoom,M=t.as,j=M===void 0?"div":M,D=t.gapMode,B=Oo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=w,W=wI([n,e]),U=Zi(Zi({},B),o);return O.createElement(O.Fragment,null,g&&O.createElement(q,{sideCar:fA,removeScrollBar:p,shards:y,noRelative:x,noIsolation:C,inert:E,setCallbacks:a,allowPinchZoom:!!R,lockRef:n,gapMode:D}),u?O.cloneElement(O.Children.only(d),Zi(Zi({},U),{ref:W})):O.createElement(j,Zi({},U,{className:m,ref:W}),d))});am.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};am.classNames={fullWidth:vh,zeroRight:gh};var TI=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AI(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=TI();return e&&t.setAttribute("nonce",e),t}function RI(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function OI(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var MI=function(){var t=0,e=null;return{add:function(n){t==0&&(e=AI())&&(RI(e,n),OI(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},LI=function(){var t=MI();return function(e,n){O.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},hA=function(){var t=LI(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},PI={left:0,top:0,right:0,gap:0},Xg=function(t){return parseInt(t||"",10)||0},kI=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Xg(n),Xg(r),Xg(o)]},DI=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return PI;var e=kI(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},NI=hA(),Zl="data-scroll-locked",jI=function(t,e,n,r){var o=t.left,a=t.top,u=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(vI,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Zl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gh,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(vh,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(gh," .").concat(gh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vh," .").concat(vh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zl,`] {
    `).concat(yI,": ").concat(d,`px;
  }
`)},t1=function(){var t=parseInt(document.body.getAttribute(Zl)||"0",10);return isFinite(t)?t:0},BI=function(){O.useEffect(function(){return document.body.setAttribute(Zl,(t1()+1).toString()),function(){var t=t1()-1;t<=0?document.body.removeAttribute(Zl):document.body.setAttribute(Zl,t.toString())}},[])},zI=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r;BI();var a=O.useMemo(function(){return DI(o)},[o]);return O.createElement(NI,{styles:jI(a,!e,o,n?"":"!important")})},fy=!1;if(typeof window<"u")try{var Hf=Object.defineProperty({},"passive",{get:function(){return fy=!0,!0}});window.addEventListener("test",Hf,Hf),window.removeEventListener("test",Hf,Hf)}catch{fy=!1}var Rl=fy?{passive:!1}:!1,II=function(t){return t.tagName==="TEXTAREA"},mA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!II(t)&&n[e]==="visible")},UI=function(t){return mA(t,"overflowY")},VI=function(t){return mA(t,"overflowX")},e1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=pA(t,r);if(o){var a=gA(t,r),u=a[1],d=a[2];if(u>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},FI=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},$I=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},pA=function(t,e){return t==="v"?UI(e):VI(e)},gA=function(t,e){return t==="v"?FI(e):$I(e)},HI=function(t,e){return t==="h"&&e==="rtl"?-1:1},qI=function(t,e,n,r,o){var a=HI(t,window.getComputedStyle(e).direction),u=a*r,d=n.target,m=e.contains(d),p=!1,g=u>0,y=0,w=0;do{if(!d)break;var x=gA(t,d),C=x[0],E=x[1],R=x[2],M=E-R-a*C;(C||M)&&pA(t,d)&&(y+=M,w+=C);var j=d.parentNode;d=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!m&&d!==document.body||m&&(e.contains(d)||e===d));return(g&&Math.abs(y)<1||!g&&Math.abs(w)<1)&&(p=!0),p},qf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},n1=function(t){return[t.deltaX,t.deltaY]},i1=function(t){return t&&"current"in t?t.current:t},GI=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ZI=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},KI=0,Ol=[];function WI(t){var e=O.useRef([]),n=O.useRef([0,0]),r=O.useRef(),o=O.useState(KI++)[0],a=O.useState(hA)[0],u=O.useRef(t);O.useEffect(function(){u.current=t},[t]),O.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var E=U0([t.lockRef.current],(t.shards||[]).map(i1),!0).filter(Boolean);return E.forEach(function(R){return R.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),E.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var d=O.useCallback(function(E,R){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!u.current.allowPinchZoom;var M=qf(E),j=n.current,D="deltaX"in E?E.deltaX:j[0]-M[0],B="deltaY"in E?E.deltaY:j[1]-M[1],q,W=E.target,U=Math.abs(D)>Math.abs(B)?"h":"v";if("touches"in E&&U==="h"&&W.type==="range")return!1;var Y=window.getSelection(),ot=Y&&Y.anchorNode,gt=ot?ot===W||ot.contains(W):!1;if(gt)return!1;var yt=e1(U,W);if(!yt)return!0;if(yt?q=U:(q=U==="v"?"h":"v",yt=e1(U,W)),!yt)return!1;if(!r.current&&"changedTouches"in E&&(D||B)&&(r.current=q),!q)return!0;var _t=r.current||q;return qI(_t,R,E,_t==="h"?D:B)},[]),m=O.useCallback(function(E){var R=E;if(!(!Ol.length||Ol[Ol.length-1]!==a)){var M="deltaY"in R?n1(R):qf(R),j=e.current.filter(function(q){return q.name===R.type&&(q.target===R.target||R.target===q.shadowParent)&&GI(q.delta,M)})[0];if(j&&j.should){R.cancelable&&R.preventDefault();return}if(!j){var D=(u.current.shards||[]).map(i1).filter(Boolean).filter(function(q){return q.contains(R.target)}),B=D.length>0?d(R,D[0]):!u.current.noIsolation;B&&R.cancelable&&R.preventDefault()}}},[]),p=O.useCallback(function(E,R,M,j){var D={name:E,delta:R,target:M,should:j,shadowParent:YI(M)};e.current.push(D),setTimeout(function(){e.current=e.current.filter(function(B){return B!==D})},1)},[]),g=O.useCallback(function(E){n.current=qf(E),r.current=void 0},[]),y=O.useCallback(function(E){p(E.type,n1(E),E.target,d(E,t.lockRef.current))},[]),w=O.useCallback(function(E){p(E.type,qf(E),E.target,d(E,t.lockRef.current))},[]);O.useEffect(function(){return Ol.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",m,Rl),document.addEventListener("touchmove",m,Rl),document.addEventListener("touchstart",g,Rl),function(){Ol=Ol.filter(function(E){return E!==a}),document.removeEventListener("wheel",m,Rl),document.removeEventListener("touchmove",m,Rl),document.removeEventListener("touchstart",g,Rl)}},[]);var x=t.removeScrollBar,C=t.inert;return O.createElement(O.Fragment,null,C?O.createElement(a,{styles:ZI(o)}):null,x?O.createElement(zI,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function YI(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const XI=CI(fA,WI);var vA=O.forwardRef(function(t,e){return O.createElement(am,Zi({},t,{ref:e,sideCar:XI}))});vA.classNames=am.classNames;var QI=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ml=new WeakMap,Gf=new WeakMap,Zf={},Qg=0,yA=function(t){return t&&(t.host||yA(t.parentNode))},JI=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=yA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},t3=function(t,e,n,r){var o=JI(e,Array.isArray(t)?t:[t]);Zf[n]||(Zf[n]=new WeakMap);var a=Zf[n],u=[],d=new Set,m=new Set(o),p=function(y){!y||d.has(y)||(d.add(y),p(y.parentNode))};o.forEach(p);var g=function(y){!y||m.has(y)||Array.prototype.forEach.call(y.children,function(w){if(d.has(w))g(w);else try{var x=w.getAttribute(r),C=x!==null&&x!=="false",E=(Ml.get(w)||0)+1,R=(a.get(w)||0)+1;Ml.set(w,E),a.set(w,R),u.push(w),E===1&&C&&Gf.set(w,!0),R===1&&w.setAttribute(n,"true"),C||w.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",w,M)}})};return g(e),d.clear(),Qg++,function(){u.forEach(function(y){var w=Ml.get(y)-1,x=a.get(y)-1;Ml.set(y,w),a.set(y,x),w||(Gf.has(y)||y.removeAttribute(r),Gf.delete(y)),x||y.removeAttribute(n)}),Qg--,Qg||(Ml=new WeakMap,Ml=new WeakMap,Gf=new WeakMap,Zf={})}},e3=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=QI(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),t3(r,o,n,"aria-hidden")):function(){return null}},lm="Dialog",[_A]=Pz(lm),[n3,pr]=_A(lm),bA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:u=!0}=t,d=O.useRef(null),m=O.useRef(null),[p,g]=Bz({prop:r,defaultProp:o??!1,onChange:a,caller:lm});return P.jsx(n3,{scope:e,triggerRef:d,contentRef:m,contentId:_s(),titleId:_s(),descriptionId:_s(),open:p,onOpenChange:g,onOpenToggle:O.useCallback(()=>g(y=>!y),[g]),modal:u,children:n})};bA.displayName=lm;var wA="DialogTrigger",i3=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=pr(wA,n),a=Ia(e,o.triggerRef);return P.jsx(On.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":$0(o.open),...r,ref:a,onClick:wo(t.onClick,o.onOpenToggle)})});i3.displayName=wA;var V0="DialogPortal",[r3,xA]=_A(V0,{forceMount:void 0}),SA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:o}=t,a=pr(V0,e);return P.jsx(r3,{scope:e,forceMount:n,children:O.Children.map(r,u=>P.jsx(sm,{present:n||a.open,children:P.jsx(UT,{asChild:!0,container:o,children:u})}))})};SA.displayName=V0;var jh="DialogOverlay",EA=O.forwardRef((t,e)=>{const n=xA(jh,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,a=pr(jh,t.__scopeDialog);return a.modal?P.jsx(sm,{present:r||a.open,children:P.jsx(o3,{...o,ref:e})}):null});EA.displayName=jh;var s3=DT("DialogOverlay.RemoveScroll"),o3=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=pr(jh,n);return P.jsx(vA,{as:s3,allowPinchZoom:!0,shards:[o.contentRef],children:P.jsx(On.div,{"data-state":$0(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ka="DialogContent",CA=O.forwardRef((t,e)=>{const n=xA(ka,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,a=pr(ka,t.__scopeDialog);return P.jsx(sm,{present:r||a.open,children:a.modal?P.jsx(a3,{...o,ref:e}):P.jsx(l3,{...o,ref:e})})});CA.displayName=ka;var a3=O.forwardRef((t,e)=>{const n=pr(ka,t.__scopeDialog),r=O.useRef(null),o=Ia(e,n.contentRef,r);return O.useEffect(()=>{const a=r.current;if(a)return e3(a)},[]),P.jsx(TA,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wo(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:wo(t.onPointerDownOutside,a=>{const u=a.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&a.preventDefault()}),onFocusOutside:wo(t.onFocusOutside,a=>a.preventDefault())})}),l3=O.forwardRef((t,e)=>{const n=pr(ka,t.__scopeDialog),r=O.useRef(!1),o=O.useRef(!1);return P.jsx(TA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=a.target;n.triggerRef.current?.contains(u)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),TA=O.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...u}=t,d=pr(ka,n),m=O.useRef(null),p=Ia(e,m);return fI(),P.jsxs(P.Fragment,{children:[P.jsx(zT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:P.jsx(jT,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":$0(d.open),...u,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx(f3,{titleId:d.titleId}),P.jsx(m3,{contentRef:m,descriptionId:d.descriptionId})]})]})}),F0="DialogTitle",u3=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=pr(F0,n);return P.jsx(On.h2,{id:o.titleId,...r,ref:e})});u3.displayName=F0;var AA="DialogDescription",c3=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=pr(AA,n);return P.jsx(On.p,{id:o.descriptionId,...r,ref:e})});c3.displayName=AA;var RA="DialogClose",d3=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=pr(RA,n);return P.jsx(On.button,{type:"button",...r,ref:e,onClick:wo(t.onClick,()=>o.onOpenChange(!1))})});d3.displayName=RA;function $0(t){return t?"open":"closed"}var OA="DialogTitleWarning",[f$,MA]=Lz(OA,{contentName:ka,titleName:F0,docsSlug:"dialog"}),f3=({titleId:t})=>{const e=MA(OA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return O.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},h3="DialogDescriptionWarning",m3=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MA(h3).contentName}}.`;return O.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},LA=bA,PA=SA,kA=EA,DA=CA;function p3(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const NA=rt.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),sd=()=>{const t=rt.useContext(NA);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};p3(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function g3(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function v3(){return H0(/^Mac/)}function y3(){return H0(/^iPhone/)}function r1(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function _3(){return H0(/^iPad/)||v3()&&navigator.maxTouchPoints>1}function jA(){return y3()||_3()}function H0(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const b3=24,w3=typeof window<"u"?O.useLayoutEffect:O.useEffect;function s1(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const Jg=typeof document<"u"&&window.visualViewport;function o1(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function BA(t){for(o1(t)&&(t=t.parentElement);t&&!o1(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const x3=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Kf=0,tv;function S3(t={}){let{isDisabled:e}=t;w3(()=>{if(!e)return Kf++,Kf===1&&jA()&&(tv=E3()),()=>{Kf--,Kf===0&&tv?.()}},[e])}function E3(){let t,e=0,n=y=>{t=BA(y.target),!(t===document.documentElement&&t===document.body)&&(e=y.changedTouches[0].pageY)},r=y=>{if(!t||t===document.documentElement||t===document.body){y.preventDefault();return}let w=y.changedTouches[0].pageY,x=t.scrollTop,C=t.scrollHeight-t.clientHeight;C!==0&&((x<=0&&w>e||x>=C&&w<e)&&y.preventDefault(),e=w)},o=y=>{let w=y.target;hy(w)&&w!==document.activeElement&&(y.preventDefault(),w.style.transform="translateY(-2000px)",w.focus(),requestAnimationFrame(()=>{w.style.transform=""}))},a=y=>{let w=y.target;hy(w)&&(w.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{w.style.transform="",Jg&&(Jg.height<window.innerHeight?requestAnimationFrame(()=>{a1(w)}):Jg.addEventListener("resize",()=>a1(w),{once:!0}))}))},u=()=>{window.scrollTo(0,0)},d=window.pageXOffset,m=window.pageYOffset,p=s1(C3(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=s1(gc(document,"touchstart",n,{passive:!1,capture:!0}),gc(document,"touchmove",r,{passive:!1,capture:!0}),gc(document,"touchend",o,{passive:!1,capture:!0}),gc(document,"focus",a,!0),gc(window,"scroll",u));return()=>{p(),g(),window.scrollTo(d,m)}}function C3(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function gc(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function a1(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=BA(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,o=t.getBoundingClientRect().top,a=t.getBoundingClientRect().bottom;const u=n.getBoundingClientRect().bottom+b3;a>u&&(n.scrollTop+=o-r)}t=n.parentElement}}function hy(t){return t instanceof HTMLInputElement&&!x3.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function T3(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function A3(...t){return e=>t.forEach(n=>T3(n,e))}function zA(...t){return O.useCallback(A3(...t),t)}const IA=new WeakMap;function hn(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(([o,a])=>{if(o.startsWith("--")){t.style.setProperty(o,a);return}r[o]=t.style[o],t.style[o]=a}),!n&&IA.set(t,r)}function R3(t,e){if(!t||!(t instanceof HTMLElement))return;let n=IA.get(t);n&&(t.style[e]=n[e])}const sn=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function Wf(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let o=r.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[sn(e)?13:12]):(o=r.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[sn(e)?5:4]):null)}function O3(t){return 8*(Math.log(t+1)-2)}function ev(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function M3(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const je={DURATION:.5,EASE:[.32,.72,0,1]},UA=.4,L3=.25,P3=100,VA=8,fa=16,my=26,nv="vaul-dragging";function FA(t){const e=rt.useRef(t);return rt.useEffect(()=>{e.current=t}),rt.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function k3({defaultProp:t,onChange:e}){const n=rt.useState(t),[r]=n,o=rt.useRef(r),a=FA(e);return rt.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}function $A({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,o]=k3({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:r,d=FA(n),m=rt.useCallback(p=>{if(a){const y=typeof p=="function"?p(t):p;y!==t&&d(y)}else o(p)},[a,t,o,d]);return[u,m]}function D3({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:o,fadeFromIndex:a,onSnapPointChange:u,direction:d="bottom",container:m,snapToSequentialPoint:p}){const[g,y]=$A({prop:t,defaultProp:n?.[0],onChange:e}),[w,x]=rt.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);rt.useEffect(()=>{function U(){x({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]);const C=rt.useMemo(()=>g===n?.[n.length-1]||null,[n,g]),E=rt.useMemo(()=>{var U;return(U=n?.findIndex(Y=>Y===g))!=null?U:null},[n,g]),R=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===g||!n,M=rt.useMemo(()=>{const U=m?{width:m.getBoundingClientRect().width,height:m.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var Y;return(Y=n?.map(ot=>{const gt=typeof ot=="string";let yt=0;if(gt&&(yt=parseInt(ot,10)),sn(d)){const vt=gt?yt:w?ot*U.height:0;return w?d==="bottom"?U.height-vt:-U.height+vt:vt}const _t=gt?yt:w?ot*U.width:0;return w?d==="right"?U.width-_t:-U.width+_t:_t}))!=null?Y:[]},[n,w,m]),j=rt.useMemo(()=>E!==null?M?.[E]:null,[M,E]),D=rt.useCallback(U=>{var Y;const ot=(Y=M?.findIndex(gt=>gt===U))!=null?Y:null;u(ot),hn(r.current,{transition:`transform ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,transform:sn(d)?`translate3d(0, ${U}px, 0)`:`translate3d(${U}px, 0, 0)`}),M&&ot!==M.length-1&&a!==void 0&&ot!==a&&ot<a?hn(o.current,{transition:`opacity ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,opacity:"0"}):hn(o.current,{transition:`opacity ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,opacity:"1"}),y(n?.[Math.max(ot,0)])},[r.current,n,M,a,o,y]);rt.useEffect(()=>{if(g||t){var U;const Y=(U=n?.findIndex(ot=>ot===t||ot===g))!=null?U:-1;M&&Y!==-1&&typeof M[Y]=="number"&&D(M[Y])}},[g,t,n,M,D]);function B({draggedDistance:U,closeDrawer:Y,velocity:ot,dismissible:gt}){if(a===void 0)return;const yt=d==="bottom"||d==="right"?(j??0)-U:(j??0)+U,_t=E===a-1,vt=E===0,ut=U>0;if(_t&&hn(o.current,{transition:`opacity ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`}),!p&&ot>2&&!ut){gt?Y():D(M[0]);return}if(!p&&ot>2&&ut&&M&&n){D(M[n.length-1]);return}const bt=M?.reduce((G,H)=>typeof G!="number"||typeof H!="number"?G:Math.abs(H-yt)<Math.abs(G-yt)?H:G),$=sn(d)?window.innerHeight:window.innerWidth;if(ot>UA&&Math.abs(U)<$*.4){const G=ut?1:-1;if(G>0&&C&&n){D(M[n.length-1]);return}if(vt&&G<0&&gt&&Y(),E===null)return;D(M[E+G]);return}D(bt)}function q({draggedDistance:U}){if(j===null)return;const Y=d==="bottom"||d==="right"?j-U:j+U;(d==="bottom"||d==="right")&&Y<M[M.length-1]||(d==="top"||d==="left")&&Y>M[M.length-1]||hn(r.current,{transform:sn(d)?`translate3d(0, ${Y}px, 0)`:`translate3d(${Y}px, 0, 0)`})}function W(U,Y){if(!n||typeof E!="number"||!M||a===void 0)return null;const ot=E===a-1;if(E>=a&&Y)return 0;if(ot&&!Y)return 1;if(!R&&!ot)return null;const yt=ot?E+1:E-1,_t=ot?M[yt]-M[yt-1]:M[yt+1]-M[yt],vt=U/Math.abs(_t);return ot?1-vt:vt}return{isLastSnapPoint:C,activeSnapPoint:g,shouldFade:R,getPercentageDragged:W,setActiveSnapPoint:y,activeSnapPointIndex:E,onRelease:B,onDrag:q,snapPointsOffset:M}}const N3=()=>()=>{};function j3(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:o}=sd(),a=rt.useRef(null),u=O.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-my)/window.innerWidth}rt.useEffect(()=>{if(e&&n){a.current&&clearTimeout(a.current);const m=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!m)return;M3(r&&!o?ev(document.body,{background:"black"}):N3,ev(m,{transformOrigin:sn(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${je.DURATION}s`,transitionTimingFunction:`cubic-bezier(${je.EASE.join(",")})`}));const p=ev(m,{borderRadius:`${VA}px`,overflow:"hidden",...sn(t)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{p(),a.current=window.setTimeout(()=>{u?document.body.style.background=u:document.body.style.removeProperty("background")},je.DURATION*1e3)}}},[e,n,u])}let vc=null;function B3({isOpen:t,modal:e,nested:n,hasBeenOpened:r,preventScrollRestoration:o,noBodyStyles:a}){const[u,d]=rt.useState(()=>typeof window<"u"?window.location.href:""),m=rt.useRef(0),p=rt.useCallback(()=>{if(r1()&&vc===null&&t&&!a){vc={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:y,innerHeight:w}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-m.current}px`,left:`${-y}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const x=w-window.innerHeight;x&&m.current>=w&&(document.body.style.top=`${-(m.current+x)}px`)}),300)}},[t]),g=rt.useCallback(()=>{if(r1()&&vc!==null&&!a){const y=-parseInt(document.body.style.top,10),w=-parseInt(document.body.style.left,10);Object.assign(document.body.style,vc),window.requestAnimationFrame(()=>{if(o&&u!==window.location.href){d(window.location.href);return}window.scrollTo(w,y)}),vc=null}},[u]);return rt.useEffect(()=>{function y(){m.current=window.scrollY}return y(),window.addEventListener("scroll",y),()=>{window.removeEventListener("scroll",y)}},[]),rt.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||g()}},[e,g]),rt.useEffect(()=>{n||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&p(),e||window.setTimeout(()=>{g()},500)):g())},[t,r,u,e,n,p,g]),{restorePositionSetting:g}}function z3({open:t,onOpenChange:e,children:n,onDrag:r,onRelease:o,snapPoints:a,shouldScaleBackground:u=!1,setBackgroundColorOnScale:d=!0,closeThreshold:m=L3,scrollLockTimeout:p=P3,dismissible:g=!0,handleOnly:y=!1,fadeFromIndex:w=a&&a.length-1,activeSnapPoint:x,setActiveSnapPoint:C,fixed:E,modal:R=!0,onClose:M,nested:j,noBodyStyles:D=!1,direction:B="bottom",defaultOpen:q=!1,disablePreventScroll:W=!0,snapToSequentialPoint:U=!1,preventScrollRestoration:Y=!1,repositionInputs:ot=!0,onAnimationEnd:gt,container:yt,autoFocus:_t=!1}){var vt,ut;const[bt=!1,$]=$A({defaultProp:q,prop:t,onChange:Ot=>{e?.(Ot),!Ot&&!j&&Fr(),setTimeout(()=>{gt?.(Ot)},je.DURATION*1e3),Ot&&!R&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Ot||(document.body.style.pointerEvents="auto")}}),[G,H]=rt.useState(!1),[dt,at]=rt.useState(!1),[I,z]=rt.useState(!1),K=rt.useRef(null),st=rt.useRef(null),J=rt.useRef(null),ct=rt.useRef(null),wt=rt.useRef(null),St=rt.useRef(!1),Dt=rt.useRef(null),Te=rt.useRef(0),ze=rt.useRef(!1),He=rt.useRef(!q),hi=rt.useRef(0),Pt=rt.useRef(null),Yi=rt.useRef(((vt=Pt.current)==null?void 0:vt.getBoundingClientRect().height)||0),Li=rt.useRef(((ut=Pt.current)==null?void 0:ut.getBoundingClientRect().width)||0),Un=rt.useRef(0),Pi=rt.useCallback(Ot=>{a&&Ot===bn.length-1&&(st.current=new Date)},[]),{activeSnapPoint:_n,activeSnapPointIndex:Vn,setActiveSnapPoint:ki,onRelease:Ke,snapPointsOffset:bn,onDrag:an,shouldFade:Rs,getPercentageDragged:mi}=D3({snapPoints:a,activeSnapPointProp:x,setActiveSnapPointProp:C,drawerRef:Pt,fadeFromIndex:w,overlayRef:K,onSnapPointChange:Pi,direction:B,container:yt,snapToSequentialPoint:U});S3({isDisabled:!bt||dt||!R||I||!G||!ot||!W});const{restorePositionSetting:Fr}=B3({isOpen:bt,modal:R,nested:j??!1,hasBeenOpened:G,preventScrollRestoration:Y,noBodyStyles:D});function Fn(){return(window.innerWidth-my)/window.innerWidth}function $r(Ot){var Wt,te;!g&&!a||Pt.current&&!Pt.current.contains(Ot.target)||(Yi.current=((Wt=Pt.current)==null?void 0:Wt.getBoundingClientRect().height)||0,Li.current=((te=Pt.current)==null?void 0:te.getBoundingClientRect().width)||0,at(!0),J.current=new Date,jA()&&window.addEventListener("touchend",()=>St.current=!1,{once:!0}),Ot.target.setPointerCapture(Ot.pointerId),Te.current=sn(B)?Ot.pageY:Ot.pageX)}function $n(Ot,Wt){var te;let Ht=Ot;const se=(te=window.getSelection())==null?void 0:te.toString(),At=Pt.current?Wf(Pt.current,B):null,qt=new Date;if(Ht.tagName==="SELECT"||Ht.hasAttribute("data-vaul-no-drag")||Ht.closest("[data-vaul-no-drag]"))return!1;if(B==="right"||B==="left")return!0;if(st.current&&qt.getTime()-st.current.getTime()<500)return!1;if(At!==null&&(B==="bottom"?At>0:At<0))return!0;if(se&&se.length>0)return!1;if(wt.current&&qt.getTime()-wt.current.getTime()<p&&At===0||Wt)return wt.current=qt,!1;for(;Ht;){if(Ht.scrollHeight>Ht.clientHeight){if(Ht.scrollTop!==0)return wt.current=new Date,!1;if(Ht.getAttribute("role")==="dialog")return!0}Ht=Ht.parentNode}return!0}function Hr(Ot){if(Pt.current&&dt){const Wt=B==="bottom"||B==="right"?1:-1,te=(Te.current-(sn(B)?Ot.pageY:Ot.pageX))*Wt,Ht=te>0,se=a&&!g&&!Ht;if(se&&Vn===0)return;const At=Math.abs(te),qt=document.querySelector("[data-vaul-drawer-wrapper]"),he=B==="bottom"||B==="top"?Yi.current:Li.current;let de=At/he;const mn=mi(At,Ht);if(mn!==null&&(de=mn),se&&de>=1||!St.current&&!$n(Ot.target,Ht))return;if(Pt.current.classList.add(nv),St.current=!0,hn(Pt.current,{transition:"none"}),hn(K.current,{transition:"none"}),a&&an({draggedDistance:te}),Ht&&!a){const be=O3(te),Wn=Math.min(be*-1,0)*Wt;hn(Pt.current,{transform:sn(B)?`translate3d(0, ${Wn}px, 0)`:`translate3d(${Wn}px, 0, 0)`});return}const ee=1-de;if((Rs||w&&Vn===w-1)&&(r?.(Ot,de),hn(K.current,{opacity:`${ee}`,transition:"none"},!0)),qt&&K.current&&u){const be=Math.min(Fn()+de*(1-Fn()),1),Wn=8-de*8,ln=Math.max(0,14-de*14);hn(qt,{borderRadius:`${Wn}px`,transform:sn(B)?`scale(${be}) translate3d(0, ${ln}px, 0)`:`scale(${be}) translate3d(${ln}px, 0, 0)`,transition:"none"},!0)}if(!a){const be=At*Wt;hn(Pt.current,{transform:sn(B)?`translate3d(0, ${be}px, 0)`:`translate3d(${be}px, 0, 0)`})}}}rt.useEffect(()=>{window.requestAnimationFrame(()=>{He.current=!0})},[]),rt.useEffect(()=>{var Ot;function Wt(){if(!Pt.current||!ot)return;const te=document.activeElement;if(hy(te)||ze.current){var Ht;const se=((Ht=window.visualViewport)==null?void 0:Ht.height)||0,At=window.innerHeight;let qt=At-se;const he=Pt.current.getBoundingClientRect().height||0,de=he>At*.8;Un.current||(Un.current=he);const mn=Pt.current.getBoundingClientRect().top;if(Math.abs(hi.current-qt)>60&&(ze.current=!ze.current),a&&a.length>0&&bn&&Vn){const ee=bn[Vn]||0;qt+=ee}if(hi.current=qt,he>se||ze.current){const ee=Pt.current.getBoundingClientRect().height;let be=ee;ee>se&&(be=se-(de?mn:my)),E?Pt.current.style.height=`${ee-Math.max(qt,0)}px`:Pt.current.style.height=`${Math.max(be,se-mn)}px`}else g3()||(Pt.current.style.height=`${Un.current}px`);a&&a.length>0&&!ze.current?Pt.current.style.bottom="0px":Pt.current.style.bottom=`${Math.max(qt,0)}px`}}return(Ot=window.visualViewport)==null||Ot.addEventListener("resize",Wt),()=>{var te;return(te=window.visualViewport)==null?void 0:te.removeEventListener("resize",Wt)}},[Vn,a,bn]);function Mn(Ot){qe(),M?.(),Ot||$(!1),setTimeout(()=>{a&&ki(a[0])},je.DURATION*1e3)}function pi(){if(!Pt.current)return;const Ot=document.querySelector("[data-vaul-drawer-wrapper]"),Wt=Wf(Pt.current,B);hn(Pt.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`}),hn(K.current,{transition:`opacity ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,opacity:"1"}),u&&Wt&&Wt>0&&bt&&hn(Ot,{borderRadius:`${VA}px`,overflow:"hidden",...sn(B)?{transform:`scale(${Fn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Fn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${je.DURATION}s`,transitionTimingFunction:`cubic-bezier(${je.EASE.join(",")})`},!0)}function qe(){!dt||!Pt.current||(Pt.current.classList.remove(nv),St.current=!1,at(!1),ct.current=new Date)}function Ln(Ot){if(!dt||!Pt.current)return;Pt.current.classList.remove(nv),St.current=!1,at(!1),ct.current=new Date;const Wt=Wf(Pt.current,B);if(!Ot||!$n(Ot.target,!1)||!Wt||Number.isNaN(Wt)||J.current===null)return;const te=ct.current.getTime()-J.current.getTime(),Ht=Te.current-(sn(B)?Ot.pageY:Ot.pageX),se=Math.abs(Ht)/te;if(se>.05&&(z(!0),setTimeout(()=>{z(!1)},200)),a){Ke({draggedDistance:Ht*(B==="bottom"||B==="right"?1:-1),closeDrawer:Mn,velocity:se,dismissible:g}),o?.(Ot,!0);return}if(B==="bottom"||B==="right"?Ht>0:Ht<0){pi(),o?.(Ot,!0);return}if(se>UA){Mn(),o?.(Ot,!1);return}var At;const qt=Math.min((At=Pt.current.getBoundingClientRect().height)!=null?At:0,window.innerHeight);var he;const de=Math.min((he=Pt.current.getBoundingClientRect().width)!=null?he:0,window.innerWidth),mn=B==="left"||B==="right";if(Math.abs(Wt)>=(mn?de:qt)*m){Mn(),o?.(Ot,!1);return}o?.(Ot,!0),pi()}rt.useEffect(()=>(bt&&(hn(document.documentElement,{scrollBehavior:"auto"}),st.current=new Date),()=>{R3(document.documentElement,"scrollBehavior")}),[bt]);function We(Ot){const Wt=Ot?(window.innerWidth-fa)/window.innerWidth:1,te=Ot?-fa:0;Dt.current&&window.clearTimeout(Dt.current),hn(Pt.current,{transition:`transform ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,transform:sn(B)?`scale(${Wt}) translate3d(0, ${te}px, 0)`:`scale(${Wt}) translate3d(${te}px, 0, 0)`}),!Ot&&Pt.current&&(Dt.current=setTimeout(()=>{const Ht=Wf(Pt.current,B);hn(Pt.current,{transition:"none",transform:sn(B)?`translate3d(0, ${Ht}px, 0)`:`translate3d(${Ht}px, 0, 0)`})},500))}function Xi(Ot,Wt){if(Wt<0)return;const te=(window.innerWidth-fa)/window.innerWidth,Ht=te+Wt*(1-te),se=-fa+Wt*fa;hn(Pt.current,{transform:sn(B)?`scale(${Ht}) translate3d(0, ${se}px, 0)`:`scale(${Ht}) translate3d(${se}px, 0, 0)`,transition:"none"})}function qr(Ot,Wt){const te=sn(B)?window.innerHeight:window.innerWidth,Ht=Wt?(te-fa)/te:1,se=Wt?-fa:0;Wt&&hn(Pt.current,{transition:`transform ${je.DURATION}s cubic-bezier(${je.EASE.join(",")})`,transform:sn(B)?`scale(${Ht}) translate3d(0, ${se}px, 0)`:`scale(${Ht}) translate3d(${se}px, 0, 0)`})}return rt.useEffect(()=>{R||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[R]),rt.createElement(LA,{defaultOpen:q,onOpenChange:Ot=>{!g&&!Ot||(Ot?H(!0):Mn(!0),$(Ot))},open:bt},rt.createElement(NA.Provider,{value:{activeSnapPoint:_n,snapPoints:a,setActiveSnapPoint:ki,drawerRef:Pt,overlayRef:K,onOpenChange:e,onPress:$r,onRelease:Ln,onDrag:Hr,dismissible:g,shouldAnimate:He,handleOnly:y,isOpen:bt,isDragging:dt,shouldFade:Rs,closeDrawer:Mn,onNestedDrag:Xi,onNestedOpenChange:We,onNestedRelease:qr,keyboardIsOpen:ze,modal:R,snapPointsOffset:bn,activeSnapPointIndex:Vn,direction:B,shouldScaleBackground:u,setBackgroundColorOnScale:d,noBodyStyles:D,container:yt,autoFocus:_t}},n))}const HA=rt.forwardRef(function({...t},e){const{overlayRef:n,snapPoints:r,onRelease:o,shouldFade:a,isOpen:u,modal:d,shouldAnimate:m}=sd(),p=zA(e,n),g=r&&r.length>0;if(!d)return null;const y=rt.useCallback(w=>o(w),[o]);return rt.createElement(kA,{onMouseUp:y,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":u&&g?"true":"false","data-vaul-snap-points-overlay":u&&a?"true":"false","data-vaul-animate":m?.current?"true":"false",...t})});HA.displayName="Drawer.Overlay";const qA=rt.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:n,...r},o){const{drawerRef:a,onPress:u,onRelease:d,onDrag:m,keyboardIsOpen:p,snapPointsOffset:g,activeSnapPointIndex:y,modal:w,isOpen:x,direction:C,snapPoints:E,container:R,handleOnly:M,shouldAnimate:j,autoFocus:D}=sd(),[B,q]=rt.useState(!1),W=zA(o,a),U=rt.useRef(null),Y=rt.useRef(null),ot=rt.useRef(!1),gt=E&&E.length>0;j3();const yt=(vt,ut,bt=0)=>{if(ot.current)return!0;const $=Math.abs(vt.y),G=Math.abs(vt.x),H=G>$,dt=["bottom","right"].includes(ut)?1:-1;if(ut==="left"||ut==="right"){if(!(vt.x*dt<0)&&G>=0&&G<=bt)return H}else if(!(vt.y*dt<0)&&$>=0&&$<=bt)return!H;return ot.current=!0,!0};rt.useEffect(()=>{gt&&window.requestAnimationFrame(()=>{q(!0)})},[]);function _t(vt){U.current=null,ot.current=!1,d(vt)}return rt.createElement(DA,{"data-vaul-drawer-direction":C,"data-vaul-drawer":"","data-vaul-delayed-snap-points":B?"true":"false","data-vaul-snap-points":x&&gt?"true":"false","data-vaul-custom-container":R?"true":"false","data-vaul-animate":j?.current?"true":"false",...r,ref:W,style:g&&g.length>0?{"--snap-point-height":`${g[y??0]}px`,...e}:e,onPointerDown:vt=>{M||(r.onPointerDown==null||r.onPointerDown.call(r,vt),U.current={x:vt.pageX,y:vt.pageY},u(vt))},onOpenAutoFocus:vt=>{n?.(vt),D||vt.preventDefault()},onPointerDownOutside:vt=>{if(t?.(vt),!w||vt.defaultPrevented){vt.preventDefault();return}p.current&&(p.current=!1)},onFocusOutside:vt=>{if(!w){vt.preventDefault();return}},onPointerMove:vt=>{if(Y.current=vt,M||(r.onPointerMove==null||r.onPointerMove.call(r,vt),!U.current))return;const ut=vt.pageY-U.current.y,bt=vt.pageX-U.current.x,$=vt.pointerType==="touch"?10:2;yt({x:bt,y:ut},C,$)?m(vt):(Math.abs(bt)>$||Math.abs(ut)>$)&&(U.current=null)},onPointerUp:vt=>{r.onPointerUp==null||r.onPointerUp.call(r,vt),U.current=null,ot.current=!1,d(vt)},onPointerOut:vt=>{r.onPointerOut==null||r.onPointerOut.call(r,vt),_t(Y.current)},onContextMenu:vt=>{r.onContextMenu==null||r.onContextMenu.call(r,vt),Y.current&&_t(Y.current)}})});qA.displayName="Drawer.Content";const I3=250,U3=120,V3=rt.forwardRef(function({preventCycle:t=!1,children:e,...n},r){const{closeDrawer:o,isDragging:a,snapPoints:u,activeSnapPoint:d,setActiveSnapPoint:m,dismissible:p,handleOnly:g,isOpen:y,onPress:w,onDrag:x}=sd(),C=rt.useRef(null),E=rt.useRef(!1);function R(){if(E.current){D();return}window.setTimeout(()=>{M()},U3)}function M(){if(a||t||E.current){D();return}if(D(),!u||u.length===0){p||o();return}if(d===u[u.length-1]&&p){o();return}const q=u.findIndex(U=>U===d);if(q===-1)return;const W=u[q+1];m(W)}function j(){C.current=window.setTimeout(()=>{E.current=!0},I3)}function D(){C.current&&window.clearTimeout(C.current),E.current=!1}return rt.createElement("div",{onClick:R,onPointerCancel:D,onPointerDown:B=>{g&&w(B),j()},onPointerMove:B=>{g&&x(B)},ref:r,"data-vaul-drawer-visible":y?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},rt.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});V3.displayName="Drawer.Handle";function F3(t){const e=sd(),{container:n=e.container,...r}=t;return rt.createElement(PA,{container:n,...r})}const Yf={Root:z3,Content:qA,Overlay:HA,Portal:F3};function um(){return typeof window<"u"}function cu(t){return q0(t)?(t.nodeName||"").toLowerCase():"#document"}function fi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vr(t){var e;return(e=(q0(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function q0(t){return um()?t instanceof Node||t instanceof fi(t).Node:!1}function Oe(t){return um()?t instanceof Element||t instanceof fi(t).Element:!1}function Oi(t){return um()?t instanceof HTMLElement||t instanceof fi(t).HTMLElement:!1}function py(t){return!um()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof fi(t).ShadowRoot}const $3=new Set(["inline","contents"]);function od(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Mi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!$3.has(o)}const H3=new Set(["table","td","th"]);function q3(t){return H3.has(cu(t))}const G3=[":popover-open",":modal"];function cm(t){return G3.some(e=>{try{return t.matches(e)}catch{return!1}})}const Z3=["transform","translate","scale","rotate","perspective"],K3=["transform","translate","scale","rotate","perspective","filter"],W3=["paint","layout","strict","content"];function G0(t){const e=dm(),n=Oe(t)?Mi(t):t;return Z3.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||K3.some(r=>(n.willChange||"").includes(r))||W3.some(r=>(n.contain||"").includes(r))}function Y3(t){let e=Es(t);for(;Oi(e)&&!bs(e);){if(G0(e))return e;if(cm(e))return null;e=Es(e)}return null}function dm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const X3=new Set(["html","body","#document"]);function bs(t){return X3.has(cu(t))}function Mi(t){return fi(t).getComputedStyle(t)}function fm(t){return Oe(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Es(t){if(cu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||py(t)&&t.host||Vr(t);return py(e)?e.host:e}function GA(t){const e=Es(t);return bs(e)?t.ownerDocument?t.ownerDocument.body:t.body:Oi(e)&&od(e)?e:GA(e)}function xo(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=GA(t),a=o===((r=t.ownerDocument)==null?void 0:r.body),u=fi(o);if(a){const d=gy(u);return e.concat(u,u.visualViewport||[],od(o)?o:[],d&&n?xo(d):[])}return e.concat(o,xo(o,[],n))}function gy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const nu=Math.min,Oa=Math.max,Bh=Math.round,Xf=Math.floor,Ur=t=>({x:t,y:t}),Q3={left:"right",right:"left",bottom:"top",top:"bottom"},J3={start:"end",end:"start"};function vy(t,e,n){return Oa(t,nu(e,n))}function ad(t,e){return typeof t=="function"?t(e):t}function Da(t){return t.split("-")[0]}function ld(t){return t.split("-")[1]}function ZA(t){return t==="x"?"y":"x"}function Z0(t){return t==="y"?"height":"width"}const t5=new Set(["top","bottom"]);function _o(t){return t5.has(Da(t))?"y":"x"}function K0(t){return ZA(_o(t))}function e5(t,e,n){n===void 0&&(n=!1);const r=ld(t),o=K0(t),a=Z0(o);let u=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=zh(u)),[u,zh(u)]}function n5(t){const e=zh(t);return[yy(t),e,yy(e)]}function yy(t){return t.replace(/start|end/g,e=>J3[e])}const l1=["left","right"],u1=["right","left"],i5=["top","bottom"],r5=["bottom","top"];function s5(t,e,n){switch(t){case"top":case"bottom":return n?e?u1:l1:e?l1:u1;case"left":case"right":return e?i5:r5;default:return[]}}function o5(t,e,n,r){const o=ld(t);let a=s5(Da(t),n==="start",r);return o&&(a=a.map(u=>u+"-"+o),e&&(a=a.concat(a.map(yy)))),a}function zh(t){return t.replace(/left|right|bottom|top/g,e=>Q3[e])}function a5(t){return{top:0,right:0,bottom:0,left:0,...t}}function KA(t){return typeof t!="number"?a5(t):{top:t,right:t,bottom:t,left:t}}function Ih(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}var l5=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],_y=l5.join(","),WA=typeof Element>"u",Gc=WA?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Uh=!WA&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Zc=function(e,n){var r;n===void 0&&(n=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),a=o===""||o==="true",u=a||n&&e&&Zc(e.parentNode);return u},u5=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},c5=function(e,n,r){if(Zc(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(_y));return n&&Gc.call(e,_y)&&o.unshift(e),o=o.filter(r),o},by=function(e,n,r){for(var o=[],a=Array.from(e);a.length;){var u=a.shift();if(!Zc(u,!1))if(u.tagName==="SLOT"){var d=u.assignedElements(),m=d.length?d:u.children,p=by(m,!0,r);r.flatten?o.push.apply(o,p):o.push({scopeParent:u,candidates:p})}else{var g=Gc.call(u,_y);g&&r.filter(u)&&(n||!e.includes(u))&&o.push(u);var y=u.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(u),w=!Zc(y,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(u));if(y&&w){var x=by(y===!0?u.children:y.children,!0,r);r.flatten?o.push.apply(o,x):o.push({scopeParent:u,candidates:x})}else a.unshift.apply(a,u.children)}}return o},YA=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},XA=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||u5(e))&&!YA(e)?0:e.tabIndex},d5=function(e,n){var r=XA(e);return r<0&&n&&!YA(e)?0:r},f5=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},QA=function(e){return e.tagName==="INPUT"},h5=function(e){return QA(e)&&e.type==="hidden"},m5=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},p5=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},g5=function(e){if(!e.name)return!0;var n=e.form||Uh(e),r=function(d){return n.querySelectorAll('input[type="radio"][name="'+d+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(u){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",u.message),!1}var a=p5(o,e.form);return!a||a===e},v5=function(e){return QA(e)&&e.type==="radio"},y5=function(e){return v5(e)&&!g5(e)},_5=function(e){var n,r=e&&Uh(e),o=(n=r)===null||n===void 0?void 0:n.host,a=!1;if(r&&r!==e){var u,d,m;for(a=!!((u=o)!==null&&u!==void 0&&(d=u.ownerDocument)!==null&&d!==void 0&&d.contains(o)||e!=null&&(m=e.ownerDocument)!==null&&m!==void 0&&m.contains(e));!a&&o;){var p,g,y;r=Uh(o),o=(p=r)===null||p===void 0?void 0:p.host,a=!!((g=o)!==null&&g!==void 0&&(y=g.ownerDocument)!==null&&y!==void 0&&y.contains(o))}}return a},c1=function(e){var n=e.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},b5=function(e,n){var r=n.displayCheck,o=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in e){var a=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!a}if(getComputedStyle(e).visibility==="hidden")return!0;var u=Gc.call(e,"details>summary:first-of-type"),d=u?e.parentElement:e;if(Gc.call(d,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof o=="function"){for(var m=e;e;){var p=e.parentElement,g=Uh(e);if(p&&!p.shadowRoot&&o(p)===!0)return c1(e);e.assignedSlot?e=e.assignedSlot:!p&&g!==e.ownerDocument?e=g.host:e=p}e=m}if(_5(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return c1(e);return!1},w5=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return Gc.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},x5=function(e,n){return!(n.disabled||Zc(n)||h5(n)||b5(n,e)||m5(n)||w5(n))},d1=function(e,n){return!(y5(n)||XA(n)<0||!x5(e,n))},S5=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},JA=function(e){var n=[],r=[];return e.forEach(function(o,a){var u=!!o.scopeParent,d=u?o.scopeParent:o,m=d5(d,u),p=u?JA(o.candidates):d;m===0?u?n.push.apply(n,p):n.push(d):r.push({documentOrder:a,tabIndex:m,item:o,isScope:u,content:p})}),r.sort(f5).reduce(function(o,a){return a.isScope?o.push.apply(o,a.content):o.push(a.content),o},[]).concat(n)},tR=function(e,n){n=n||{};var r;return n.getShadowRoot?r=by([e],n.includeContainer,{filter:d1.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:S5}):r=c5(e,n.includeContainer,d1.bind(null,n)),JA(r)};function E5(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function C5(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function eR(){return/apple/i.test(navigator.vendor)}function T5(){return E5().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function A5(){return C5().includes("jsdom/")}const f1="data-floating-ui-focusable",R5="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function wy(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function iu(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&py(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function jl(t){return"composedPath"in t?t.composedPath()[0]:t.target}function iv(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function O5(t){return t.matches("html,body")}function Br(t){return t?.ownerDocument||document}function M5(t){return Oi(t)&&t.matches(R5)}function L5(t){if(!t||A5())return!0;try{return t.matches(":focus-visible")}catch{return!0}}function P5(t){return t?t.hasAttribute(f1)?t:t.querySelector("["+f1+"]")||t:null}function yh(t,e,n){return n===void 0&&(n=!0),t.filter(o=>{var a;return o.parentId===e&&(!n||((a=o.context)==null?void 0:a.open))}).flatMap(o=>[o,...yh(t,o.id,n)])}function k5(t){return"nativeEvent"in t}function xy(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}var D5=typeof document<"u",N5=function(){},mr=D5?O.useLayoutEffect:N5;const j5={...Yh};function Qf(t){const e=O.useRef(t);return mr(()=>{e.current=t}),e}const B5=j5.useInsertionEffect,z5=B5||(t=>t());function Nr(t){const e=O.useRef(()=>{});return z5(()=>{e.current=t}),O.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}const nR=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function iR(t,e){const n=tR(t,nR()),r=n.length;if(r===0)return;const o=wy(Br(t)),a=n.indexOf(o),u=a===-1?e===1?0:r-1:a+e;return n[u]}function I5(t){return iR(Br(t).body,1)||t}function U5(t){return iR(Br(t).body,-1)||t}function rv(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!iu(n,r)}function V5(t){tR(t,nR()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function h1(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}function m1(t,e,n){let{reference:r,floating:o}=t;const a=_o(e),u=K0(e),d=Z0(u),m=Da(e),p=a==="y",g=r.x+r.width/2-o.width/2,y=r.y+r.height/2-o.height/2,w=r[d]/2-o[d]/2;let x;switch(m){case"top":x={x:g,y:r.y-o.height};break;case"bottom":x={x:g,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y};break;case"left":x={x:r.x-o.width,y};break;default:x={x:r.x,y:r.y}}switch(ld(e)){case"start":x[u]-=w*(n&&p?-1:1);break;case"end":x[u]+=w*(n&&p?-1:1);break}return x}const F5=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:u}=n,d=a.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:o}),{x:g,y}=m1(p,r,m),w=r,x={},C=0;for(let E=0;E<d.length;E++){const{name:R,fn:M}=d[E],{x:j,y:D,data:B,reset:q}=await M({x:g,y,initialPlacement:r,placement:w,strategy:o,middlewareData:x,rects:p,platform:u,elements:{reference:t,floating:e}});g=j??g,y=D??y,x={...x,[R]:{...x[R],...B}},q&&C<=50&&(C++,typeof q=="object"&&(q.placement&&(w=q.placement),q.rects&&(p=q.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:o}):q.rects),{x:g,y}=m1(p,w,m)),E=-1)}return{x:g,y,placement:w,strategy:o,middlewareData:x}};async function rR(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:u,elements:d,strategy:m}=t,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:w=!1,padding:x=0}=ad(e,t),C=KA(x),R=d[w?y==="floating"?"reference":"floating":y],M=Ih(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(R)))==null||n?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:m})),j=y==="floating"?{x:r,y:o,width:u.floating.width,height:u.floating.height}:u.reference,D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),B=await(a.isElement==null?void 0:a.isElement(D))?await(a.getScale==null?void 0:a.getScale(D))||{x:1,y:1}:{x:1,y:1},q=Ih(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:j,offsetParent:D,strategy:m}):j);return{top:(M.top-q.top+C.top)/B.y,bottom:(q.bottom-M.bottom+C.bottom)/B.y,left:(M.left-q.left+C.left)/B.x,right:(q.right-M.right+C.right)/B.x}}const $5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:a,platform:u,elements:d,middlewareData:m}=e,{element:p,padding:g=0}=ad(t,e)||{};if(p==null)return{};const y=KA(g),w={x:n,y:r},x=K0(o),C=Z0(x),E=await u.getDimensions(p),R=x==="y",M=R?"top":"left",j=R?"bottom":"right",D=R?"clientHeight":"clientWidth",B=a.reference[C]+a.reference[x]-w[x]-a.floating[C],q=w[x]-a.reference[x],W=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let U=W?W[D]:0;(!U||!await(u.isElement==null?void 0:u.isElement(W)))&&(U=d.floating[D]||a.floating[C]);const Y=B/2-q/2,ot=U/2-E[C]/2-1,gt=nu(y[M],ot),yt=nu(y[j],ot),_t=gt,vt=U-E[C]-yt,ut=U/2-E[C]/2+Y,bt=vy(_t,ut,vt),$=!m.arrow&&ld(o)!=null&&ut!==bt&&a.reference[C]/2-(ut<_t?gt:yt)-E[C]/2<0,G=$?ut<_t?ut-_t:ut-vt:0;return{[x]:w[x]+G,data:{[x]:bt,centerOffset:ut-bt-G,...$&&{alignmentOffset:G}},reset:$}}}),H5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:a,rects:u,initialPlacement:d,platform:m,elements:p}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...R}=ad(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const M=Da(o),j=_o(d),D=Da(d)===d,B=await(m.isRTL==null?void 0:m.isRTL(p.floating)),q=w||(D||!E?[zh(d)]:n5(d)),W=C!=="none";!w&&W&&q.push(...o5(d,E,C,B));const U=[d,...q],Y=await rR(e,R),ot=[];let gt=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&ot.push(Y[M]),y){const ut=e5(o,u,B);ot.push(Y[ut[0]],Y[ut[1]])}if(gt=[...gt,{placement:o,overflows:ot}],!ot.every(ut=>ut<=0)){var yt,_t;const ut=(((yt=a.flip)==null?void 0:yt.index)||0)+1,bt=U[ut];if(bt&&(!(y==="alignment"?j!==_o(bt):!1)||gt.every(H=>_o(H.placement)===j?H.overflows[0]>0:!0)))return{data:{index:ut,overflows:gt},reset:{placement:bt}};let $=(_t=gt.filter(G=>G.overflows[0]<=0).sort((G,H)=>G.overflows[1]-H.overflows[1])[0])==null?void 0:_t.placement;if(!$)switch(x){case"bestFit":{var vt;const G=(vt=gt.filter(H=>{if(W){const dt=_o(H.placement);return dt===j||dt==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(dt=>dt>0).reduce((dt,at)=>dt+at,0)]).sort((H,dt)=>H[1]-dt[1])[0])==null?void 0:vt[0];G&&($=G);break}case"initialPlacement":$=d;break}if(o!==$)return{reset:{placement:$}}}return{}}}},q5=new Set(["left","top"]);async function G5(t,e){const{placement:n,platform:r,elements:o}=t,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),u=Da(n),d=ld(n),m=_o(n)==="y",p=q5.has(u)?-1:1,g=a&&m?-1:1,y=ad(e,t);let{mainAxis:w,crossAxis:x,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof C=="number"&&(x=d==="end"?C*-1:C),m?{x:x*g,y:w*p}:{x:w*p,y:x*g}}const Z5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:a,placement:u,middlewareData:d}=e,m=await G5(e,t);return u===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:o+m.x,y:a+m.y,data:{...m,placement:u}}}}},K5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:R=>{let{x:M,y:j}=R;return{x:M,y:j}}},...m}=ad(t,e),p={x:n,y:r},g=await rR(e,m),y=_o(Da(o)),w=ZA(y);let x=p[w],C=p[y];if(a){const R=w==="y"?"top":"left",M=w==="y"?"bottom":"right",j=x+g[R],D=x-g[M];x=vy(j,x,D)}if(u){const R=y==="y"?"top":"left",M=y==="y"?"bottom":"right",j=C+g[R],D=C-g[M];C=vy(j,C,D)}const E=d.fn({...e,[w]:x,[y]:C});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[w]:a,[y]:u}}}}}};function sR(t){const e=Mi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Oi(t),a=o?t.offsetWidth:n,u=o?t.offsetHeight:r,d=Bh(n)!==a||Bh(r)!==u;return d&&(n=a,r=u),{width:n,height:r,$:d}}function W0(t){return Oe(t)?t:t.contextElement}function Kl(t){const e=W0(t);if(!Oi(e))return Ur(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:a}=sR(e);let u=(a?Bh(n.width):n.width)/r,d=(a?Bh(n.height):n.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const W5=Ur(0);function oR(t){const e=fi(t);return!dm()||!e.visualViewport?W5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Y5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==fi(t)?!1:e}function Na(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=W0(t);let u=Ur(1);e&&(r?Oe(r)&&(u=Kl(r)):u=Kl(t));const d=Y5(a,n,r)?oR(a):Ur(0);let m=(o.left+d.x)/u.x,p=(o.top+d.y)/u.y,g=o.width/u.x,y=o.height/u.y;if(a){const w=fi(a),x=r&&Oe(r)?fi(r):r;let C=w,E=gy(C);for(;E&&r&&x!==C;){const R=Kl(E),M=E.getBoundingClientRect(),j=Mi(E),D=M.left+(E.clientLeft+parseFloat(j.paddingLeft))*R.x,B=M.top+(E.clientTop+parseFloat(j.paddingTop))*R.y;m*=R.x,p*=R.y,g*=R.x,y*=R.y,m+=D,p+=B,C=fi(E),E=gy(C)}}return Ih({width:g,height:y,x:m,y:p})}function hm(t,e){const n=fm(t).scrollLeft;return e?e.left+n:Na(Vr(t)).left+n}function aR(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-hm(t,n),o=n.top+e.scrollTop;return{x:r,y:o}}function X5(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const a=o==="fixed",u=Vr(r),d=e?cm(e.floating):!1;if(r===u||d&&a)return n;let m={scrollLeft:0,scrollTop:0},p=Ur(1);const g=Ur(0),y=Oi(r);if((y||!y&&!a)&&((cu(r)!=="body"||od(u))&&(m=fm(r)),Oi(r))){const x=Na(r);p=Kl(r),g.x=x.x+r.clientLeft,g.y=x.y+r.clientTop}const w=u&&!y&&!a?aR(u,m):Ur(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-m.scrollLeft*p.x+g.x+w.x,y:n.y*p.y-m.scrollTop*p.y+g.y+w.y}}function Q5(t){return Array.from(t.getClientRects())}function J5(t){const e=Vr(t),n=fm(t),r=t.ownerDocument.body,o=Oa(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Oa(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+hm(t);const d=-n.scrollTop;return Mi(r).direction==="rtl"&&(u+=Oa(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:u,y:d}}const p1=25;function tU(t,e){const n=fi(t),r=Vr(t),o=n.visualViewport;let a=r.clientWidth,u=r.clientHeight,d=0,m=0;if(o){a=o.width,u=o.height;const g=dm();(!g||g&&e==="fixed")&&(d=o.offsetLeft,m=o.offsetTop)}const p=hm(r);if(p<=0){const g=r.ownerDocument,y=g.body,w=getComputedStyle(y),x=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,C=Math.abs(r.clientWidth-y.clientWidth-x);C<=p1&&(a-=C)}else p<=p1&&(a+=p);return{width:a,height:u,x:d,y:m}}const eU=new Set(["absolute","fixed"]);function nU(t,e){const n=Na(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,a=Oi(t)?Kl(t):Ur(1),u=t.clientWidth*a.x,d=t.clientHeight*a.y,m=o*a.x,p=r*a.y;return{width:u,height:d,x:m,y:p}}function g1(t,e,n){let r;if(e==="viewport")r=tU(t,n);else if(e==="document")r=J5(Vr(t));else if(Oe(e))r=nU(e,n);else{const o=oR(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Ih(r)}function lR(t,e){const n=Es(t);return n===e||!Oe(n)||bs(n)?!1:Mi(n).position==="fixed"||lR(n,e)}function iU(t,e){const n=e.get(t);if(n)return n;let r=xo(t,[],!1).filter(d=>Oe(d)&&cu(d)!=="body"),o=null;const a=Mi(t).position==="fixed";let u=a?Es(t):t;for(;Oe(u)&&!bs(u);){const d=Mi(u),m=G0(u);!m&&d.position==="fixed"&&(o=null),(a?!m&&!o:!m&&d.position==="static"&&!!o&&eU.has(o.position)||od(u)&&!m&&lR(t,u))?r=r.filter(g=>g!==u):o=d,u=Es(u)}return e.set(t,r),r}function rU(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const u=[...n==="clippingAncestors"?cm(e)?[]:iU(e,this._c):[].concat(n),r],d=u[0],m=u.reduce((p,g)=>{const y=g1(e,g,o);return p.top=Oa(y.top,p.top),p.right=nu(y.right,p.right),p.bottom=nu(y.bottom,p.bottom),p.left=Oa(y.left,p.left),p},g1(e,d,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function sU(t){const{width:e,height:n}=sR(t);return{width:e,height:n}}function oU(t,e,n){const r=Oi(e),o=Vr(e),a=n==="fixed",u=Na(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const m=Ur(0);function p(){m.x=hm(o)}if(r||!r&&!a)if((cu(e)!=="body"||od(o))&&(d=fm(e)),r){const x=Na(e,!0,a,e);m.x=x.x+e.clientLeft,m.y=x.y+e.clientTop}else o&&p();a&&!r&&o&&p();const g=o&&!r&&!a?aR(o,d):Ur(0),y=u.left+d.scrollLeft-m.x-g.x,w=u.top+d.scrollTop-m.y-g.y;return{x:y,y:w,width:u.width,height:u.height}}function sv(t){return Mi(t).position==="static"}function v1(t,e){if(!Oi(t)||Mi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vr(t)===n&&(n=n.ownerDocument.body),n}function uR(t,e){const n=fi(t);if(cm(t))return n;if(!Oi(t)){let o=Es(t);for(;o&&!bs(o);){if(Oe(o)&&!sv(o))return o;o=Es(o)}return n}let r=v1(t,e);for(;r&&q3(r)&&sv(r);)r=v1(r,e);return r&&bs(r)&&sv(r)&&!G0(r)?n:r||Y3(t)||n}const aU=async function(t){const e=this.getOffsetParent||uR,n=this.getDimensions,r=await n(t.floating);return{reference:oU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lU(t){return Mi(t).direction==="rtl"}const uU={convertOffsetParentRelativeRectToViewportRelativeRect:X5,getDocumentElement:Vr,getClippingRect:rU,getOffsetParent:uR,getElementRects:aU,getClientRects:Q5,getDimensions:sU,getScale:Kl,isElement:Oe,isRTL:lU};function cR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function cU(t,e){let n=null,r;const o=Vr(t);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function u(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),a();const p=t.getBoundingClientRect(),{left:g,top:y,width:w,height:x}=p;if(d||e(),!w||!x)return;const C=Xf(y),E=Xf(o.clientWidth-(g+w)),R=Xf(o.clientHeight-(y+x)),M=Xf(g),D={rootMargin:-C+"px "+-E+"px "+-R+"px "+-M+"px",threshold:Oa(0,nu(1,m))||1};let B=!0;function q(W){const U=W[0].intersectionRatio;if(U!==m){if(!B)return u();U?u(!1,U):r=setTimeout(()=>{u(!1,1e-7)},1e3)}U===1&&!cR(p,t.getBoundingClientRect())&&u(),B=!1}try{n=new IntersectionObserver(q,{...D,root:o.ownerDocument})}catch{n=new IntersectionObserver(q,D)}n.observe(t)}return u(!0),a}function dU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,p=W0(t),g=o||a?[...p?xo(p):[],...xo(e)]:[];g.forEach(M=>{o&&M.addEventListener("scroll",n,{passive:!0}),a&&M.addEventListener("resize",n)});const y=p&&d?cU(p,n):null;let w=-1,x=null;u&&(x=new ResizeObserver(M=>{let[j]=M;j&&j.target===p&&x&&(x.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var D;(D=x)==null||D.observe(e)})),n()}),p&&!m&&x.observe(p),x.observe(e));let C,E=m?Na(t):null;m&&R();function R(){const M=Na(t);E&&!cR(E,M)&&n(),E=M,C=requestAnimationFrame(R)}return n(),()=>{var M;g.forEach(j=>{o&&j.removeEventListener("scroll",n),a&&j.removeEventListener("resize",n)}),y?.(),(M=x)==null||M.disconnect(),x=null,m&&cancelAnimationFrame(C)}}const fU=Z5,hU=K5,mU=H5,y1=$5,pU=(t,e,n)=>{const r=new Map,o={platform:uU,...n},a={...o.platform,_c:r};return F5(t,e,{...o,platform:a})};var gU=typeof document<"u",vU=function(){},_h=gU?O.useLayoutEffect:vU;function Vh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Vh(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&t.$$typeof)&&!Vh(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function dR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _1(t,e){const n=dR(t);return Math.round(e*n)/n}function ov(t){const e=O.useRef(t);return _h(()=>{e.current=t}),e}function yU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:m,open:p}=t,[g,y]=O.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[w,x]=O.useState(r);Vh(w,r)||x(r);const[C,E]=O.useState(null),[R,M]=O.useState(null),j=O.useCallback(H=>{H!==W.current&&(W.current=H,E(H))},[]),D=O.useCallback(H=>{H!==U.current&&(U.current=H,M(H))},[]),B=a||C,q=u||R,W=O.useRef(null),U=O.useRef(null),Y=O.useRef(g),ot=m!=null,gt=ov(m),yt=ov(o),_t=ov(p),vt=O.useCallback(()=>{if(!W.current||!U.current)return;const H={placement:e,strategy:n,middleware:w};yt.current&&(H.platform=yt.current),pU(W.current,U.current,H).then(dt=>{const at={...dt,isPositioned:_t.current!==!1};ut.current&&!Vh(Y.current,at)&&(Y.current=at,su.flushSync(()=>{y(at)}))})},[w,e,n,yt,_t]);_h(()=>{p===!1&&Y.current.isPositioned&&(Y.current.isPositioned=!1,y(H=>({...H,isPositioned:!1})))},[p]);const ut=O.useRef(!1);_h(()=>(ut.current=!0,()=>{ut.current=!1}),[]),_h(()=>{if(B&&(W.current=B),q&&(U.current=q),B&&q){if(gt.current)return gt.current(B,q,vt);vt()}},[B,q,vt,gt,ot]);const bt=O.useMemo(()=>({reference:W,floating:U,setReference:j,setFloating:D}),[j,D]),$=O.useMemo(()=>({reference:B,floating:q}),[B,q]),G=O.useMemo(()=>{const H={position:n,left:0,top:0};if(!$.floating)return H;const dt=_1($.floating,g.x),at=_1($.floating,g.y);return d?{...H,transform:"translate("+dt+"px, "+at+"px)",...dR($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:dt,top:at}},[n,d,$.floating,g.x,g.y]);return O.useMemo(()=>({...g,update:vt,refs:bt,elements:$,floatingStyles:G}),[g,vt,bt,$,G])}const _U=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?y1({element:r.current,padding:o}).fn(n):{}:r?y1({element:r,padding:o}).fn(n):{}}}},bU=(t,e)=>({...fU(t),options:[t,e]}),wU=(t,e)=>({...hU(t),options:[t,e]}),xU=(t,e)=>({...mU(t),options:[t,e]}),SU=(t,e)=>({..._U(t),options:[t,e]}),EU="data-floating-ui-focusable",b1="active",w1="selected",CU={...Yh};let x1=!1,TU=0;const S1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+TU++;function AU(){const[t,e]=O.useState(()=>x1?S1():void 0);return mr(()=>{t==null&&e(S1())},[]),O.useEffect(()=>{x1=!0},[]),t}const RU=CU.useId,mm=RU||AU,OU=O.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:o},middlewareData:{arrow:a,shift:u}},width:d=14,height:m=7,tipRadius:p=0,strokeWidth:g=0,staticOffset:y,stroke:w,d:x,style:{transform:C,...E}={},...R}=e,M=mm(),[j,D]=O.useState(!1);if(mr(()=>{if(!o)return;Mi(o).direction==="rtl"&&D(!0)},[o]),!o)return null;const[B,q]=r.split("-"),W=B==="top"||B==="bottom";let U=y;(W&&u!=null&&u.x||!W&&u!=null&&u.y)&&(U=null);const Y=g*2,ot=Y/2,gt=d/2*(p/-8+1),yt=m/2*p/4,_t=!!x,vt=U&&q==="end"?"bottom":"top";let ut=U&&q==="end"?"right":"left";U&&j&&(ut=q==="end"?"left":"right");const bt=a?.x!=null?U||a.x:"",$=a?.y!=null?U||a.y:"",G=x||"M0,0"+(" H"+d)+(" L"+(d-gt)+","+(m-yt))+(" Q"+d/2+","+m+" "+gt+","+(m-yt))+" Z",H={top:_t?"rotate(180deg)":"",left:_t?"rotate(90deg)":"rotate(-90deg)",bottom:_t?"":"rotate(180deg)",right:_t?"rotate(-90deg)":"rotate(90deg)"}[B];return P.jsxs("svg",{...R,"aria-hidden":!0,ref:n,width:_t?d:d+Y,height:d,viewBox:"0 0 "+d+" "+(m>d?m:d),style:{position:"absolute",pointerEvents:"none",[ut]:bt,[vt]:$,[B]:W||_t?"100%":"calc(100% - "+Y/2+"px)",transform:[H,C].filter(dt=>!!dt).join(" "),...E},children:[Y>0&&P.jsx("path",{clipPath:"url(#"+M+")",fill:"none",stroke:w,strokeWidth:Y+(x?0:1),d:G}),P.jsx("path",{stroke:Y&&!x?R.fill:"none",d:G}),P.jsx("clipPath",{id:M,children:P.jsx("rect",{x:-ot,y:ot*(_t?-1:1),width:d+Y,height:d})})]})});function MU(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(o=>o(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const LU=O.createContext(null),PU=O.createContext(null),Y0=()=>{var t;return((t=O.useContext(LU))==null?void 0:t.id)||null},X0=()=>O.useContext(PU);function ud(t){return"data-floating-ui-"+t}function qi(t){t.current!==-1&&(clearTimeout(t.current),t.current=-1)}const E1=ud("safe-polygon");function av(t,e,n){if(n&&!xy(n))return 0;if(typeof t=="number")return t;if(typeof t=="function"){const r=t();return typeof r=="number"?r:r?.[e]}return t?.[e]}function lv(t){return typeof t=="function"?t():t}function kU(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:o,events:a,elements:u}=t,{enabled:d=!0,delay:m=0,handleClose:p=null,mouseOnly:g=!1,restMs:y=0,move:w=!0}=e,x=X0(),C=Y0(),E=Qf(p),R=Qf(m),M=Qf(n),j=Qf(y),D=O.useRef(),B=O.useRef(-1),q=O.useRef(),W=O.useRef(-1),U=O.useRef(!0),Y=O.useRef(!1),ot=O.useRef(()=>{}),gt=O.useRef(!1),yt=Nr(()=>{var G;const H=(G=o.current.openEvent)==null?void 0:G.type;return H?.includes("mouse")&&H!=="mousedown"});O.useEffect(()=>{if(!d)return;function G(H){let{open:dt}=H;dt||(qi(B),qi(W),U.current=!0,gt.current=!1)}return a.on("openchange",G),()=>{a.off("openchange",G)}},[d,a]),O.useEffect(()=>{if(!d||!E.current||!n)return;function G(dt){yt()&&r(!1,dt,"hover")}const H=Br(u.floating).documentElement;return H.addEventListener("mouseleave",G),()=>{H.removeEventListener("mouseleave",G)}},[u.floating,n,r,d,E,yt]);const _t=O.useCallback(function(G,H,dt){H===void 0&&(H=!0),dt===void 0&&(dt="hover");const at=av(R.current,"close",D.current);at&&!q.current?(qi(B),B.current=window.setTimeout(()=>r(!1,G,dt),at)):H&&(qi(B),r(!1,G,dt))},[R,r]),vt=Nr(()=>{ot.current(),q.current=void 0}),ut=Nr(()=>{if(Y.current){const G=Br(u.floating).body;G.style.pointerEvents="",G.removeAttribute(E1),Y.current=!1}}),bt=Nr(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);O.useEffect(()=>{if(!d)return;function G(z){if(qi(B),U.current=!1,g&&!xy(D.current)||lv(j.current)>0&&!av(R.current,"open"))return;const K=av(R.current,"open",D.current);K?B.current=window.setTimeout(()=>{M.current||r(!0,z,"hover")},K):n||r(!0,z,"hover")}function H(z){if(bt()){ut();return}ot.current();const K=Br(u.floating);if(qi(W),gt.current=!1,E.current&&o.current.floatingContext){n||qi(B),q.current=E.current({...o.current.floatingContext,tree:x,x:z.clientX,y:z.clientY,onClose(){ut(),vt(),bt()||_t(z,!0,"safe-polygon")}});const J=q.current;K.addEventListener("mousemove",J),ot.current=()=>{K.removeEventListener("mousemove",J)};return}(D.current==="touch"?!iu(u.floating,z.relatedTarget):!0)&&_t(z)}function dt(z){bt()||o.current.floatingContext&&(E.current==null||E.current({...o.current.floatingContext,tree:x,x:z.clientX,y:z.clientY,onClose(){ut(),vt(),bt()||_t(z)}})(z))}function at(){qi(B)}function I(z){bt()||_t(z,!1)}if(Oe(u.domReference)){const z=u.domReference,K=u.floating;return n&&z.addEventListener("mouseleave",dt),w&&z.addEventListener("mousemove",G,{once:!0}),z.addEventListener("mouseenter",G),z.addEventListener("mouseleave",H),K&&(K.addEventListener("mouseleave",dt),K.addEventListener("mouseenter",at),K.addEventListener("mouseleave",I)),()=>{n&&z.removeEventListener("mouseleave",dt),w&&z.removeEventListener("mousemove",G),z.removeEventListener("mouseenter",G),z.removeEventListener("mouseleave",H),K&&(K.removeEventListener("mouseleave",dt),K.removeEventListener("mouseenter",at),K.removeEventListener("mouseleave",I))}}},[u,d,t,g,w,_t,vt,ut,r,n,M,x,R,E,o,bt,j]),mr(()=>{var G;if(d&&n&&(G=E.current)!=null&&(G=G.__options)!=null&&G.blockPointerEvents&&yt()){Y.current=!0;const dt=u.floating;if(Oe(u.domReference)&&dt){var H;const at=Br(u.floating).body;at.setAttribute(E1,"");const I=u.domReference,z=x==null||(H=x.nodesRef.current.find(K=>K.id===C))==null||(H=H.context)==null?void 0:H.elements.floating;return z&&(z.style.pointerEvents=""),at.style.pointerEvents="none",I.style.pointerEvents="auto",dt.style.pointerEvents="auto",()=>{at.style.pointerEvents="",I.style.pointerEvents="",dt.style.pointerEvents=""}}}},[d,n,C,u,x,E,yt]),mr(()=>{n||(D.current=void 0,gt.current=!1,vt(),ut())},[n,vt,ut]),O.useEffect(()=>()=>{vt(),qi(B),qi(W),ut()},[d,u.domReference,vt,ut]);const $=O.useMemo(()=>{function G(H){D.current=H.pointerType}return{onPointerDown:G,onPointerEnter:G,onMouseMove(H){const{nativeEvent:dt}=H;function at(){!U.current&&!M.current&&r(!0,dt,"hover")}g&&!xy(D.current)||n||lv(j.current)===0||gt.current&&H.movementX**2+H.movementY**2<2||(qi(W),D.current==="touch"?at():(gt.current=!0,W.current=window.setTimeout(at,lv(j.current))))}}},[g,r,n,M,j]);return O.useMemo(()=>d?{reference:$}:{},[d,$])}const fR={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},C1=O.forwardRef(function(e,n){const[r,o]=O.useState();mr(()=>{eR()&&o("button")},[]);const a={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[ud("focus-guard")]:"",style:fR};return P.jsx("span",{...e,...a})}),hR=O.createContext(null),T1=ud("portal");function DU(t){t===void 0&&(t={});const{id:e,root:n}=t,r=mm(),o=jU(),[a,u]=O.useState(null),d=O.useRef(null);return mr(()=>()=>{a?.remove(),queueMicrotask(()=>{d.current=null})},[a]),mr(()=>{if(!r||d.current)return;const m=e?document.getElementById(e):null;if(!m)return;const p=document.createElement("div");p.id=r,p.setAttribute(T1,""),m.appendChild(p),d.current=p,u(p)},[e,r]),mr(()=>{if(n===null||!r||d.current)return;let m=n||o?.portalNode;m&&!q0(m)&&(m=m.current),m=m||document.body;let p=null;e&&(p=document.createElement("div"),p.id=e,m.appendChild(p));const g=document.createElement("div");g.id=r,g.setAttribute(T1,""),m=p||m,m.appendChild(g),d.current=g,u(g)},[e,n,r,o]),a}function NU(t){const{children:e,id:n,root:r,preserveTabOrder:o=!0}=t,a=DU({id:n,root:r}),[u,d]=O.useState(null),m=O.useRef(null),p=O.useRef(null),g=O.useRef(null),y=O.useRef(null),w=u?.modal,x=u?.open,C=!!u&&!u.modal&&u.open&&o&&!!(r||a);return O.useEffect(()=>{if(!a||!o||w)return;function E(R){a&&rv(R)&&(R.type==="focusin"?h1:V5)(a)}return a.addEventListener("focusin",E,!0),a.addEventListener("focusout",E,!0),()=>{a.removeEventListener("focusin",E,!0),a.removeEventListener("focusout",E,!0)}},[a,o,w]),O.useEffect(()=>{a&&(x||h1(a))},[x,a]),P.jsxs(hR.Provider,{value:O.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:m,afterOutsideRef:p,beforeInsideRef:g,afterInsideRef:y,portalNode:a,setFocusManagerState:d}),[o,a]),children:[C&&a&&P.jsx(C1,{"data-type":"outside",ref:m,onFocus:E=>{if(rv(E,a)){var R;(R=g.current)==null||R.focus()}else{const M=u?u.domReference:null,j=U5(M);j?.focus()}}}),C&&a&&P.jsx("span",{"aria-owns":a.id,style:fR}),a&&su.createPortal(e,a),C&&a&&P.jsx(C1,{"data-type":"outside",ref:p,onFocus:E=>{if(rv(E,a)){var R;(R=y.current)==null||R.focus()}else{const M=u?u.domReference:null,j=I5(M);j?.focus(),u?.closeOnFocusOut&&u?.onOpenChange(!1,E.nativeEvent,"focus-out")}}})]})}const jU=()=>O.useContext(hR),BU={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},zU={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},A1=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function IU(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:o,dataRef:a}=t,{enabled:u=!0,escapeKey:d=!0,outsidePress:m=!0,outsidePressEvent:p="pointerdown",referencePress:g=!1,referencePressEvent:y="pointerdown",ancestorScroll:w=!1,bubbles:x,capture:C}=e,E=X0(),R=Nr(typeof m=="function"?m:()=>!1),M=typeof m=="function"?R:m,j=O.useRef(!1),{escapeKey:D,outsidePress:B}=A1(x),{escapeKey:q,outsidePress:W}=A1(C),U=O.useRef(!1),Y=Nr(ut=>{var bt;if(!n||!u||!d||ut.key!=="Escape"||U.current)return;const $=(bt=a.current.floatingContext)==null?void 0:bt.nodeId,G=E?yh(E.nodesRef.current,$):[];if(!D&&(ut.stopPropagation(),G.length>0)){let H=!0;if(G.forEach(dt=>{var at;if((at=dt.context)!=null&&at.open&&!dt.context.dataRef.current.__escapeKeyBubbles){H=!1;return}}),!H)return}r(!1,k5(ut)?ut.nativeEvent:ut,"escape-key")}),ot=Nr(ut=>{var bt;const $=()=>{var G;Y(ut),(G=jl(ut))==null||G.removeEventListener("keydown",$)};(bt=jl(ut))==null||bt.addEventListener("keydown",$)}),gt=Nr(ut=>{var bt;const $=a.current.insideReactTree;a.current.insideReactTree=!1;const G=j.current;if(j.current=!1,p==="click"&&G||$||typeof M=="function"&&!M(ut))return;const H=jl(ut),dt="["+ud("inert")+"]",at=Br(o.floating).querySelectorAll(dt);let I=Oe(H)?H:null;for(;I&&!bs(I);){const J=Es(I);if(bs(J)||!Oe(J))break;I=J}if(at.length&&Oe(H)&&!O5(H)&&!iu(H,o.floating)&&Array.from(at).every(J=>!iu(I,J)))return;if(Oi(H)&&vt){const J=bs(H),ct=Mi(H),wt=/auto|scroll/,St=J||wt.test(ct.overflowX),Dt=J||wt.test(ct.overflowY),Te=St&&H.clientWidth>0&&H.scrollWidth>H.clientWidth,ze=Dt&&H.clientHeight>0&&H.scrollHeight>H.clientHeight,He=ct.direction==="rtl",hi=ze&&(He?ut.offsetX<=H.offsetWidth-H.clientWidth:ut.offsetX>H.clientWidth),Pt=Te&&ut.offsetY>H.clientHeight;if(hi||Pt)return}const z=(bt=a.current.floatingContext)==null?void 0:bt.nodeId,K=E&&yh(E.nodesRef.current,z).some(J=>{var ct;return iv(ut,(ct=J.context)==null?void 0:ct.elements.floating)});if(iv(ut,o.floating)||iv(ut,o.domReference)||K)return;const st=E?yh(E.nodesRef.current,z):[];if(st.length>0){let J=!0;if(st.forEach(ct=>{var wt;if((wt=ct.context)!=null&&wt.open&&!ct.context.dataRef.current.__outsidePressBubbles){J=!1;return}}),!J)return}r(!1,ut,"outside-press")}),yt=Nr(ut=>{var bt;const $=()=>{var G;gt(ut),(G=jl(ut))==null||G.removeEventListener(p,$)};(bt=jl(ut))==null||bt.addEventListener(p,$)});O.useEffect(()=>{if(!n||!u)return;a.current.__escapeKeyBubbles=D,a.current.__outsidePressBubbles=B;let ut=-1;function bt(at){r(!1,at,"ancestor-scroll")}function $(){window.clearTimeout(ut),U.current=!0}function G(){ut=window.setTimeout(()=>{U.current=!1},dm()?5:0)}const H=Br(o.floating);d&&(H.addEventListener("keydown",q?ot:Y,q),H.addEventListener("compositionstart",$),H.addEventListener("compositionend",G)),M&&H.addEventListener(p,W?yt:gt,W);let dt=[];return w&&(Oe(o.domReference)&&(dt=xo(o.domReference)),Oe(o.floating)&&(dt=dt.concat(xo(o.floating))),!Oe(o.reference)&&o.reference&&o.reference.contextElement&&(dt=dt.concat(xo(o.reference.contextElement)))),dt=dt.filter(at=>{var I;return at!==((I=H.defaultView)==null?void 0:I.visualViewport)}),dt.forEach(at=>{at.addEventListener("scroll",bt,{passive:!0})}),()=>{d&&(H.removeEventListener("keydown",q?ot:Y,q),H.removeEventListener("compositionstart",$),H.removeEventListener("compositionend",G)),M&&H.removeEventListener(p,W?yt:gt,W),dt.forEach(at=>{at.removeEventListener("scroll",bt)}),window.clearTimeout(ut)}},[a,o,d,M,p,n,r,w,u,D,B,Y,q,ot,gt,W,yt]),O.useEffect(()=>{a.current.insideReactTree=!1},[a,M,p]);const _t=O.useMemo(()=>({onKeyDown:Y,...g&&{[BU[y]]:ut=>{r(!1,ut.nativeEvent,"reference-press")},...y!=="click"&&{onClick(ut){r(!1,ut.nativeEvent,"reference-press")}}}}),[Y,r,g,y]),vt=O.useMemo(()=>({onKeyDown:Y,onMouseDown(){j.current=!0},onMouseUp(){j.current=!0},[zU[p]]:()=>{a.current.insideReactTree=!0}}),[Y,p,a]);return O.useMemo(()=>u?{reference:_t,floating:vt}:{},[u,_t,vt])}function UU(t){const{open:e=!1,onOpenChange:n,elements:r}=t,o=mm(),a=O.useRef({}),[u]=O.useState(()=>MU()),d=Y0()!=null,[m,p]=O.useState(r.reference),g=Nr((x,C,E)=>{a.current.openEvent=x?C:void 0,u.emit("openchange",{open:x,event:C,reason:E,nested:d}),n?.(x,C,E)}),y=O.useMemo(()=>({setPositionReference:p}),[]),w=O.useMemo(()=>({reference:m||r.reference||null,floating:r.floating||null,domReference:r.reference}),[m,r.reference,r.floating]);return O.useMemo(()=>({dataRef:a,open:e,onOpenChange:g,elements:w,events:u,floatingId:o,refs:y}),[e,g,w,u,o,y])}function VU(t){t===void 0&&(t={});const{nodeId:e}=t,n=UU({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,o=r.elements,[a,u]=O.useState(null),[d,m]=O.useState(null),g=o?.domReference||a,y=O.useRef(null),w=X0();mr(()=>{g&&(y.current=g)},[g]);const x=yU({...t,elements:{...o,...d&&{reference:d}}}),C=O.useCallback(D=>{const B=Oe(D)?{getBoundingClientRect:()=>D.getBoundingClientRect(),getClientRects:()=>D.getClientRects(),contextElement:D}:D;m(B),x.refs.setReference(B)},[x.refs]),E=O.useCallback(D=>{(Oe(D)||D===null)&&(y.current=D,u(D)),(Oe(x.refs.reference.current)||x.refs.reference.current===null||D!==null&&!Oe(D))&&x.refs.setReference(D)},[x.refs]),R=O.useMemo(()=>({...x.refs,setReference:E,setPositionReference:C,domReference:y}),[x.refs,E,C]),M=O.useMemo(()=>({...x.elements,domReference:g}),[x.elements,g]),j=O.useMemo(()=>({...x,...r,refs:R,elements:M,nodeId:e}),[x,R,M,e,r]);return mr(()=>{r.dataRef.current.floatingContext=j;const D=w?.nodesRef.current.find(B=>B.id===e);D&&(D.context=j)}),O.useMemo(()=>({...x,context:j,refs:R,elements:M}),[x,R,M,j])}function uv(){return T5()&&eR()}function FU(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:o,dataRef:a,elements:u}=t,{enabled:d=!0,visibleOnly:m=!0}=e,p=O.useRef(!1),g=O.useRef(-1),y=O.useRef(!0);O.useEffect(()=>{if(!d)return;const x=fi(u.domReference);function C(){!n&&Oi(u.domReference)&&u.domReference===wy(Br(u.domReference))&&(p.current=!0)}function E(){y.current=!0}function R(){y.current=!1}return x.addEventListener("blur",C),uv()&&(x.addEventListener("keydown",E,!0),x.addEventListener("pointerdown",R,!0)),()=>{x.removeEventListener("blur",C),uv()&&(x.removeEventListener("keydown",E,!0),x.removeEventListener("pointerdown",R,!0))}},[u.domReference,n,d]),O.useEffect(()=>{if(!d)return;function x(C){let{reason:E}=C;(E==="reference-press"||E==="escape-key")&&(p.current=!0)}return o.on("openchange",x),()=>{o.off("openchange",x)}},[o,d]),O.useEffect(()=>()=>{qi(g)},[]);const w=O.useMemo(()=>({onMouseLeave(){p.current=!1},onFocus(x){if(p.current)return;const C=jl(x.nativeEvent);if(m&&Oe(C)){if(uv()&&!x.relatedTarget){if(!y.current&&!M5(C))return}else if(!L5(C))return}r(!0,x.nativeEvent,"focus")},onBlur(x){p.current=!1;const C=x.relatedTarget,E=x.nativeEvent,R=Oe(C)&&C.hasAttribute(ud("focus-guard"))&&C.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var M;const j=wy(u.domReference?u.domReference.ownerDocument:document);!C&&j===u.domReference||iu((M=a.current.floatingContext)==null?void 0:M.refs.floating.current,j)||iu(u.domReference,j)||R||r(!1,E,"focus")})}}),[a,u.domReference,r,m]);return O.useMemo(()=>d?{reference:w}:{},[d,w])}function cv(t,e,n){const r=new Map,o=n==="item";let a=t;if(o&&t){const{[b1]:u,[w1]:d,...m}=t;a=m}return{...n==="floating"&&{tabIndex:-1,[EU]:""},...a,...e.map(u=>{const d=u?u[n]:null;return typeof d=="function"?t?d(t):null:d}).concat(t).reduce((u,d)=>(d&&Object.entries(d).forEach(m=>{let[p,g]=m;if(!(o&&[b1,w1].includes(p)))if(p.indexOf("on")===0){if(r.has(p)||r.set(p,[]),typeof g=="function"){var y;(y=r.get(p))==null||y.push(g),u[p]=function(){for(var w,x=arguments.length,C=new Array(x),E=0;E<x;E++)C[E]=arguments[E];return(w=r.get(p))==null?void 0:w.map(R=>R(...C)).find(R=>R!==void 0)}}}else u[p]=g}),u),{})}}function $U(t){t===void 0&&(t=[]);const e=t.map(d=>d?.reference),n=t.map(d=>d?.floating),r=t.map(d=>d?.item),o=O.useCallback(d=>cv(d,t,"reference"),e),a=O.useCallback(d=>cv(d,t,"floating"),n),u=O.useCallback(d=>cv(d,t,"item"),r);return O.useMemo(()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:u}),[o,a,u])}const HU=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function qU(t,e){var n,r;e===void 0&&(e={});const{open:o,elements:a,floatingId:u}=t,{enabled:d=!0,role:m="dialog"}=e,p=mm(),g=((n=a.domReference)==null?void 0:n.id)||p,y=O.useMemo(()=>{var j;return((j=P5(a.floating))==null?void 0:j.id)||u},[a.floating,u]),w=(r=HU.get(m))!=null?r:m,C=Y0()!=null,E=O.useMemo(()=>w==="tooltip"||m==="label"?{["aria-"+(m==="label"?"labelledby":"describedby")]:o?y:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":w==="alertdialog"?"dialog":w,"aria-controls":o?y:void 0,...w==="listbox"&&{role:"combobox"},...w==="menu"&&{id:g},...w==="menu"&&C&&{role:"menuitem"},...m==="select"&&{"aria-autocomplete":"none"},...m==="combobox"&&{"aria-autocomplete":"list"}},[w,y,C,o,g,m]),R=O.useMemo(()=>{const j={id:y,...w&&{role:w}};return w==="tooltip"||m==="label"?j:{...j,...w==="menu"&&{"aria-labelledby":g}}},[w,y,g,m]),M=O.useCallback(j=>{let{active:D,selected:B}=j;const q={role:"option",...D&&{id:y+"-fui-option"}};switch(m){case"select":case"combobox":return{...q,"aria-selected":B}}return{}},[y,m]);return O.useMemo(()=>d?{reference:E,floating:R,item:M}:{},[d,E,R,M])}function GU({children:t,content:e,side:n="top",delay:r=300}){const[o,a]=O.useState(!1),u=O.useRef(null),{refs:d,floatingStyles:m,context:p}=VU({open:o,onOpenChange:a,placement:n,whileElementsMounted:dU,middleware:[bU(8),xU(),wU({padding:8}),SU({element:u})]}),g=kU(p,{delay:{open:r,close:100}}),y=FU(p),w=IU(p),x=qU(p,{role:"tooltip"}),{getReferenceProps:C,getFloatingProps:E}=$U([g,y,w,x]);return P.jsxs(P.Fragment,{children:[O.isValidElement(t)&&O.cloneElement(t,C({ref:d.setReference,...t.props})),P.jsx(NU,{children:P.jsx(Bc,{children:o&&P.jsxs(Se.div,{ref:d.setFloating,style:m,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.15},...E(),className:"z-[9999] px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-xl max-w-xs",children:[e,P.jsx(OU,{ref:u,context:p,fill:"#111827"})]})})})]})}function Jf({icon:t,label:e,value:n,subValue:r,highlight:o,trend:a,delay:u=0,tooltip:d}){if(!n||n==="-")return null;const m=P.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:u,duration:.3},whileHover:{scale:1.02},className:`relative p-6 rounded-2xl border transition-all duration-300 group hover:shadow-xl ${o?"bg-gradient-to-br from-loop-lime/10 via-loop-lime/5 to-white border-loop-lime/30 hover:border-loop-lime/50 hover:shadow-lime-200/30":"bg-gradient-to-br from-white to-gray-50 border-gray-200 hover:border-gray-300"}`,children:[P.jsx("div",{className:`absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 ${o?"bg-gradient-to-br from-loop-lime/10 to-transparent":"bg-gradient-to-br from-primary-blue/5 to-transparent"}`}),P.jsxs("div",{className:"relative",children:[P.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs mb-3",children:[P.jsx("div",{className:`p-1.5 rounded-xl ${o?"bg-loop-lime/30":"bg-gray-100"}`,children:t}),P.jsx("span",{className:"font-semibold uppercase tracking-wide",children:e}),d&&P.jsx(hB,{className:"w-3 h-3 text-gray-400 ml-auto"})]}),P.jsxs("div",{className:`font-bold text-2xl tabular-nums ${o?"text-loop-black":"text-gray-900"}`,children:[n,a&&P.jsx("span",{className:"inline-block ml-2",children:a==="up"?P.jsx($j,{className:"w-5 h-5 text-green-600 inline"}):P.jsx(Vj,{className:"w-5 h-5 text-red-600 inline"})})]}),r&&P.jsx("div",{className:"text-xs text-gray-500 mt-2 font-medium",children:r})]})]});return d?P.jsx(GU,{content:d,side:"top",delay:200,children:m}):m}function R1(){const{selectedCompany:t,setSelectedCompany:e}=Ts();return t?P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"sticky top-0 bg-gradient-to-br from-white/95 via-gray-50/95 to-white/95 backdrop-blur-xl border-b border-gray-200 z-10 shadow-md",children:P.jsx("div",{className:"p-5",children:P.jsxs("div",{className:"flex items-start justify-between gap-4",children:[P.jsxs("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[t.logo_url?P.jsxs(Se.div,{initial:{scale:.8,opacity:0,rotate:-5},animate:{scale:1,opacity:1,rotate:0},transition:{type:"spring",damping:15},className:"relative flex-shrink-0",children:[P.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-loop-lime/20 to-primary-blue/20 rounded-2xl blur-md"}),P.jsx("img",{src:t.logo_url,alt:t.name,className:"relative w-20 h-20 rounded-2xl object-contain bg-white p-2.5 border-2 border-gray-200 shadow-lg"})]}):P.jsx(Se.div,{initial:{scale:.8,opacity:0,rotate:-5},animate:{scale:1,opacity:1,rotate:0},transition:{type:"spring",damping:15},className:"relative w-20 h-20 rounded-2xl bg-gradient-to-br from-loop-lime via-loop-lime-dark to-loop-lime flex items-center justify-center font-bold text-3xl shadow-xl shadow-lime-200/50 flex-shrink-0",children:tu(t.sector)}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsx("h2",{className:"font-serif font-bold text-gray-900 text-3xl leading-tight mb-3 pr-2",children:t.name}),t.sector&&P.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold rounded-xl shadow-sm ${z0(t.sector)}`,children:[P.jsx("span",{className:"text-base",children:tu(t.sector)}),t.sector]})]})]}),P.jsx("button",{onClick:()=>e(null),className:"p-2.5 hover:bg-gray-100 rounded-2xl transition-all duration-300 flex-shrink-0 hover:scale-110 hover:rotate-90","aria-label":"Stng",children:P.jsx(vT,{className:"w-6 h-6 text-gray-500"})})]})})}),P.jsxs("div",{className:"p-5 space-y-6",children:[P.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center gap-3 text-gray-700 px-4 py-3 bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-200 shadow-sm",children:[P.jsx("div",{className:"p-2 bg-primary-blue/10 rounded-xl",children:P.jsx(Mh,{className:"w-4 h-4 text-primary-blue"})}),P.jsx("span",{className:"text-sm font-semibold",children:[t.city,t.county].filter(Boolean).join(", ")||"Sverige"})]}),P.jsxs("div",{children:[P.jsxs("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-4 px-1 flex items-center gap-2",children:[P.jsx("div",{className:"w-1 h-4 bg-gradient-to-b from-loop-lime to-loop-lime-dark rounded-full"}),"Nyckeltal"]}),P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsx(Jf,{icon:P.jsx(qj,{className:"w-3.5 h-3.5"}),label:"Omsttning 2024",value:bo(t.turnover_2024_sek),highlight:!!t.turnover_2024_sek,delay:.15,tooltip:"Total omsttning fr 2024 i svenska kronor"}),P.jsx(Jf,{icon:P.jsx(im,{className:"w-3.5 h-3.5"}),label:"Tillvxt",value:kT(t.growth_2023_2024_percent),highlight:t.growth_2023_2024_percent!==null&&t.growth_2023_2024_percent>0,trend:t.growth_2023_2024_percent!==null?t.growth_2023_2024_percent>0?"up":"down":null,delay:.2,tooltip:"Omsttningstillvxt frn 2023 till 2024"}),P.jsx(Jf,{icon:P.jsx(AB,{className:"w-3.5 h-3.5"}),label:"Total Funding",value:bo(t.total_funding_sek),delay:.25,tooltip:"Total finansiering mottagen frn investerare"}),P.jsx(Jf,{icon:P.jsx(Kj,{className:"w-3.5 h-3.5"}),label:"Vrdering",value:bo(t.latest_valuation_sek),delay:.3,tooltip:"Senaste bolagsvrdering baserat p finansieringsrunda"})]})]}),P.jsxs("div",{children:[P.jsxs("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-4 px-1 flex items-center gap-2",children:[P.jsx("div",{className:"w-1 h-4 bg-gradient-to-b from-primary-blue to-purple rounded-full"}),"Fretagsinfo"]}),P.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.35},className:"bg-gradient-to-br from-gray-50 to-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[t.investment_status&&P.jsxs("div",{className:"flex justify-between px-4 py-3 border-b border-gray-200 hover:bg-white transition-colors",children:[P.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"Investeringsstatus"}),P.jsx("span",{className:"text-gray-900 text-sm font-semibold",children:t.investment_status})]}),t.foundation_date&&P.jsxs("div",{className:"flex justify-between px-4 py-3 border-b border-gray-200 hover:bg-white transition-colors",children:[P.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"Grundat"}),P.jsx("span",{className:"text-gray-900 text-sm font-semibold",children:new Date(t.foundation_date).getFullYear()})]}),t.ceo_contact&&P.jsxs("div",{className:"flex justify-between px-4 py-3 border-b border-gray-200 hover:bg-white transition-colors",children:[P.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"VD"}),P.jsx("span",{className:"text-gray-900 text-sm font-semibold",children:t.ceo_contact})]}),P.jsxs("div",{className:"flex justify-between px-4 py-3 hover:bg-white transition-colors",children:[P.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"Org.nr"}),P.jsx("span",{className:"text-gray-900 text-sm font-mono font-semibold",children:t.orgnr})]})]})]}),P.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"pt-2 space-y-3",children:[P.jsxs("a",{href:`https://www.allabolag.se/${t.orgnr}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-3 w-full py-4 bg-gradient-to-r from-primary-blue via-primary-blue to-purple hover:from-purple hover:to-primary-blue text-white rounded-2xl font-bold transition-all shadow-lg hover:shadow-xl hover:scale-105 group",children:[P.jsx(L0,{className:"w-5 h-5 group-hover:scale-110 group-hover:rotate-12 transition-transform"}),"Visa p Allabolag"]}),P.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[P.jsxs("a",{href:`https://www.google.com/search?q=${encodeURIComponent(t.name+" fretag")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 py-3 px-4 bg-white border-2 border-gray-200 hover:border-loop-lime hover:bg-loop-lime/5 text-gray-700 hover:text-loop-black rounded-xl font-semibold transition-all hover:shadow-md group",children:[P.jsx(uB,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),P.jsx("span",{className:"text-sm",children:"Hemsida"})]}),t.ceo_contact&&P.jsxs("a",{href:`mailto:${t.ceo_contact}`,className:"flex items-center justify-center gap-2 py-3 px-4 bg-white border-2 border-gray-200 hover:border-loop-lime hover:bg-loop-lime/5 text-gray-700 hover:text-loop-black rounded-xl font-semibold transition-all hover:shadow-md group",children:[P.jsx(pB,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),P.jsx("span",{className:"text-sm",children:"Kontakta"})]})]})]})]})]}):null}function ZU(){const{selectedCompany:t,setSelectedCompany:e}=Ts(),[n,r]=O.useState(!1);return O.useEffect(()=>{const o=()=>{r(window.innerWidth<768)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]),n?P.jsx(Yf.Root,{open:!!t,onOpenChange:o=>!o&&e(null),children:P.jsxs(Yf.Portal,{children:[P.jsx(Yf.Overlay,{className:"fixed inset-0 bg-black/40 z-[999]"}),P.jsxs(Yf.Content,{className:"bg-white flex flex-col rounded-t-[24px] h-[90vh] mt-24 fixed bottom-0 left-0 right-0 z-[1000] outline-none",children:[P.jsx("div",{className:"p-4 bg-white rounded-t-[24px] flex-shrink-0",children:P.jsx("div",{className:"mx-auto w-12 h-1.5 flex-shrink-0 rounded-full bg-gray-300 mb-4"})}),P.jsx("div",{className:"overflow-y-auto flex-1",children:P.jsx(R1,{})})]})]})}):P.jsx(Bc,{children:t&&P.jsx(Se.div,{initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"100%",opacity:0},transition:{type:"spring",damping:30,stiffness:300},className:"fixed right-0 top-0 h-full w-full sm:w-[480px] bg-gradient-to-b from-white via-gray-50 to-white shadow-2xl z-[1000] overflow-y-auto border-l border-gray-200",children:P.jsx(R1,{})})})}const KU=["Climate Tech","Health Tech","Fintech","EdTech","Impact"];function WU({companyCount:t,loading:e}){const{filters:n,setFilters:r,viewMode:o,setViewMode:a}=Ts(),u=()=>{const d=new KeyboardEvent("keydown",{key:"k",metaKey:!0,bubbles:!0});document.dispatchEvent(d)};return P.jsxs("header",{className:"relative bg-gradient-to-r from-white via-gray-50/50 to-white border-b border-gray-200",children:[P.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-loop-lime via-teal-400 to-loop-lime"}),P.jsxs("div",{className:"relative px-4 sm:px-6 py-4 pt-5",children:[P.jsxs("div",{className:"flex items-center justify-between gap-4",children:[P.jsxs("div",{className:"flex items-center gap-4",children:[P.jsxs(Se.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"relative w-12 h-12 rounded-2xl bg-gradient-to-br from-[#0A0A0A] via-[#1A1A1A] to-[#0A0A0A] flex items-center justify-center shadow-lg group hover:shadow-xl transition-all duration-300",children:[P.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-loop-lime/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),P.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-loop-lime via-loop-lime-dark to-loop-lime shadow-[0_0_12px_rgba(132,204,22,0.6)] group-hover:shadow-[0_0_20px_rgba(132,204,22,0.8)] transition-all duration-300"})]}),P.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[P.jsxs("div",{children:[P.jsx("h1",{className:"font-bold text-gray-900 text-lg sm:text-2xl leading-tight tracking-tight",children:"Loop Tool"}),P.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 font-medium mt-0.5 sm:mt-1 hidden xs:block",children:e?P.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[P.jsx("span",{className:"inline-block w-1.5 h-1.5 rounded-full bg-gray-400 animate-pulse"}),"Laddar..."]}):"Impact Ecosystem"})]}),!e&&P.jsxs(Se.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,duration:.5},className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-2xl bg-gradient-to-r from-loop-lime via-loop-lime to-loop-lime-dark shadow-md shadow-lime-200/50 border border-lime-300/30 group hover:shadow-lg hover:shadow-lime-200/60 transition-all duration-300",children:[P.jsx("div",{className:"w-2 h-2 rounded-full bg-loop-black shadow-[0_0_6px_rgba(10,10,10,0.8)] animate-pulse"}),P.jsx("span",{className:"text-sm font-bold text-loop-black tabular-nums",children:t.toLocaleString("sv-SE")}),P.jsx("span",{className:"text-xs font-semibold text-loop-black/70",children:"fretag"})]})]})]}),P.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[P.jsxs("button",{onClick:u,className:"hidden sm:flex items-center gap-2 px-4 py-2.5 text-sm text-gray-500 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl hover:border-gray-300 hover:bg-white hover:text-gray-700 transition-all shadow-sm group",children:[P.jsx(Lh,{className:"w-4 h-4"}),P.jsx("span",{className:"text-gray-400 group-hover:text-gray-600",children:"Sk fretag..."}),P.jsxs("kbd",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-gray-100 rounded-md border border-gray-200 flex items-center gap-0.5",children:[P.jsx(nB,{className:"w-3 h-3"}),"K"]})]}),P.jsx("button",{onClick:u,className:"sm:hidden p-2.5 text-gray-500 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all",children:P.jsx(Lh,{className:"w-5 h-5"})}),P.jsxs("div",{className:"flex items-center bg-loop-black rounded-xl sm:rounded-2xl p-0.5 sm:p-1 shadow-xl border border-gray-800",children:[P.jsxs("button",{onClick:()=>a("map"),className:`flex items-center gap-1 sm:gap-2 px-3 sm:px-5 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold transition-all duration-300 ${o==="map"?"bg-gradient-to-r from-loop-lime to-loop-lime-dark text-loop-black shadow-lg shadow-lime-500/30 scale-105":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[P.jsx(yB,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),P.jsx("span",{className:"hidden sm:inline",children:"Karta"})]}),P.jsxs("button",{onClick:()=>a("table"),className:`flex items-center gap-1 sm:gap-2 px-3 sm:px-5 py-2 sm:py-2.5 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold transition-all duration-300 ${o==="table"?"bg-gradient-to-r from-loop-lime to-loop-lime-dark text-loop-black shadow-lg shadow-lime-500/30 scale-105":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[P.jsx(xB,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),P.jsx("span",{className:"hidden sm:inline",children:"Data"})]})]})]})]}),!e&&P.jsxs(Se.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center gap-2.5 mt-4 overflow-x-auto pb-1 scrollbar-hide",children:[P.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wide mr-1 flex-shrink-0",children:"Filter:"}),P.jsxs("button",{onClick:()=>r({...n,sector:null}),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 flex-shrink-0 hover:scale-105 ${n.sector?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-loop-lime text-loop-black shadow-md shadow-lime-200/50"}`,children:[P.jsx(gT,{className:"w-3.5 h-3.5"}),"Alla"]}),KU.map(d=>P.jsx("button",{onClick:()=>r({...n,sector:n.sector===d?null:d}),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-200 flex-shrink-0 hover:scale-105 ${n.sector===d?"bg-loop-black text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:d},d))]})]})]})}function YU(){return P.jsx(Se.footer,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-50 text-gray-700 border-t border-gray-200",children:P.jsx("div",{className:"px-6 py-4",children:P.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-gray-900 to-gray-700 flex items-center justify-center shadow-sm",children:P.jsx(rB,{className:"w-4 h-4 text-loop-lime"})}),P.jsxs("div",{children:[P.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:"Loop Tool"}),P.jsx("p",{className:"text-xs text-gray-500",children:"Impact investing database"})]})]}),P.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[P.jsxs("a",{href:"https://impactloop.se",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-gray-500 hover:text-gray-900 transition-colors",children:[P.jsx(L0,{className:"w-3.5 h-3.5"}),"Impact Loop"]}),P.jsxs("a",{href:"https://github.com/isakskogstad/Loop-Tool",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-gray-500 hover:text-gray-900 transition-colors",children:[P.jsx(aB,{className:"w-3.5 h-3.5"}),"GitHub"]})]}),P.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[P.jsx("span",{children:"Byggd med"}),P.jsx(dB,{className:"w-3 h-3 text-red-400"}),P.jsx("span",{children:"fr svenska impact-investerare"})]})]})})})}function mR(t,e=2e3){const[n,r]=O.useState(0);return O.useEffect(()=>{if(t===0)return;const o=60,a=t/o,u=e/o;let d=0;const m=setInterval(()=>{d+=a,d>=t?(r(t),clearInterval(m)):r(Math.floor(d))},u);return()=>clearInterval(m)},[t,e]),n}function XU({value:t,label:e,suffix:n="",icon:r}){const o=mR(t);return P.jsxs(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-6 text-white overflow-hidden group hover:shadow-2xl transition-shadow duration-300",children:[P.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-loop-lime to-teal-400"}),P.jsxs("div",{className:"relative",children:[P.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[P.jsx("div",{className:"p-2 bg-loop-lime/20 rounded-lg",children:r}),P.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e})]}),P.jsxs("div",{className:"flex items-baseline gap-2",children:[P.jsx("span",{className:"text-4xl sm:text-5xl font-bold tabular-nums text-loop-lime",children:o.toLocaleString("sv-SE")}),n&&P.jsx("span",{className:"text-lg font-semibold text-gray-400",children:n})]})]})]})}function dv({value:t,label:e,suffix:n="",prefix:r="",icon:o,gradient:a,delay:u=0}){const d=mR(t);return P.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u,duration:.5},className:"relative bg-white rounded-2xl p-6 border border-gray-200/60 shadow-sm hover:shadow-xl hover:border-gray-300 transition-all duration-300 group overflow-hidden",children:[P.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${a} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),P.jsxs("div",{className:"relative flex items-center gap-4",children:[P.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${a} shadow-lg group-hover:scale-110 group-hover:shadow-xl transition-all duration-300`,children:P.jsx("div",{className:"text-white",children:o})}),P.jsxs("div",{className:"flex-1",children:[P.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1.5",children:e}),P.jsxs("p",{className:"text-2xl font-bold text-gray-900 tabular-nums",children:[r,d.toLocaleString("sv-SE"),n]})]})]})]})}const QU=({companies:t,loading:e})=>{if(e)return P.jsx("div",{className:"w-full px-4 sm:px-6 py-6",children:P.jsx("div",{className:"max-w-screen-xl mx-auto",children:P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[P.jsx("div",{className:"md:col-span-1 h-36 bg-gray-200 rounded-3xl animate-pulse"}),P.jsx("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[...Array(3)].map((u,d)=>P.jsx("div",{className:"h-24 bg-gray-100 rounded-2xl animate-pulse"},d))})]})})});const n=t.length,r=t.reduce((u,d)=>u+(d.total_funding_sek||0),0)/1e9,o=t.filter(u=>u.growth_2023_2024_percent!==null&&u.growth_2023_2024_percent>0).length,a=t.reduce((u,d)=>d.growth_2023_2024_percent!==null?u+d.growth_2023_2024_percent:u,0)/(t.filter(u=>u.growth_2023_2024_percent!==null).length||1);return P.jsx("div",{className:"w-full px-4 sm:px-6 py-6",children:P.jsx("div",{className:"max-w-screen-xl mx-auto",children:P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[P.jsx("div",{className:"md:col-span-1",children:P.jsx(XU,{value:n,label:"Impact-fretag",icon:P.jsx(pT,{className:"w-5 h-5 text-loop-lime"})})}),P.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[P.jsx(dv,{value:Math.round(r*10)/10,label:"Total Funding",suffix:" mdr kr",icon:P.jsx(OB,{className:"w-5 h-5"}),gradient:"from-primary-blue to-blue-600",delay:.1}),P.jsx(dv,{value:Math.round(a*10)/10,label:"Snitt Tillvxt",suffix:"%",prefix:a>=0?"+":"",icon:P.jsx(im,{className:"w-5 h-5"}),gradient:"from-teal to-emerald-500",delay:.2}),P.jsx(dv,{value:o,label:"Positiv Tillvxt",icon:P.jsx(PB,{className:"w-5 h-5"}),gradient:"from-purple to-pink-500",delay:.3})]})]})})})};var O1=1,JU=.9,t4=.8,e4=.17,fv=.1,hv=.999,n4=.9999,i4=.99,r4=/[\\\/_+.#"@\[\(\{&]/,s4=/[\\\/_+.#"@\[\(\{&]/g,o4=/[\s-]/,pR=/[\s-]/g;function Sy(t,e,n,r,o,a,u){if(a===e.length)return o===t.length?O1:i4;var d=`${o},${a}`;if(u[d]!==void 0)return u[d];for(var m=r.charAt(a),p=n.indexOf(m,o),g=0,y,w,x,C;p>=0;)y=Sy(t,e,n,r,p+1,a+1,u),y>g&&(p===o?y*=O1:r4.test(t.charAt(p-1))?(y*=t4,x=t.slice(o,p-1).match(s4),x&&o>0&&(y*=Math.pow(hv,x.length))):o4.test(t.charAt(p-1))?(y*=JU,C=t.slice(o,p-1).match(pR),C&&o>0&&(y*=Math.pow(hv,C.length))):(y*=e4,o>0&&(y*=Math.pow(hv,p-o))),t.charAt(p)!==e.charAt(a)&&(y*=n4)),(y<fv&&n.charAt(p-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&n.charAt(p-1)!==r.charAt(a))&&(w=Sy(t,e,n,r,p+1,a+2,u),w*fv>y&&(y=w*fv)),y>g&&(g=y),p=n.indexOf(m,p+1);return u[d]=g,g}function M1(t){return t.toLowerCase().replace(pR," ")}function a4(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Sy(t,e,M1(t),M1(e),0,0,{})}var yc='[cmdk-group=""]',mv='[cmdk-group-items=""]',l4='[cmdk-group-heading=""]',gR='[cmdk-item=""]',L1=`${gR}:not([aria-disabled="true"])`,Ey="cmdk-item-select",Bl="data-value",u4=(t,e,n)=>a4(t,e,n),vR=O.createContext(void 0),cd=()=>O.useContext(vR),yR=O.createContext(void 0),Q0=()=>O.useContext(yR),_R=O.createContext(void 0),bR=O.forwardRef((t,e)=>{let n=zl(()=>{var z,K;return{search:"",value:(K=(z=t.value)!=null?z:t.defaultValue)!=null?K:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=zl(()=>new Set),o=zl(()=>new Map),a=zl(()=>new Map),u=zl(()=>new Set),d=wR(t),{label:m,children:p,value:g,onValueChange:y,filter:w,shouldFilter:x,loop:C,disablePointerSelection:E=!1,vimBindings:R=!0,...M}=t,j=_s(),D=_s(),B=_s(),q=O.useRef(null),W=b4();ja(()=>{if(g!==void 0){let z=g.trim();n.current.value=z,U.emit()}},[g]),ja(()=>{W(6,vt)},[]);let U=O.useMemo(()=>({subscribe:z=>(u.current.add(z),()=>u.current.delete(z)),snapshot:()=>n.current,setState:(z,K,st)=>{var J,ct,wt,St;if(!Object.is(n.current[z],K)){if(n.current[z]=K,z==="search")_t(),gt(),W(1,yt);else if(z==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Dt=document.getElementById(B);Dt?Dt.focus():(J=document.getElementById(j))==null||J.focus()}if(W(7,()=>{var Dt;n.current.selectedItemId=(Dt=ut())==null?void 0:Dt.id,U.emit()}),st||W(5,vt),((ct=d.current)==null?void 0:ct.value)!==void 0){let Dt=K??"";(St=(wt=d.current).onValueChange)==null||St.call(wt,Dt);return}}U.emit()}},emit:()=>{u.current.forEach(z=>z())}}),[]),Y=O.useMemo(()=>({value:(z,K,st)=>{var J;K!==((J=a.current.get(z))==null?void 0:J.value)&&(a.current.set(z,{value:K,keywords:st}),n.current.filtered.items.set(z,ot(K,st)),W(2,()=>{gt(),U.emit()}))},item:(z,K)=>(r.current.add(z),K&&(o.current.has(K)?o.current.get(K).add(z):o.current.set(K,new Set([z]))),W(3,()=>{_t(),gt(),n.current.value||yt(),U.emit()}),()=>{a.current.delete(z),r.current.delete(z),n.current.filtered.items.delete(z);let st=ut();W(4,()=>{_t(),st?.getAttribute("id")===z&&yt(),U.emit()})}),group:z=>(o.current.has(z)||o.current.set(z,new Set),()=>{a.current.delete(z),o.current.delete(z)}),filter:()=>d.current.shouldFilter,label:m||t["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:j,inputId:B,labelId:D,listInnerRef:q}),[]);function ot(z,K){var st,J;let ct=(J=(st=d.current)==null?void 0:st.filter)!=null?J:u4;return z?ct(z,n.current.search,K):0}function gt(){if(!n.current.search||d.current.shouldFilter===!1)return;let z=n.current.filtered.items,K=[];n.current.filtered.groups.forEach(J=>{let ct=o.current.get(J),wt=0;ct.forEach(St=>{let Dt=z.get(St);wt=Math.max(Dt,wt)}),K.push([J,wt])});let st=q.current;bt().sort((J,ct)=>{var wt,St;let Dt=J.getAttribute("id"),Te=ct.getAttribute("id");return((wt=z.get(Te))!=null?wt:0)-((St=z.get(Dt))!=null?St:0)}).forEach(J=>{let ct=J.closest(mv);ct?ct.appendChild(J.parentElement===ct?J:J.closest(`${mv} > *`)):st.appendChild(J.parentElement===st?J:J.closest(`${mv} > *`))}),K.sort((J,ct)=>ct[1]-J[1]).forEach(J=>{var ct;let wt=(ct=q.current)==null?void 0:ct.querySelector(`${yc}[${Bl}="${encodeURIComponent(J[0])}"]`);wt?.parentElement.appendChild(wt)})}function yt(){let z=bt().find(st=>st.getAttribute("aria-disabled")!=="true"),K=z?.getAttribute(Bl);U.setState("value",K||void 0)}function _t(){var z,K,st,J;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let ct=0;for(let wt of r.current){let St=(K=(z=a.current.get(wt))==null?void 0:z.value)!=null?K:"",Dt=(J=(st=a.current.get(wt))==null?void 0:st.keywords)!=null?J:[],Te=ot(St,Dt);n.current.filtered.items.set(wt,Te),Te>0&&ct++}for(let[wt,St]of o.current)for(let Dt of St)if(n.current.filtered.items.get(Dt)>0){n.current.filtered.groups.add(wt);break}n.current.filtered.count=ct}function vt(){var z,K,st;let J=ut();J&&(((z=J.parentElement)==null?void 0:z.firstChild)===J&&((st=(K=J.closest(yc))==null?void 0:K.querySelector(l4))==null||st.scrollIntoView({block:"nearest"})),J.scrollIntoView({block:"nearest"}))}function ut(){var z;return(z=q.current)==null?void 0:z.querySelector(`${gR}[aria-selected="true"]`)}function bt(){var z;return Array.from(((z=q.current)==null?void 0:z.querySelectorAll(L1))||[])}function $(z){let K=bt()[z];K&&U.setState("value",K.getAttribute(Bl))}function G(z){var K;let st=ut(),J=bt(),ct=J.findIndex(St=>St===st),wt=J[ct+z];(K=d.current)!=null&&K.loop&&(wt=ct+z<0?J[J.length-1]:ct+z===J.length?J[0]:J[ct+z]),wt&&U.setState("value",wt.getAttribute(Bl))}function H(z){let K=ut(),st=K?.closest(yc),J;for(;st&&!J;)st=z>0?y4(st,yc):_4(st,yc),J=st?.querySelector(L1);J?U.setState("value",J.getAttribute(Bl)):G(z)}let dt=()=>$(bt().length-1),at=z=>{z.preventDefault(),z.metaKey?dt():z.altKey?H(1):G(1)},I=z=>{z.preventDefault(),z.metaKey?$(0):z.altKey?H(-1):G(-1)};return O.createElement(On.div,{ref:e,tabIndex:-1,...M,"cmdk-root":"",onKeyDown:z=>{var K;(K=M.onKeyDown)==null||K.call(M,z);let st=z.nativeEvent.isComposing||z.keyCode===229;if(!(z.defaultPrevented||st))switch(z.key){case"n":case"j":{R&&z.ctrlKey&&at(z);break}case"ArrowDown":{at(z);break}case"p":case"k":{R&&z.ctrlKey&&I(z);break}case"ArrowUp":{I(z);break}case"Home":{z.preventDefault(),$(0);break}case"End":{z.preventDefault(),dt();break}case"Enter":{z.preventDefault();let J=ut();if(J){let ct=new Event(Ey);J.dispatchEvent(ct)}}}}},O.createElement("label",{"cmdk-label":"",htmlFor:Y.inputId,id:Y.labelId,style:x4},m),pm(t,z=>O.createElement(yR.Provider,{value:U},O.createElement(vR.Provider,{value:Y},z))))}),c4=O.forwardRef((t,e)=>{var n,r;let o=_s(),a=O.useRef(null),u=O.useContext(_R),d=cd(),m=wR(t),p=(r=(n=m.current)==null?void 0:n.forceMount)!=null?r:u?.forceMount;ja(()=>{if(!p)return d.item(o,u?.id)},[p]);let g=xR(o,a,[t.value,t.children,a],t.keywords),y=Q0(),w=To(W=>W.value&&W.value===g.current),x=To(W=>p||d.filter()===!1?!0:W.search?W.filtered.items.get(o)>0:!0);O.useEffect(()=>{let W=a.current;if(!(!W||t.disabled))return W.addEventListener(Ey,C),()=>W.removeEventListener(Ey,C)},[x,t.onSelect,t.disabled]);function C(){var W,U;E(),(U=(W=m.current).onSelect)==null||U.call(W,g.current)}function E(){y.setState("value",g.current,!0)}if(!x)return null;let{disabled:R,value:M,onSelect:j,forceMount:D,keywords:B,...q}=t;return O.createElement(On.div,{ref:Pa(a,e),...q,id:o,"cmdk-item":"",role:"option","aria-disabled":!!R,"aria-selected":!!w,"data-disabled":!!R,"data-selected":!!w,onPointerMove:R||d.getDisablePointerSelection()?void 0:E,onClick:R?void 0:C},t.children)}),d4=O.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:o,...a}=t,u=_s(),d=O.useRef(null),m=O.useRef(null),p=_s(),g=cd(),y=To(x=>o||g.filter()===!1?!0:x.search?x.filtered.groups.has(u):!0);ja(()=>g.group(u),[]),xR(u,d,[t.value,t.heading,m]);let w=O.useMemo(()=>({id:u,forceMount:o}),[o]);return O.createElement(On.div,{ref:Pa(d,e),...a,"cmdk-group":"",role:"presentation",hidden:y?void 0:!0},n&&O.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:p},n),pm(t,x=>O.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?p:void 0},O.createElement(_R.Provider,{value:w},x))))}),f4=O.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,o=O.useRef(null),a=To(u=>!u.search);return!n&&!a?null:O.createElement(On.div,{ref:Pa(o,e),...r,"cmdk-separator":"",role:"separator"})}),h4=O.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,o=t.value!=null,a=Q0(),u=To(p=>p.search),d=To(p=>p.selectedItemId),m=cd();return O.useEffect(()=>{t.value!=null&&a.setState("search",t.value)},[t.value]),O.createElement(On.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":d,id:m.inputId,type:"text",value:o?t.value:u,onChange:p=>{o||a.setState("search",p.target.value),n?.(p.target.value)}})}),m4=O.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...o}=t,a=O.useRef(null),u=O.useRef(null),d=To(p=>p.selectedItemId),m=cd();return O.useEffect(()=>{if(u.current&&a.current){let p=u.current,g=a.current,y,w=new ResizeObserver(()=>{y=requestAnimationFrame(()=>{let x=p.offsetHeight;g.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return w.observe(p),()=>{cancelAnimationFrame(y),w.unobserve(p)}}},[]),O.createElement(On.div,{ref:Pa(a,e),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":r,id:m.listId},pm(t,p=>O.createElement("div",{ref:Pa(u,m.listInnerRef),"cmdk-list-sizer":""},p)))}),p4=O.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:o,contentClassName:a,container:u,...d}=t;return O.createElement(LA,{open:n,onOpenChange:r},O.createElement(PA,{container:u},O.createElement(kA,{"cmdk-overlay":"",className:o}),O.createElement(DA,{"aria-label":t.label,"cmdk-dialog":"",className:a},O.createElement(bR,{ref:e,...d}))))}),g4=O.forwardRef((t,e)=>To(n=>n.filtered.count===0)?O.createElement(On.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),v4=O.forwardRef((t,e)=>{let{progress:n,children:r,label:o="Loading...",...a}=t;return O.createElement(On.div,{ref:e,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},pm(t,u=>O.createElement("div",{"aria-hidden":!0},u)))}),ha=Object.assign(bR,{List:m4,Item:c4,Input:h4,Group:d4,Separator:f4,Dialog:p4,Empty:g4,Loading:v4});function y4(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function _4(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function wR(t){let e=O.useRef(t);return ja(()=>{e.current=t}),e}var ja=typeof window>"u"?O.useEffect:O.useLayoutEffect;function zl(t){let e=O.useRef();return e.current===void 0&&(e.current=t()),e}function To(t){let e=Q0(),n=()=>t(e.snapshot());return O.useSyncExternalStore(e.subscribe,n,n)}function xR(t,e,n,r=[]){let o=O.useRef(),a=cd();return ja(()=>{var u;let d=(()=>{var p;for(let g of n){if(typeof g=="string")return g.trim();if(typeof g=="object"&&"current"in g)return g.current?(p=g.current.textContent)==null?void 0:p.trim():o.current}})(),m=r.map(p=>p.trim());a.value(t,d,m),(u=e.current)==null||u.setAttribute(Bl,d),o.current=d}),o}var b4=()=>{let[t,e]=O.useState(),n=zl(()=>new Map);return ja(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,o)=>{n.current.set(r,o),e({})}};function w4(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function pm({asChild:t,children:e},n){return t&&O.isValidElement(e)?O.cloneElement(w4(e),{ref:e.ref},n(e.props.children)):n(e)}var x4={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function pv({text:t,query:e}){if(!e)return P.jsx(P.Fragment,{children:t});const n=t.split(new RegExp(`(${e})`,"gi"));return P.jsx(P.Fragment,{children:n.map((r,o)=>r.toLowerCase()===e.toLowerCase()?P.jsx("mark",{className:"bg-loop-lime/30 text-loop-black font-semibold px-0.5 rounded",children:r},o):P.jsx("span",{children:r},o))})}function S4({companies:t}){const[e,n]=O.useState(!1),[r,o]=O.useState(""),{setSelectedCompany:a,setViewMode:u}=Ts(),d=O.useMemo(()=>new Ba(t,{keys:[{name:"name",weight:2},{name:"sector",weight:1.5},{name:"city",weight:1}],threshold:.4,includeScore:!0,includeMatches:!0,minMatchCharLength:2}),[t]);O.useEffect(()=>{const w=x=>{x.key==="k"&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),n(C=>!C)),x.key==="Escape"&&n(!1)};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[]);const m=O.useCallback(w=>{a(w),u("map"),n(!1),o("")},[a,u]),p=O.useMemo(()=>!r||r.length<2?[]:d.search(r).slice(0,10),[r,d]),g=O.useMemo(()=>!r||r.length<2?t.slice(0,10):p.map(w=>w.item),[r,p,t]),y=O.useMemo(()=>[...new Set(t.map(x=>x.sector).filter(Boolean))].slice(0,5),[t]);return P.jsxs(P.Fragment,{children:[P.jsxs("button",{onClick:()=>n(!0),className:"hidden md:flex items-center gap-2 px-4 py-2.5 text-sm text-gray-500 bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl hover:border-gray-300 hover:bg-white transition-all shadow-sm",children:[P.jsx(Lh,{className:"w-4 h-4"}),P.jsx("span",{children:"Sk fretag..."}),P.jsx("kbd",{className:"ml-2 px-2 py-0.5 text-xs font-medium bg-gray-100 rounded-md border border-gray-200",children:"K"})]}),P.jsx(Bc,{children:e&&P.jsxs(P.Fragment,{children:[P.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),P.jsx(Se.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{duration:.15},className:"fixed left-1/2 top-[15%] -translate-x-1/2 w-full max-w-2xl z-50 px-4",children:P.jsxs(ha,{className:"bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden",shouldFilter:!1,children:[P.jsxs("div",{className:"flex items-center gap-3 px-4 border-b border-gray-100",children:[P.jsx(Lh,{className:"w-5 h-5 text-gray-400"}),P.jsx(ha.Input,{value:r,onValueChange:o,placeholder:"Sk bland 1 214 impact-fretag...",className:"flex-1 py-4 text-base outline-none placeholder:text-gray-400"}),r&&P.jsx("button",{onClick:()=>o(""),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:P.jsx(vT,{className:"w-4 h-4 text-gray-400"})})]}),P.jsxs(ha.List,{className:"max-h-[400px] overflow-y-auto p-2",children:[P.jsxs(ha.Empty,{className:"py-12 text-center text-gray-500",children:[P.jsx(pT,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),P.jsx("p",{children:"Inga fretag hittades"}),P.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Prova ett annat skord"})]}),!r&&P.jsx(ha.Group,{heading:"Snabbfilter",children:P.jsx("div",{className:"flex flex-wrap gap-2 px-2 py-3",children:y.map(w=>P.jsxs("button",{onClick:()=>o(w||""),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-full transition-all hover:scale-105 ${z0(w)}`,children:[P.jsx("span",{children:tu(w)}),w]},w))})}),g.length>0&&P.jsx(ha.Group,{heading:r&&r.length>=2?`Resultat (${g.length})`:"Populra fretag",children:g.map(w=>P.jsxs(ha.Item,{value:w.orgnr,onSelect:()=>m(w),className:"flex items-center gap-3 px-3 py-3 rounded-xl cursor-pointer hover:bg-gradient-to-r hover:from-loop-lime/10 hover:to-transparent transition-all group border border-transparent hover:border-loop-lime/20",children:[w.logo_url?P.jsx("img",{src:w.logo_url,alt:"",className:"w-10 h-10 rounded-lg object-contain bg-gray-50 border border-gray-100 group-hover:border-loop-lime/30 transition-colors"}):P.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-loop-lime to-loop-lime-dark flex items-center justify-center text-lg shadow-sm group-hover:shadow-md transition-shadow",children:tu(w.sector)}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("span",{className:"font-semibold text-gray-900 truncate",children:r&&r.length>=2?P.jsx(pv,{text:w.name,query:r}):w.name}),w.growth_2023_2024_percent&&w.growth_2023_2024_percent>0&&P.jsxs("span",{className:"flex items-center gap-0.5 text-xs text-green-600 font-medium px-1.5 py-0.5 bg-green-50 rounded-md",children:[P.jsx(im,{className:"w-3 h-3"}),w.growth_2023_2024_percent.toFixed(0),"%"]})]}),P.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[w.sector&&P.jsx("span",{className:"truncate",children:r&&r.length>=2?P.jsx(pv,{text:w.sector,query:r}):w.sector}),w.city&&P.jsxs("span",{className:"flex items-center gap-0.5",children:[P.jsx(Mh,{className:"w-3 h-3"}),r&&r.length>=2?P.jsx(pv,{text:w.city,query:r}):w.city]})]})]}),P.jsxs("div",{className:"text-right",children:[w.latest_valuation_sek?P.jsx("div",{className:"text-sm font-semibold text-gray-900 tabular-nums",children:bo(w.latest_valuation_sek)}):w.turnover_2024_sek?P.jsx("div",{className:"text-sm font-semibold text-gray-900 tabular-nums",children:bo(w.turnover_2024_sek)}):null,(w.latest_valuation_sek||w.turnover_2024_sek)&&P.jsx("div",{className:"text-xs text-gray-400",children:w.latest_valuation_sek?"vrdering":"omsttning"})]}),P.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:P.jsx(gT,{className:"w-4 h-4 text-loop-lime"})})]},w.orgnr))})]}),P.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-100 bg-gray-50/50 text-xs text-gray-500",children:[P.jsxs("div",{className:"flex items-center gap-4",children:[P.jsxs("span",{className:"flex items-center gap-1",children:[P.jsx("kbd",{className:"px-1.5 py-0.5 bg-white rounded border text-[10px]",children:""}),"navigera"]}),P.jsxs("span",{className:"flex items-center gap-1",children:[P.jsx("kbd",{className:"px-1.5 py-0.5 bg-white rounded border text-[10px]",children:""}),"vlj"]}),P.jsxs("span",{className:"flex items-center gap-1",children:[P.jsx("kbd",{className:"px-1.5 py-0.5 bg-white rounded border text-[10px]",children:"esc"}),"stng"]})]}),P.jsxs("span",{className:"text-gray-400 tabular-nums",children:[t.length," fretag totalt"]})]})]})})]})})]})}var ms={},th={};const E4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let gm=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},SR=class extends gm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Cy=class extends gm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Ty=class extends gm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var Fh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Fh||(Fh={}));class C4{constructor(e,{headers:n={},customFetch:r,region:o=Fh.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=E4(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ct(this,arguments,void 0,function*(n,r={}){var o;let a,u;try{const{headers:d,method:m,body:p,signal:g,timeout:y}=r;let w={},{region:x}=r;x||(x=this.region);const C=new URL(`${this.url}/${n}`);x&&x!=="any"&&(w["x-region"]=x,C.searchParams.set("forceFunctionRegion",x));let E;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",E=p):typeof p=="string"?(w["Content-Type"]="text/plain",E=p):typeof FormData<"u"&&p instanceof FormData?E=p:(w["Content-Type"]="application/json",E=JSON.stringify(p)):E=p;let R=g;y&&(u=new AbortController,a=setTimeout(()=>u.abort(),y),g?(R=u.signal,g.addEventListener("abort",()=>u.abort())):R=u.signal);const M=yield this.fetch(C.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:E,signal:R}).catch(q=>{throw new SR(q)}),j=M.headers.get("x-relay-error");if(j&&j==="true")throw new Cy(M);if(!M.ok)throw new Ty(M);let D=((o=M.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),B;return D==="application/json"?B=yield M.json():D==="application/octet-stream"||D==="application/pdf"?B=yield M.blob():D==="text/event-stream"?B=M:D==="multipart/form-data"?B=yield M.formData():B=yield M.text(),{data:B,error:null,response:M}}catch(d){return{data:null,error:d,response:d instanceof Ty||d instanceof Cy?d.context:void 0}}finally{a&&clearTimeout(a)}})}}const T4=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Fh},FunctionsClient:C4,FunctionsError:gm,FunctionsFetchError:SR,FunctionsHttpError:Ty,FunctionsRelayError:Cy},Symbol.toStringTag,{value:"Module"})),ER=Yc(T4);var Bn={};const du=Yc(gI);var eh={},nh={},ih={},rh={},sh={},oh={},P1;function CR(){if(P1)return oh;P1=1,Object.defineProperty(oh,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return oh.default=t,oh}var k1;function TR(){if(k1)return sh;k1=1,Object.defineProperty(sh,"__esModule",{value:!0});const e=du.__importDefault(CR());let n=class{constructor(o){var a,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(a=o.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,a){return this.headers=new Headers(this.headers),this.headers.set(o,a),this}then(o,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var p,g,y,w;let x=null,C=null,E=null,R=m.status,M=m.statusText;if(m.ok){if(this.method!=="HEAD"){const q=await m.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?C=q:C=JSON.parse(q))}const D=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),B=(y=m.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");D&&B&&B.length>1&&(E=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(x={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,E=null,R=406,M="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const D=await m.text();try{x=JSON.parse(D),Array.isArray(x)&&m.status===404&&(C=[],x=null,R=200,M="OK")}catch{m.status===404&&D===""?(R=204,M="No Content"):x={message:D}}if(x&&this.isMaybeSingle&&(!((w=x?.details)===null||w===void 0)&&w.includes("0 rows"))&&(x=null,R=200,M="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:C,count:E,status:R,statusText:M}});return this.shouldThrowOnError||(d=d.catch(m=>{var p,g,y,w,x,C;let E="";const R=m?.cause;if(R){const M=(p=R?.message)!==null&&p!==void 0?p:"",j=(g=R?.code)!==null&&g!==void 0?g:"";E=`${(y=m?.name)!==null&&y!==void 0?y:"FetchError"}: ${m?.message}`,E+=`

Caused by: ${(w=R?.name)!==null&&w!==void 0?w:"Error"}: ${M}`,j&&(E+=` (${j})`),R?.stack&&(E+=`
${R.stack}`)}else E=(x=m?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(C=m?.name)!==null&&C!==void 0?C:"FetchError"}: ${m?.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(o,a)}returns(){return this}overrideTypes(){return this}};return sh.default=n,sh}var D1;function AR(){if(D1)return rh;D1=1,Object.defineProperty(rh,"__esModule",{value:!0});const e=du.__importDefault(TR());let n=class extends e.default{select(o){let a=!1;const u=(o??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:a=!0,nullsFirst:u,foreignTable:d,referencedTable:m=d}={}){const p=m?`${m}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${o}.${a?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:a,referencedTable:u=a}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,a,{foreignTable:u,referencedTable:d=u}={}){const m=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(p,`${a-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:a=!1,settings:u=!1,buffers:d=!1,wal:m=!1,format:p="text"}={}){var g;const y=[o?"analyze":null,a?"verbose":null,u?"settings":null,d?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${y};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return rh.default=n,rh}var N1;function J0(){if(N1)return ih;N1=1,Object.defineProperty(ih,"__esModule",{value:!0});const e=du.__importDefault(AR()),n=new RegExp("[,()]");let r=class extends e.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}regexMatch(a,u){return this.url.searchParams.append(a,`match.${u}`),this}regexIMatch(a,u){return this.url.searchParams.append(a,`imatch.${u}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}isDistinct(a,u){return this.url.searchParams.append(a,`isdistinct.${u}`),this}in(a,u){const d=Array.from(new Set(u)).map(m=>typeof m=="string"&&n.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(a,`in.(${d})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:d,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(a,`${p}fts${g}.${u}`),this}match(a){return Object.entries(a).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(a,u,d){return this.url.searchParams.append(a,`not.${u}.${d}`),this}or(a,{foreignTable:u,referencedTable:d=u}={}){const m=d?`${d}.or`:"or";return this.url.searchParams.append(m,`(${a})`),this}filter(a,u,d){return this.url.searchParams.append(a,`${u}.${d}`),this}};return ih.default=r,ih}var j1;function RR(){if(j1)return nh;j1=1,Object.defineProperty(nh,"__esModule",{value:!0});const e=du.__importDefault(J0());let n=class{constructor(o,{headers:a={},schema:u,fetch:d}){this.url=o,this.headers=new Headers(a),this.schema=u,this.fetch=d}select(o,a){const{head:u=!1,count:d}=a??{},m=u?"HEAD":"GET";let p=!1;const g=(o??"*").split("").map(y=>/\s/.test(y)&&!p?"":(y==='"'&&(p=!p),y)).join("");return this.url.searchParams.set("select",g),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:a,defaultToNull:u=!0}={}){var d;const m="POST";if(a&&this.headers.append("Prefer",`count=${a}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:a,ignoreDuplicates:u=!1,count:d,defaultToNull:m=!0}={}){var p;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),d&&this.headers.append("Prefer",`count=${d}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((w,x)=>w.concat(Object.keys(x)),[]);if(y.length>0){const w=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",w.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:a}={}){var u;const d="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var a;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return nh.default=n,nh}var B1;function A4(){if(B1)return eh;B1=1,Object.defineProperty(eh,"__esModule",{value:!0});const t=du,e=t.__importDefault(RR()),n=t.__importDefault(J0());let r=class OR{constructor(a,{headers:u={},schema:d,fetch:m}={}){this.url=a,this.headers=new Headers(u),this.schemaName=d,this.fetch=m}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${a}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new OR(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,u={},{head:d=!1,get:m=!1,count:p}={}){var g;let y;const w=new URL(`${this.url}/rpc/${a}`);let x;d||m?(y=d?"HEAD":"GET",Object.entries(u).filter(([E,R])=>R!==void 0).map(([E,R])=>[E,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([E,R])=>{w.searchParams.append(E,R)})):(y="POST",x=u);const C=new Headers(this.headers);return p&&C.set("Prefer",`count=${p}`),new n.default({method:y,url:w,headers:C,schema:this.schemaName,body:x,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}};return eh.default=r,eh}var z1;function MR(){if(z1)return Bn;z1=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.PostgrestError=Bn.PostgrestBuilder=Bn.PostgrestTransformBuilder=Bn.PostgrestFilterBuilder=Bn.PostgrestQueryBuilder=Bn.PostgrestClient=void 0;const t=du,e=t.__importDefault(A4());Bn.PostgrestClient=e.default;const n=t.__importDefault(RR());Bn.PostgrestQueryBuilder=n.default;const r=t.__importDefault(J0());Bn.PostgrestFilterBuilder=r.default;const o=t.__importDefault(AR());Bn.PostgrestTransformBuilder=o.default;const a=t.__importDefault(TR());Bn.PostgrestBuilder=a.default;const u=t.__importDefault(CR());return Bn.PostgrestError=u.default,Bn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:a.default,PostgrestError:u.default},Bn}class LR{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const R4="2.87.1",O4=`realtime-js/${R4}`,PR="1.0.0",M4="2.0.0",I1=PR,Ay=1e4,L4=1e3,P4=100;var wa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wa||(wa={}));var nn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(nn||(nn={}));var fr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(fr||(fr={}));var Ry;(function(t){t.websocket="websocket"})(Ry||(Ry={}));var xa;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xa||(xa={}));class k4{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var n,r;const o=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,r){var o,a;const u=e.topic,d=(o=e.ref)!==null&&o!==void 0?o:"",m=(a=e.join_ref)!==null&&a!==void 0?a:"",p=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(g).length===0?"":JSON.stringify(g);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+d.length+u.length+p.length+y.length,x=new ArrayBuffer(this.HEADER_LENGTH+w);let C=new DataView(x),E=0;C.setUint8(E++,this.KINDS.userBroadcastPush),C.setUint8(E++,m.length),C.setUint8(E++,d.length),C.setUint8(E++,u.length),C.setUint8(E++,p.length),C.setUint8(E++,y.length),C.setUint8(E++,n),Array.from(m,M=>C.setUint8(E++,M.charCodeAt(0))),Array.from(d,M=>C.setUint8(E++,M.charCodeAt(0))),Array.from(u,M=>C.setUint8(E++,M.charCodeAt(0))),Array.from(p,M=>C.setUint8(E++,M.charCodeAt(0))),Array.from(y,M=>C.setUint8(E++,M.charCodeAt(0)));var R=new Uint8Array(x.byteLength+r.byteLength);return R.set(new Uint8Array(x),0),R.set(new Uint8Array(r),x.byteLength),R.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,a,u,d,m]=r;return n({join_ref:o,ref:a,topic:u,event:d,payload:m})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodeUserBroadcast(e,n,r){const o=n.getUint8(1),a=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let m=this.HEADER_LENGTH+4;const p=r.decode(e.slice(m,m+o));m=m+o;const g=r.decode(e.slice(m,m+a));m=m+a;const y=r.decode(e.slice(m,m+u));m=m+u;const w=e.slice(m,e.byteLength),x=d===this.JSON_ENCODING?JSON.parse(r.decode(w)):w,C={type:this.BROADCAST_EVENT,event:g,payload:x};return u>0&&(C.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class kR{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ce||(Ce={}));const U1=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,u)=>(a[u]=D4(u,t,e,o),a),{}):{}},D4=(t,e,n,r)=>{const o=e.find(d=>d.name===t),a=o?.type,u=n[t];return a&&!r.includes(a)?DR(a,u):Oy(u)},DR=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return z4(e,n)}switch(t){case Ce.bool:return N4(e);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return j4(e);case Ce.json:case Ce.jsonb:return B4(e);case Ce.timestamp:return I4(e);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return Oy(e);default:return Oy(e)}},Oy=t=>t,N4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},j4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},B4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},z4=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(d=>DR(e,d))}return t},I4=t=>typeof t=="string"?t.replace(" ","T"):t,NR=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class gv{constructor(e,n,r={},o=Ay){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var My;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(My||(My={}));let jR=class bh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bh.syncState(this.state,o,a,u),this.pendingDiffs.forEach(m=>{this.state=bh.syncDiff(this.state,m,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=bh.syncDiff(this.state,o,a,u),d())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const a=this.cloneDeep(e),u=this.transformState(n),d={},m={};return this.map(a,(p,g)=>{u[p]||(m[p]=g)}),this.map(u,(p,g)=>{const y=a[p];if(y){const w=g.map(R=>R.presence_ref),x=y.map(R=>R.presence_ref),C=g.filter(R=>x.indexOf(R.presence_ref)<0),E=y.filter(R=>w.indexOf(R.presence_ref)<0);C.length>0&&(d[p]=C),E.length>0&&(m[p]=E)}else d[p]=g}),this.syncDiff(a,{joins:d,leaves:m},r,o)}static syncDiff(e,n,r,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(d,m)=>{var p;const g=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(m),g.length>0){const y=e[d].map(x=>x.presence_ref),w=g.filter(x=>y.indexOf(x.presence_ref)<0);e[d].unshift(...w)}r(d,g,m)}),this.map(u,(d,m)=>{let p=e[d];if(!p)return;const g=m.map(y=>y.presence_ref);p=p.filter(y=>g.indexOf(y.presence_ref)<0),e[d]=p,o(d,p,m),p.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ly;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ly||(Ly={}));var Wl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Wl||(Wl={}));var Dr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dr||(Dr={}));const U4=nn;let BR=class Cc{constructor(e,n={config:{}},r){var o,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=nn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new gv(this,fr.join,this.params,this.timeout),this.rejoinTimer=new kR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nn.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=nn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fr.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new jR(this),this.broadcastEndpointURL=NR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==nn.closed){const{config:{broadcast:u,presence:d,private:m}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Wl.PRESENCE]&&this.bindings[Wl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},w={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(Dr.CHANNEL_ERROR,x)),this._onClose(()=>e?.(Dr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e?.(Dr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,R=(C=E?.length)!==null&&C!==void 0?C:0,M=[];for(let j=0;j<R;j++){const D=E[j],{filter:{event:B,schema:q,table:W,filter:U}}=D,Y=x&&x[j];if(Y&&Y.event===B&&Cc.isFilterValueEqual(Y.schema,q)&&Cc.isFilterValueEqual(Y.table,W)&&Cc.isFilterValueEqual(Y.filter,U))M.push(Object.assign(Object.assign({},D),{id:Y.id}));else{this.unsubscribe(),this.state=nn.errored,e?.(Dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(Dr.SUBSCRIBED);return}}).receive("error",x=>{this.state=nn.errored,e?.(Dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(Dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===nn.joined&&e===Wl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let m=d.statusText;try{const p=await d.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:u}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,m;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||m===void 0)&&m.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=nn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new gv(this,fr.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new gv(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>P4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,a;const u=e.toLocaleLowerCase(),{close:d,error:m,leave:p,join:g}=fr;if(r&&[d,m,p,g].indexOf(u)>=0&&r!==this._joinRef())return;let w=this._onMessage(u,n,r);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var C,E,R;return((C=x.filter)===null||C===void 0?void 0:C.event)==="*"||((R=(E=x.filter)===null||E===void 0?void 0:E.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===u}).map(x=>x.callback(w,r)):(a=this.bindings[u])===null||a===void 0||a.filter(x=>{var C,E,R,M,j,D;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in x){const B=x.id,q=(C=x.filter)===null||C===void 0?void 0:C.event;return B&&((E=n.ids)===null||E===void 0?void 0:E.includes(B))&&(q==="*"||q?.toLocaleLowerCase()===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const B=(j=(M=x?.filter)===null||M===void 0?void 0:M.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return B==="*"||B===((D=n?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===u}).map(x=>{if(typeof w=="object"&&"ids"in w){const C=w.data,{schema:E,table:R,commit_timestamp:M,type:j,errors:D}=C;w=Object.assign(Object.assign({},{schema:E,table:R,commit_timestamp:M,eventType:j,new:{},old:{},errors:D}),this._getPayloadRecords(C))}x.callback(w,r)})}_isClosed(){return this.state===nn.closed}_isJoined(){return this.state===nn.joined}_isJoining(){return this.state===nn.joining}_isLeaving(){return this.state===nn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Cc.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fr.close,{},e)}_onError(e){this._on(fr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=U1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=U1(e.columns,e.old_record)),n}};const vv=()=>{},ah={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},V4=[1e3,2e3,5e3,1e4],F4=1e4,$4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let H4=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ay,this.transport=null,this.heartbeatIntervalMs=ah.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vv,this.ref=0,this.reconnectTimer=null,this.vsn=I1,this.logger=vv,this.conn=null,this.sendBuffer=[],this.serializer=new k4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ry.websocket}`,this.httpEndpoint=NR(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=LR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wa.connecting:return xa.Connecting;case wa.open:return xa.Open;case wa.closing:return xa.Closing;default:return xa.Closed}}isConnected(){return this.connectionState()===xa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new BR(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:o,ref:a}=e,u=()=>{this.encode(e,d=>{var m;(m=this.conn)===null||m===void 0||m.send(d)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(L4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ah.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:u}=n,d=u?`(${u})`:"",m=a.status||"";this.log("receive",`${m} ${r} ${o} ${d}`.trim(),a),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===wa.open||this.conn.readyState===wa.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(fr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([$4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const a={access_token:n,version:O4};n&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(fr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new kR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ah.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,a,u,d,m,p,g,y,w,x;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Ay,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:ah.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:vv,this.vsn=(m=e?.vsn)!==null&&m!==void 0?m:I1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(C=>V4[C-1]||F4),this.vsn){case PR:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((C,E)=>E(JSON.stringify(C))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((C,E)=>E(JSON.parse(C)));break;case M4:this.encode=(w=e?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const q4=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:U4,get REALTIME_LISTEN_TYPES(){return Wl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Ly},get REALTIME_PRESENCE_LISTEN_EVENTS(){return My},get REALTIME_SUBSCRIBE_STATES(){return Dr},RealtimeChannel:BR,RealtimeClient:H4,RealtimePresence:jR,WebSocketFactory:LR},Symbol.toStringTag,{value:"Module"})),zR=Yc(q4);class dd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class IR extends dd{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $h extends dd{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const t_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),G4=()=>Response,Py=t=>{if(Array.isArray(t))return t.map(n=>Py(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Py(r)}),e},Z4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},K4=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),yv=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},W4=(t,e,n)=>Ct(void 0,void 0,void 0,function*(){const r=yield G4();t instanceof r&&!n?.noResolveJson?t.json().then(o=>{const a=t.status||500,u=o?.statusCode||a+"";e(new IR(yv(o),a,u))}).catch(o=>{e(new $h(yv(o),o))}):e(new $h(yv(t),t))}),Y4=(t,e,n,r)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(Z4(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function fd(t,e,n,r,o,a){return Ct(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,Y4(e,r,o,a)).then(m=>{if(!m.ok)throw m;return r?.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>W4(m,d,r))})})}function Kc(t,e,n,r){return Ct(this,void 0,void 0,function*(){return fd(t,"GET",e,n,r)})}function dr(t,e,n,r,o){return Ct(this,void 0,void 0,function*(){return fd(t,"POST",e,r,o,n)})}function ky(t,e,n,r,o){return Ct(this,void 0,void 0,function*(){return fd(t,"PUT",e,r,o,n)})}function X4(t,e,n,r){return Ct(this,void 0,void 0,function*(){return fd(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function e_(t,e,n,r,o){return Ct(this,void 0,void 0,function*(){return fd(t,"DELETE",e,r,o,n)})}class Q4{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Ct(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pe(e))return{data:null,error:e};throw e}})}}var UR;class J4{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[UR]="BlobDownloadBuilder",this.promise=null}asStream(){return new Q4(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ct(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Pe(e))return{data:null,error:e};throw e}})}}UR=Symbol.toStringTag;const tV={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},V1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eV{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=t_(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return Ct(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},V1),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),m&&a.append("metadata",this.encodeMetadata(m)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",u.cacheControl),m&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(m))):(a=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,m&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!u.duplex&&(u.duplex="half")),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),y=yield(e=="PUT"?ky:dr)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return Ct(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let m;const p=Object.assign({upsert:V1.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",p.cacheControl)):(m=r,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const y=yield ky(this.fetch,d.toString(),m,{headers:g});return{data:{path:a,fullPath:y.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Pe(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,n){return Ct(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const a=yield dr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new dd("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ct(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}copy(e,n,r){return Ct(this,void 0,void 0,function*(){try{return{data:{path:(yield dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return Ct(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield dr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return Ct(this,void 0,void 0,function*(){try{const o=yield dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(n?.transform||{}),u=a?`?${a}`:"",d=this._getFinalPath(e),m=()=>Kc(this.fetch,`${this.url}/${o}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new J4(m,this.shouldThrowOnError)}info(e){return Ct(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Kc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Py(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}exists(e){return Ct(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield X4(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r)&&r instanceof $h){const o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],a=n?.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const d=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&o.push(m);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${p}`)}}}remove(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield e_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ct(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},tV),n),{prefix:e||""});return{data:yield dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}listV2(e,n){return Ct(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield dr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const VR="2.87.1",FR={"X-Client-Info":`storage-js/${VR}`};class nV{constructor(e,n={},r,o){this.shouldThrowOnError=!1;const a=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FR),n),this.fetch=t_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ct(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Kc(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}getBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield Kc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}createBucket(e){return Ct(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return Ct(this,void 0,void 0,function*(){try{return{data:yield ky(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield e_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var Wc=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function iV(t,e,n){const r=new URL(e,t);if(n)for(const[o,a]of Object.entries(n))a!==void 0&&r.searchParams.set(o,a);return r.toString()}async function rV(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function sV(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:o,body:a,headers:u}){const d=iV(t.baseUrl,r,o),m=await rV(t.auth),p=await e(d,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...m,...u},body:a?JSON.stringify(a):void 0}),g=await p.text(),y=(p.headers.get("content-type")||"").includes("application/json"),w=y&&g?JSON.parse(g):g;if(!p.ok){const x=y?w:void 0,C=x?.error;throw new Wc(C?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:C?.type,icebergCode:C?.code,details:x})}return{status:p.status,headers:p.headers,data:w}}}}function lh(t){return t.join("")}var oV=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:lh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${lh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${lh(t.namespace)}`}),!0}catch(e){if(e instanceof Wc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Wc&&n.status===409)return;throw n}}};function Ll(t){return t.join("")}var aV=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ll(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ll(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ll(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ll(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ll(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ll(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Wc&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Wc&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},lV=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=sV({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new oV(this.client,e),this.tableOps=new aV(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class $R{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FR),n),this.fetch=t_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}listBuckets(e){return Ct(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Kc(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield e_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}from(e){if(!K4(e))throw new dd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new lV({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Ct(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(a,u){const d=a[u];return typeof d!="function"?d:(...m)=>Ct(this,void 0,void 0,function*(){try{return{data:yield d.apply(a,m),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}})}})}}const n_={"X-Client-Info":`storage-js/${VR}`,"Content-Type":"application/json"};class i_ extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ci(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class wh extends i_{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class HR extends i_{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Dy;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Dy||(Dy={}));const vm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),uV=()=>Response,qR=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},cV=t=>Array.from(new Float32Array(t)),dV=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},F1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fV=(t,e,n)=>Ct(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const o=t.status||500,a=t;if(typeof a.json=="function")a.json().then(u=>{const d=u?.statusCode||u?.code||o+"";e(new wh(F1(u),o,d))}).catch(()=>{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new wh(d,o,u))});else{const u=o+"",d=a.statusText||`HTTP ${o} error`;e(new wh(d,o,u))}}else e(new HR(F1(t),t))}),hV=(t,e,n,r)=>{const o={method:t,headers:e?.headers||{}};return r?(qR(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n)):o};function mV(t,e,n,r,o,a){return Ct(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,hV(e,r,o,a)).then(m=>{if(!m.ok)throw m;if(r?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>u(m)).catch(m=>fV(m,d,r))})})}function Ti(t,e,n,r,o){return Ct(this,void 0,void 0,function*(){return mV(t,"POST",e,r,o,n)})}class GR{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n_),n),this.fetch=vm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ct(this,void 0,void 0,function*(){try{return{data:(yield Ti(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ci(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Ct(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ci(r))return{data:null,error:r};throw r}})}listIndexes(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ci(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Ct(this,void 0,void 0,function*(){try{return{data:(yield Ti(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ci(r))return{data:null,error:r};throw r}})}}class ZR{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n_),n),this.fetch=vm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ct(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ti(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ci(n))return{data:null,error:n};throw n}})}getVectors(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ci(n))return{data:null,error:n};throw n}})}listVectors(e){return Ct(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ti(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ci(n))return{data:null,error:n};throw n}})}queryVectors(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ci(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Ct(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ti(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ci(n))return{data:null,error:n};throw n}})}}class KR{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},n_),n),this.fetch=vm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:(yield Ti(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ci(n))return{data:null,error:n};throw n}})}getBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ci(n))return{data:null,error:n};throw n}})}listBuckets(){return Ct(this,arguments,void 0,function*(e={}){try{return{data:yield Ti(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ci(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:(yield Ti(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ci(n))return{data:null,error:n};throw n}})}}class WR extends KR{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new YR(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ct(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ct(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ct(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ct(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class YR extends GR{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ct(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ct(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ct(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ct(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new XR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class XR extends ZR{constructor(e,n,r,o,a){super(e,n,a),this.vectorBucketName=r,this.indexName=o}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ct(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ct(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ct(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ct(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ct(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class pV extends nV{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new eV(this.url,this.headers,e,this.fetch)}get vectors(){return new WR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $R(this.url+"/iceberg",this.headers,this.fetch)}}const gV=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:$R,StorageApiError:IR,StorageClient:pV,StorageError:dd,StorageUnknownError:$h,StorageVectorsApiError:wh,StorageVectorsClient:WR,StorageVectorsError:i_,get StorageVectorsErrorCode(){return Dy},StorageVectorsUnknownError:HR,VectorBucketApi:KR,VectorBucketScope:YR,VectorDataApi:ZR,VectorIndexApi:GR,VectorIndexScope:XR,isPlainObject:qR,isStorageError:Pe,isStorageVectorsError:ci,normalizeToFloat32:cV,resolveFetch:vm,resolveResponse:uV,validateVectorDimension:dV},Symbol.toStringTag,{value:"Module"})),vV=Yc(gV);var _v={},_c={},$1;function yV(){return $1||($1=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.version=void 0,_c.version="2.87.1"),_c}var H1;function _V(){return H1||(H1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=yV();let n="";typeof Deno<"u"?n="deno":typeof document<"u"?n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?n="react-native":n="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${n}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(_v)),_v}var bv={},q1;function bV(){return q1||(q1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=o=>o?(...a)=>o(...a):(...a)=>fetch(...a);t.resolveFetch=e;const n=()=>Headers;t.resolveHeadersConstructor=n;const r=(o,a,u)=>{const d=(0,t.resolveFetch)(u),m=(0,t.resolveHeadersConstructor)();return async(p,g)=>{var y;const w=(y=await a())!==null&&y!==void 0?y:o;let x=new m(g?.headers);return x.has("apikey")||x.set("apikey",o),x.has("Authorization")||x.set("Authorization",`Bearer ${w}`),d(p,Object.assign(Object.assign({},g),{headers:x}))}};t.fetchWithAuth=r})(bv)),bv}var ps={},G1;function wV(){if(G1)return ps;G1=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.isBrowser=void 0,ps.uuid=t,ps.ensureTrailingSlash=e,ps.applySettingDefaults=r,ps.validateSupabaseUrl=o;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var u=Math.random()*16|0,d=a=="x"?u:u&3|8;return d.toString(16)})}function e(a){return a.endsWith("/")?a:a+"/"}const n=()=>typeof window<"u";ps.isBrowser=n;function r(a,u){var d,m;const{db:p,auth:g,realtime:y,global:w}=a,{db:x,auth:C,realtime:E,global:R}=u,M={db:Object.assign(Object.assign({},x),p),auth:Object.assign(Object.assign({},C),g),realtime:Object.assign(Object.assign({},E),y),storage:{},global:Object.assign(Object.assign(Object.assign({},R),w),{headers:Object.assign(Object.assign({},(d=R?.headers)!==null&&d!==void 0?d:{}),(m=w?.headers)!==null&&m!==void 0?m:{})}),accessToken:async()=>""};return a.accessToken?M.accessToken=a.accessToken:delete M.accessToken,M}function o(a){const u=a?.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ps}var bc={};const QR="2.87.1",Il=30*1e3,Ny=3,wv=Ny*Il,xV="http://localhost:9999",SV="supabase.auth.token",EV={"X-Client-Info":`gotrue-js/${QR}`},jy="X-Supabase-Api-Version",JR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},CV=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,TV=600*1e3;let ru=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function Mt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let tO=class extends ru{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function eO(t){return Mt(t)&&t.name==="AuthApiError"}let po=class extends ru{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},As=class extends ru{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}},ai=class extends As{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function nO(t){return Mt(t)&&t.name==="AuthSessionMissingError"}let va=class extends As{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Tc=class extends As{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Ac=class extends As{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function iO(t){return Mt(t)&&t.name==="AuthImplicitGrantRedirectError"}let By=class extends As{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Hh=class extends As{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function xh(t){return Mt(t)&&t.name==="AuthRetryableFetchError"}let zy=class extends As{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};function AV(t){return Mt(t)&&t.name==="AuthWeakPasswordError"}let qh=class extends As{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const Gh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Z1=` 	
\r=`.split(""),RV=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Z1.length;e+=1)t[Z1[e].charCodeAt(0)]=-2;for(let e=0;e<Gh.length;e+=1)t[Gh[e].charCodeAt(0)]=e;return t})();function K1(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gh[r]),e.queuedBits-=6}}function rO(t,e,n){const r=RV[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function W1(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{LV(u,r,n)};for(let u=0;u<t.length;u+=1)rO(t.charCodeAt(u),o,a);return e.join("")}function OV(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function MV(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}OV(r,e)}}function LV(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Yl(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)rO(t.charCodeAt(o),n,r);return new Uint8Array(e)}function PV(t){const e=[];return MV(t,n=>e.push(n)),new Uint8Array(e)}function Ca(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>K1(o,n,r)),K1(null,n,r),e.join("")}function kV(t){return Math.round(Date.now()/1e3)+t}function DV(){return Symbol("auth-callback")}const An=()=>typeof window<"u"&&typeof document<"u",ma={tested:!1,writable:!1},sO=()=>{if(!An())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ma.tested)return ma.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ma.tested=!0,ma.writable=!0}catch{ma.tested=!0,ma.writable=!1}return ma.writable};function NV(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const oO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jV=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ul=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},pa=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tn=async(t,e)=>{await t.removeItem(e)};class ym{constructor(){this.promise=new ym.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ym.promiseConstructor=Promise;function xv(t){const e=t.split(".");if(e.length!==3)throw new qh("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!CV.test(e[r]))throw new qh("JWT not in base64url format");return{header:JSON.parse(W1(e[0])),payload:JSON.parse(W1(e[1])),signature:Yl(e[2]),raw:{header:e[0],payload:e[1]}}}async function BV(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zV(t,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){r(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function IV(t){return("0"+t.toString(16)).substr(-2)}function UV(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,IV).join("")}async function VV(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function FV(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await VV(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pl(t,e,n=!1){const r=UV();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Ul(t,`${e}-code-verifier`,o);const a=await FV(r);return[a,r===a?"plain":"s256"]}const $V=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HV(t){const e=t.headers.get(jy);if(!e||!e.match($V))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qV(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function GV(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZV=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kl(t){if(!ZV.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sv(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KV(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function Y1(t){return JSON.parse(JSON.stringify(t))}const ya=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WV=[502,503,504];async function X1(t){var e;if(!jV(t))throw new Hh(ya(t),0);if(WV.includes(t.status))throw new Hh(ya(t),t.status);let n;try{n=await t.json()}catch(a){throw new po(ya(a),a)}let r;const o=HV(t);if(o&&o.getTime()>=JR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new zy(ya(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ai}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new zy(ya(n),t.status,n.weak_password.reasons);throw new tO(ya(n),t.status||500,r)}const YV=(t,e,n,r)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function jt(t,e,n,r){var o;const a=Object.assign({},r?.headers);a[jy]||(a[jy]=JR["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(u.redirect_to=r.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await XV(t,e,n+d,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(m):{data:Object.assign({},m),error:null}}async function XV(t,e,n,r,o,a){const u=YV(e,r,o,a);let d;try{d=await t(n,Object.assign({},u))}catch(m){throw console.error(m),new Hh(ya(m),0)}if(d.ok||await X1(d),r?.noResolveJson)return d;try{return await d.json()}catch(m){await X1(m)}}function ur(t){var e;let n=null;tF(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=kV(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Q1(t){const e=ur(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function go(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function QV(t){return{data:t,error:null}}function JV(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=t,u=Oo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},m=Object.assign({},u);return{data:{properties:d,user:m},error:null}}function J1(t){return t}function tF(t){return t.access_token&&t.refresh_token&&t.expires_in}const Sh=["global","local","others"];let r_=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=oO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Sh[0]){if(Sh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sh.join(", ")}`);try{return await jt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:go})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Oo(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:JV,redirectTo:n?.redirectTo})}catch(n){if(Mt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:go})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,a,u,d,m;try{const p={nextPage:null,lastPage:0,total:0},g=await jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:J1});if(g.error)throw g.error;const y=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(m=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(C.split(";")[1].split("=")[1]);p[`${R}Page`]=E}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(Mt(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){kl(e);try{return await jt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:go})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){kl(e);try{return await jt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:go})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){kl(e);try{return await jt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:go})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){kl(e.userId);try{const{data:n,error:r}=await jt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){kl(e.userId),kl(e.id);try{return{data:await jt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,a,u,d,m;try{const p={nextPage:null,lastPage:0,total:0},g=await jt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:J1});if(g.error)throw g.error;const y=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(m=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return x.length>0&&(x.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(C.split(";")[1].split("=")[1]);p[`${R}Page`]=E}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(Mt(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await jt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await jt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await jt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Mt(n))return{data:null,error:n};throw n}}};function tE(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const _a={debug:!!(globalThis&&sO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class s_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let aO=class extends s_{};class eF extends s_{}async function lO(t,e,n){_a.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),_a.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){_a.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{_a.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw _a.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new aO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(_a.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}const eE={};async function nF(t,e,n){var r;const o=(r=eE[t])!==null&&r!==void 0?r:Promise.resolve(),a=Promise.race([o.catch(()=>null),e>=0?new Promise((u,d)=>{setTimeout(()=>{d(new eF(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await n());return eE[t]=a.catch(async u=>{if(u&&u.isAcquireTimeout)return await o,null;throw u}),await a}function iF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uO(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function rF(t){return parseInt(t,16)}function sF(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function oF(t){var e;const{chainId:n,domain:r,expirationTime:o,issuedAt:a=new Date,nonce:u,notBefore:d,requestId:m,resources:p,scheme:g,uri:y,version:w}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=uO(t.address),C=g?`${g}://${r}`:r,E=t.statement?`${t.statement}
`:"",R=`${C} wants you to sign in with your Ethereum account:
${x}

${E}`;let M=`URI: ${y}
Version: ${w}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${a.toISOString()}`;if(o&&(M+=`
Expiration Time: ${o.toISOString()}`),d&&(M+=`
Not Before: ${d.toISOString()}`),m&&(M+=`
Request ID: ${m}`),p){let j=`
Resources:`;for(const D of p){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);j+=`
- ${D}`}M+=j}return`${R}
${M}`}class rn extends Error{constructor({message:e,code:n,cause:r,name:o}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=o??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Zh extends rn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function aF({error:t,options:e}){var n,r,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new rn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new rn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new rn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new rn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new rn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new rn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new rn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(cO(u)){if(a.rp.id!==u)return new rn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new rn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new rn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function lF({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new rn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(cO(r)){if(n.rpId!==r)return new rn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new rn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class uF{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const cF=new uF;function dF(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,o=Oo(t,["challenge","user","excludeCredentials"]),a=Yl(e).buffer,u=Object.assign(Object.assign({},n),{id:Yl(n.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:a,user:u});if(r&&r.length>0){d.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const p=r[m];d.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:Yl(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function fF(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Oo(t,["challenge","allowCredentials"]),o=Yl(e).buffer,a=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];a.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Yl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return a}function hF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ca(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ca(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function mF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ca(new Uint8Array(o.authenticatorData)),clientDataJSON:Ca(new Uint8Array(o.clientDataJSON)),signature:Ca(new Uint8Array(o.signature)),userHandle:o.userHandle?Ca(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function cO(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function nE(){var t,e;return!!(An()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function pF(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Zh("Browser returned unexpected credential type",e)}:{data:null,error:new Zh("Empty credential response",e)}}catch(e){return{data:null,error:aF({error:e,options:t})}}}async function gF(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Zh("Browser returned unexpected credential type",e)}:{data:null,error:new Zh("Empty credential response",e)}}catch(e){return{data:null,error:lF({error:e,options:t})}}}const vF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yF={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Kh(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const a in o){const u=o[a];if(u!==void 0)if(Array.isArray(u))r[a]=u;else if(n(u))r[a]=u;else if(e(u)){const d=r[a];e(d)?r[a]=Kh(d,u):r[a]=Kh(u)}else r[a]=u}return r}function _F(t,e){return Kh(vF,t,e||{})}function bF(t,e){return Kh(yF,t,e||{})}class wF{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},a){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const m=o??cF.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=_F(u.webauthn.credential_options.publicKey,a?.create),{data:g,error:y}=await pF({publicKey:p,signal:m});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const p=bF(u.webauthn.credential_options.publicKey,a?.request),{data:g,error:y}=await gF(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:m}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(u){return Mt(u)?{data:null,error:u}:{data:null,error:new po("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new ru("rpId is required for WebAuthn authentication")};try{if(!nE())return{data:null,error:new po("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:a});if(!u)return{data:null,error:d};const{webauthn:m}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:r,credential_response:m.credential_response}})}catch(u){return Mt(u)?{data:null,error:u}:{data:null,error:new po("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!n)return{data:null,error:new ru("rpId is required for WebAuthn registration")};try{if(!nE())return{data:null,error:new po("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var y;return(y=g.data)===null||y===void 0?void 0:y.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===e&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:d};const{data:m,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:a});return m?this._verify({factorId:u.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(u){return Mt(u)?{data:null,error:u}:{data:null,error:new po("Unexpected error in register",u)}}}}iF();const xF={url:xV,storageKey:SV,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EV,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function iE(t,e,n){return await n()}const Dl={};let o_=class Iy{get jwks(){var e,n;return(n=(e=Dl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Dl[this.storageKey]=Object.assign(Object.assign({},Dl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Dl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Dl[this.storageKey]=Object.assign(Object.assign({},Dl[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},xF),e);if(this.storageKey=a.storageKey,this.instanceID=(n=Iy.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Iy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&An()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new r_({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=oO(a.fetch),this.lock=a.lock||iE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&An()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=lO:this.lock=iE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wF(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:sO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tE(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=tE(this.memoryStorage)),An()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${QR}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(An()&&(n=NV(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),An()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),iO(a)){const m=(e=a.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Mt(n)?this._returnResult({error:n}):this._returnResult({error:new po("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:ur}),{data:u,error:d}=a;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(a){if(Mt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,o;try{let a;if("email"in e){const{email:g,password:y,options:w}=e;let x=null,C=null;this.flowType==="pkce"&&([x,C]=await Pl(this.storage,this.storageKey)),a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:y,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:x,code_challenge_method:C},xform:ur})}else if("phone"in e){const{phone:g,password:y,options:w}=e;a=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=w?.data)!==null&&r!==void 0?r:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:ur})}else throw new Tc("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return await Tn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(a){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Mt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:d}=e;n=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Q1})}else if("phone"in e){const{phone:a,password:u,options:d}=e;n=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Q1})}else throw new Tc("You must provide either an email or phone number and a password");const{data:r,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const a=new va;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(Mt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,o,a,u,d,m,p,g,y,w;let x,C;if("message"in e)x=e.message,C=e.signature;else{const{chain:E,wallet:R,statement:M,options:j}=e;let D;if(An())if(typeof R=="object")D=R;else{const ot=window;if("ethereum"in ot&&typeof ot.ethereum=="object"&&"request"in ot.ethereum&&typeof ot.ethereum.request=="function")D=ot.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=R}const B=new URL((n=j?.url)!==null&&n!==void 0?n:window.location.href),q=await D.request({method:"eth_requestAccounts"}).then(ot=>ot).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=uO(q[0]);let U=(r=j?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!U){const ot=await D.request({method:"eth_chainId"});U=rF(ot)}const Y={domain:B.host,address:W,statement:M,uri:B.href,version:"1",chainId:U,nonce:(o=j?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=j?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=j?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=j?.signInWithEthereum)===null||g===void 0?void 0:g.resources};x=oF(Y),C=await D.request({method:"personal_sign",params:[sF(x),W]})}try{const{data:E,error:R}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:C},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:ur});if(R)throw R;if(!E||!E.session||!E.user){const M=new va;return this._returnResult({data:{user:null,session:null},error:M})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:R})}catch(E){if(Mt(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,r,o,a,u,d,m,p,g,y,w,x;let C,E;if("message"in e)C=e.message,E=e.signature;else{const{chain:R,wallet:M,statement:j,options:D}=e;let B;if(An())if(typeof M=="object")B=M;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))B=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=M}const q=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const W=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),j?{statement:j}:null));let U;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")U=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)U=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)C=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),E=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${q.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(o=(r=D?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=D?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((d=D?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((m=D?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((p=D?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((y=(g=D?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...D.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const W=await B.signMessage(new TextEncoder().encode(C),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=W}}try{const{data:R,error:M}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Ca(E)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ur});if(M)throw M;if(!R||!R.session||!R.user){const j=new va;return this._returnResult({data:{user:null,session:null},error:j})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:M})}catch(R){if(Mt(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(e){const n=await pa(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:u}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ur});if(await Tn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!a||!a.session||!a.user){const d=new va;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Mt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:a,nonce:u}=e,d=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ur}),{data:m,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const g=new va;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(n){if(Mt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,o,a,u;try{if("email"in e){const{email:d,options:m}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Pl(this.storage,this.storageKey));const{error:y}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=m?.data)!==null&&n!==void 0?n:{},create_user:(r=m?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:d,options:m}=e,{data:p,error:g}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(a=m?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(u=m?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Tc("You must provide either an email or phone number.")}catch(d){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Mt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,r;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:d}=await jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:ur});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,p=u.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(o){if(Mt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var n,r,o,a,u;try{let d=null,m=null;this.flowType==="pkce"&&([d,m]=await Pl(this.storage,this.storageKey));const p=await jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:m}),headers:this.headers,xform:QV});return!((a=p.data)===null||a===void 0)&&a.url&&An()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Mt(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ai;const{error:o}=await jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(Mt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:u}=await jt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:u,error:d}=await jt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Tc("You must provide either an email or phone number and a type")}catch(n){if(Mt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<wv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await pa(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=Sv()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=KV(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:go}):await this._useSession(async n=>{var r,o,a;const{data:u,error:d}=n;if(d)throw d;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ai}:await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:go})})}catch(n){if(Mt(n))return nO(n)&&(await this._removeSession(),await Tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new ai;const u=o.session;let d=null,m=null;this.flowType==="pkce"&&e.email!=null&&([d,m]=await Pl(this.storage,this.storageKey));const{data:p,error:g}=await jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:m}),jwt:u.access_token,xform:go});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(r){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Mt(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ai;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:u}=xv(e.access_token);if(u.exp&&(r=u.exp,o=r<=n),o){const{data:d,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:m}=await this._getUser(e.access_token);if(m)throw m;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Mt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new ai;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Mt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!An())throw new Ac("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ac(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new By("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ac("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new By("No code detected.");const{data:j,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:d,expires_at:m,token_type:p}=e;if(!a||!d||!u||!p)throw new Ac("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(d);let w=g+y;m&&(w=parseInt(m));const x=w-g;x*1e3<=Il&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const C=w-y;g-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,w,g):g-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,w,g);const{data:E,error:R}=await this._getUser(a);if(R)throw R;const M={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:w,refresh_token:u,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:e.type},error:null})}catch(r){if(Mt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await pa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return this._returnResult({error:a});const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(eO(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=DV(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Pl(this.storage,this.storageKey,!0));try{return await jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Mt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Mt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var u,d,m,p,g;const{data:y,error:w}=a;if(w)throw w;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await jt(this.fetch,"GET",x,{headers:this.headers,jwt:(g=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return An()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(Mt(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:a}}=n;if(o)throw o;const{options:u,provider:d,token:m,access_token:p,nonce:g}=e,y=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:d,id_token:m,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:ur}),{data:w,error:x}=y;return x?this._returnResult({data:{user:null,session:null},error:x}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new va}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:x}))}catch(o){if(await Tn(this.storage,`${this.storageKey}-code-verifier`),Mt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)throw u;return await jt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Mt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zV(async o=>(o>0&&await BV(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ur})),(o,a)=>{const u=200*Math.pow(2,o);return a&&xh(a)&&Date.now()+u-r<Il})}catch(r){if(this._debug(n,"error",r),Mt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),An()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await pa(this.storage,this.storageKey);if(o&&this.userStorage){let u=await pa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Ul(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u?.user)!==null&&e!==void 0?e:Sv()}else if(o&&!o.user&&!o.user){const u=await pa(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await Tn(this.storage,this.storageKey+"-user"),await Ul(this.storage,this.storageKey,o)):o.user=Sv()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<wv;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${wv}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),xh(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ai;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ym;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new ai;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={data:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(o,"error",a),Mt(a)){const u={data:null,error:a};return xh(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(m){a.push(m)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Tn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ul(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=Y1(o);await Ul(this.storage,this.storageKey,a)}else{const o=Y1(n);await Ul(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Tn(this.storage,this.storageKey),await Tn(this.storage,this.storageKey+"-code-verifier"),await Tn(this.storage,this.storageKey+"-user"),this.userStorage&&await Tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&An()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Il);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/Il);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Il}ms, refresh threshold is ${Ny} ticks`),o<=Ny&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof s_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!An()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await Pl(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?this._returnResult({data:null,error:a}):await jt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Mt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:p}=await jt(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(n){if(Mt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?hF(e.webauthn.credential_response):mF(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:m}=await jt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:m}))})}catch(n){if(Mt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const u=await jt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:dF(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:fF(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Mt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=xv(r.access_token);let u=null;a.aal&&(u=a.aal);let d=u;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const p=a.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?await jt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ai})})}catch(n){if(Mt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new ai});const u=await jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&An()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(r){if(Mt(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new ai});const u=await jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&An()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(r){if(Mt(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await jt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ai})})}catch(e){if(Mt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?this._returnResult({data:null,error:o}):r?(await jt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ai})})}catch(n){if(Mt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(d=>d.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(d=>d.kid===e),r&&this.jwks_cached_at+TV>o)return r;const{data:a,error:u}=await jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(d=>d.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:x,error:C}=await this.getSession();if(C||!x.session)return this._returnResult({data:null,error:C});r=x.session.access_token}const{header:o,payload:a,signature:u,raw:{header:d,payload:m}}=xv(r);n?.allowExpired||qV(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:a,header:o,signature:u},error:null}}const g=GV(o.alg),y=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,u,PV(`${d}.${m}`)))throw new qh("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(r){if(Mt(r))return this._returnResult({data:null,error:r});throw r}}};o_.nextInstanceID={};const SF=r_,EF=o_,CF=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:SF,AuthApiError:tO,AuthClient:EF,AuthError:ru,AuthImplicitGrantRedirectError:Ac,AuthInvalidCredentialsError:Tc,AuthInvalidJwtError:qh,AuthInvalidTokenResponseError:va,AuthPKCEGrantCodeExchangeError:By,AuthRetryableFetchError:Hh,AuthSessionMissingError:ai,AuthUnknownError:po,AuthWeakPasswordError:zy,CustomAuthError:As,GoTrueAdminApi:r_,GoTrueClient:o_,NavigatorLockAcquireTimeoutError:aO,SIGN_OUT_SCOPES:Sh,isAuthApiError:eO,isAuthError:Mt,isAuthImplicitGrantRedirectError:iO,isAuthRetryableFetchError:xh,isAuthSessionMissingError:nO,isAuthWeakPasswordError:AV,lockInternals:_a,navigatorLock:lO,processLock:nF},Symbol.toStringTag,{value:"Module"})),dO=Yc(CF);var rE;function TF(){if(rE)return bc;rE=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.SupabaseAuthClient=void 0;const t=dO;let e=class extends t.AuthClient{constructor(r){super(r)}};return bc.SupabaseAuthClient=e,bc}var sE;function oE(){if(sE)return th;sE=1,Object.defineProperty(th,"__esModule",{value:!0});const t=ER,e=MR(),n=zR,r=vV,o=_V(),a=bV(),u=wV(),d=TF();class m{constructor(g,y,w){var x,C,E;this.supabaseUrl=g,this.supabaseKey=y;const R=(0,u.validateSupabaseUrl)(g);if(!y)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",R),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",R),this.storageUrl=new URL("storage/v1",R),this.functionsUrl=new URL("functions/v1",R);const M=`sb-${R.hostname.split(".")[0]}-auth-token`,j={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:M}),global:o.DEFAULT_GLOBAL_OPTIONS},D=(0,u.applySettingDefaults)(w??{},j);this.storageKey=(x=D.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(C=D.global.headers)!==null&&C!==void 0?C:{},D.accessToken?(this.accessToken=D.accessToken,this.auth=new Proxy({},{get:(B,q)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(q)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=D.auth)!==null&&E!==void 0?E:{},this.headers,D.global.fetch),this.fetch=(0,a.fetchWithAuth)(y,this._getAccessToken.bind(this),D.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},D.realtime)),this.accessToken&&this.accessToken().then(B=>this.realtime.setAuth(B)).catch(B=>console.warn("Failed to set initial Realtime auth token:",B)),this.rest=new e.PostgrestClient(new URL("rest/v1",R).href,{headers:this.headers,schema:D.db.schema,fetch:this.fetch}),this.storage=new r.StorageClient(this.storageUrl.href,this.headers,this.fetch,w?.storage),D.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(g){return this.rest.from(g)}schema(g){return this.rest.schema(g)}rpc(g,y={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(g,y,w)}channel(g,y={config:{}}){return this.realtime.channel(g,y)}getChannels(){return this.realtime.getChannels()}removeChannel(g){return this.realtime.removeChannel(g)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var g,y;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(y=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:g,persistSession:y,detectSessionInUrl:w,storage:x,userStorage:C,storageKey:E,flowType:R,lock:M,debug:j,throwOnError:D},B,q){const W={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},W),B),storageKey:E,autoRefreshToken:g,persistSession:y,detectSessionInUrl:w,storage:x,userStorage:C,flowType:R,lock:M,debug:j,throwOnError:D,fetch:q,hasCustomAuthorizationHeader:Object.keys(this.headers).some(U=>U.toLowerCase()==="authorization")})}_initRealtimeClient(g){return new n.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},g),{params:Object.assign({apikey:this.supabaseKey},g?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((y,w)=>{this._handleTokenChanged(y,"CLIENT",w?.access_token)})}_handleTokenChanged(g,y,w){(g==="TOKEN_REFRESHED"||g==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):g==="SIGNED_OUT"&&(this.realtime.setAuth(),y=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return th.default=m,th}var aE;function AF(){return aE||(aE=1,(function(t){var e=ms&&ms.__createBinding||(Object.create?(function(g,y,w,x){x===void 0&&(x=w);var C=Object.getOwnPropertyDescriptor(y,w);(!C||("get"in C?!y.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return y[w]}}),Object.defineProperty(g,x,C)}):(function(g,y,w,x){x===void 0&&(x=w),g[x]=y[w]})),n=ms&&ms.__exportStar||function(g,y){for(var w in g)w!=="default"&&!Object.prototype.hasOwnProperty.call(y,w)&&e(y,g,w)},r=ms&&ms.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const o=r(oE());n(dO,t);var a=MR();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var u=ER;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),n(zR,t);var d=oE();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return r(d).default}});const m=(g,y,w)=>new o.default(g,y,w);t.createClient=m;function p(){if(typeof window<"u"||typeof process>"u")return!1;const g=process.version;if(g==null)return!1;const y=g.match(/^v(\d+)\./);return y?parseInt(y[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ms)),ms}var fO=AF();const hO=Wh(fO),RF=dE({__proto__:null,default:hO},[fO]),{PostgrestError:B$,FunctionsHttpError:z$,FunctionsFetchError:I$,FunctionsRelayError:U$,FunctionsError:V$,FunctionRegion:F$,SupabaseClient:$$,createClient:OF,GoTrueAdminApi:H$,GoTrueClient:q$,AuthAdminApi:G$,AuthClient:Z$,navigatorLock:K$,NavigatorLockAcquireTimeoutError:W$,lockInternals:Y$,processLock:X$,SIGN_OUT_SCOPES:Q$,AuthError:J$,AuthApiError:t6,AuthUnknownError:e6,CustomAuthError:n6,AuthSessionMissingError:i6,AuthInvalidTokenResponseError:r6,AuthInvalidCredentialsError:s6,AuthImplicitGrantRedirectError:o6,AuthPKCEGrantCodeExchangeError:a6,AuthRetryableFetchError:l6,AuthWeakPasswordError:u6,AuthInvalidJwtError:c6,isAuthError:d6,isAuthApiError:f6,isAuthSessionMissingError:h6,isAuthImplicitGrantRedirectError:m6,isAuthRetryableFetchError:p6,isAuthWeakPasswordError:g6,RealtimePresence:v6,RealtimeChannel:y6,RealtimeClient:_6,REALTIME_LISTEN_TYPES:b6,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:w6,REALTIME_PRESENCE_LISTEN_EVENTS:x6,REALTIME_SUBSCRIBE_STATES:S6,REALTIME_CHANNEL_STATES:E6}=hO||RF,MF="https://wzkohritxdrstsmwopco.supabase.co",LF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind6a29ocml0eGRyc3RzbXdvcGNvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUyMjkzMjUsImV4cCI6MjA4MDgwNTMyNX0.GigaAVp781QF9rv-AslVD_p4ksT8auWHwXU72H1kOqo",lE=OF(MF,LF);async function PF(){console.log("Starting fetchCompaniesWithCoords...");const{data:t,error:e}=await lE.from("loop_table").select(`
      orgnr,
      company_name,
      sector,
      city,
      turnover_2024_sek,
      total_funding_sek,
      latest_valuation_sek,
      growth_2023_2024_percent,
      foundation_date,
      ceo_contact,
      investment_status
    `);if(console.log("Loop table query result:",{count:t?.length,error:e}),e)throw console.error("Loop table query error:",e),e;const{data:n,error:r}=await lE.from("companies").select(`
      orgnr,
      latitude,
      longitude,
      city,
      county,
      logo_url
    `).not("latitude","is",null).not("longitude","is",null);if(console.log("Companies coords query result:",{count:n?.length,error:r}),r)throw console.error("Companies coords query error:",r),r;const o=new Map(n?.map(a=>[a.orgnr,a])||[]);return(t||[]).map(a=>{const u=o.get(a.orgnr),d=u?.latitude?typeof u.latitude=="string"?parseFloat(u.latitude):Number(u.latitude):0,m=u?.longitude?typeof u.longitude=="string"?parseFloat(u.longitude):Number(u.longitude):0;return{orgnr:a.orgnr,name:a.company_name,latitude:d,longitude:m,city:u?.city||a.city||null,county:u?.county||null,logo_url:u?.logo_url||null,sector:a.sector||null,turnover_2024_sek:a.turnover_2024_sek||null,total_funding_sek:a.total_funding_sek||null,latest_valuation_sek:a.latest_valuation_sek||null,growth_2023_2024_percent:a.growth_2023_2024_percent||null,foundation_date:a.foundation_date||null,ceo_contact:a.ceo_contact||null,investment_status:a.investment_status||null}})}function kF(){const[t,e]=O.useState([]),[n,r]=O.useState(!0),[o,a]=O.useState(null);return O.useEffect(()=>{async function u(){try{r(!0),console.log("Fetching companies with coordinates...");const d=await PF();console.log(`Fetched ${d.length} companies`),d.length>0&&console.log("Sample company:",d[0]),e(d)}catch(d){console.error("Error fetching companies:",d),a(d instanceof Error?d:new Error("Failed to fetch companies"))}finally{r(!1)}}u()},[]),{companies:t,loading:n,error:o}}function DF(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const NF=t=>{switch(t){case"success":return zF;case"info":return UF;case"warning":return IF;case"error":return VF;default:return null}},jF=Array(12).fill(0),BF=({visible:t,className:e})=>rt.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},rt.createElement("div",{className:"sonner-spinner"},jF.map((n,r)=>rt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),zF=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),IF=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),UF=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),VF=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FF=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},rt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),rt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$F=()=>{const[t,e]=rt.useState(document.hidden);return rt.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Uy=1;class HF{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...o}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Uy++,u=this.toasts.find(m=>m.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(m=>m.id===a?(this.publish({...m,...e,id:a,title:r}),{...m,...e,id:a,dismissible:d,title:r}):m):this.addToast({title:r,...o,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,u;const d=o.then(async p=>{if(u=["resolve",p],rt.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(GF(p)&&!p.ok){a=!1;const y=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,C=typeof y=="object"&&!rt.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:w,...C})}else if(p instanceof Error){a=!1;const y=typeof n.error=="function"?await n.error(p):n.error,w=typeof n.description=="function"?await n.description(p):n.description,C=typeof y=="object"&&!rt.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:w,...C})}else if(n.success!==void 0){a=!1;const y=typeof n.success=="function"?await n.success(p):n.success,w=typeof n.description=="function"?await n.description(p):n.description,C=typeof y=="object"&&!rt.isValidElement(y)?y:{message:y};this.create({id:r,type:"success",description:w,...C})}}).catch(async p=>{if(u=["reject",p],n.error!==void 0){a=!1;const g=typeof n.error=="function"?await n.error(p):n.error,y=typeof n.description=="function"?await n.description(p):n.description,x=typeof g=="object"&&!rt.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:y,...x})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((p,g)=>d.then(()=>u[0]==="reject"?g(u[1]):p(u[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(e,n)=>{const r=n?.id||Uy++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const li=new HF,qF=(t,e)=>{const n=e?.id||Uy++;return li.addToast({title:t,...e,id:n}),n},GF=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ZF=qF,KF=()=>li.toasts,WF=()=>li.getActiveToasts(),YF=Object.assign(ZF,{success:li.success,info:li.info,warning:li.warning,error:li.error,custom:li.custom,message:li.message,promise:li.promise,dismiss:li.dismiss,loading:li.loading},{getHistory:KF,getToasts:WF});DF("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function uh(t){return t.label!==void 0}const XF=3,QF="24px",JF="16px",uE=4e3,t$=356,e$=14,n$=45,i$=200;function Pr(...t){return t.filter(Boolean).join(" ")}function r$(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const s$=t=>{var e,n,r,o,a,u,d,m,p;const{invert:g,toast:y,unstyled:w,interacting:x,setHeights:C,visibleToasts:E,heights:R,index:M,toasts:j,expanded:D,removeToast:B,defaultRichColors:q,closeButton:W,style:U,cancelButtonStyle:Y,actionButtonStyle:ot,className:gt="",descriptionClassName:yt="",duration:_t,position:vt,gap:ut,expandByDefault:bt,classNames:$,icons:G,closeButtonAriaLabel:H="Close toast"}=t,[dt,at]=rt.useState(null),[I,z]=rt.useState(null),[K,st]=rt.useState(!1),[J,ct]=rt.useState(!1),[wt,St]=rt.useState(!1),[Dt,Te]=rt.useState(!1),[ze,He]=rt.useState(!1),[hi,Pt]=rt.useState(0),[Yi,Li]=rt.useState(0),Un=rt.useRef(y.duration||_t||uE),Pi=rt.useRef(null),_n=rt.useRef(null),Vn=M===0,ki=M+1<=E,Ke=y.type,bn=y.dismissible!==!1,an=y.className||"",Rs=y.descriptionClassName||"",mi=rt.useMemo(()=>R.findIndex(At=>At.toastId===y.id)||0,[R,y.id]),Fr=rt.useMemo(()=>{var At;return(At=y.closeButton)!=null?At:W},[y.closeButton,W]),Fn=rt.useMemo(()=>y.duration||_t||uE,[y.duration,_t]),$r=rt.useRef(0),$n=rt.useRef(0),Hr=rt.useRef(0),Mn=rt.useRef(null),[pi,qe]=vt.split("-"),Ln=rt.useMemo(()=>R.reduce((At,qt,he)=>he>=mi?At:At+qt.height,0),[R,mi]),We=$F(),Xi=y.invert||g,qr=Ke==="loading";$n.current=rt.useMemo(()=>mi*ut+Ln,[mi,Ln]),rt.useEffect(()=>{Un.current=Fn},[Fn]),rt.useEffect(()=>{st(!0)},[]),rt.useEffect(()=>{const At=_n.current;if(At){const qt=At.getBoundingClientRect().height;return Li(qt),C(he=>[{toastId:y.id,height:qt,position:y.position},...he]),()=>C(he=>he.filter(de=>de.toastId!==y.id))}},[C,y.id]),rt.useLayoutEffect(()=>{if(!K)return;const At=_n.current,qt=At.style.height;At.style.height="auto";const he=At.getBoundingClientRect().height;At.style.height=qt,Li(he),C(de=>de.find(ee=>ee.toastId===y.id)?de.map(ee=>ee.toastId===y.id?{...ee,height:he}:ee):[{toastId:y.id,height:he,position:y.position},...de])},[K,y.title,y.description,C,y.id,y.jsx,y.action,y.cancel]);const Ot=rt.useCallback(()=>{ct(!0),Pt($n.current),C(At=>At.filter(qt=>qt.toastId!==y.id)),setTimeout(()=>{B(y)},i$)},[y,B,C,$n]);rt.useEffect(()=>{if(y.promise&&Ke==="loading"||y.duration===1/0||y.type==="loading")return;let At;return D||x||We?(()=>{if(Hr.current<$r.current){const de=new Date().getTime()-$r.current;Un.current=Un.current-de}Hr.current=new Date().getTime()})():(()=>{Un.current!==1/0&&($r.current=new Date().getTime(),At=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),Ot()},Un.current))})(),()=>clearTimeout(At)},[D,x,y,Ke,We,Ot]),rt.useEffect(()=>{y.delete&&(Ot(),y.onDismiss==null||y.onDismiss.call(y,y))},[Ot,y.delete]);function Wt(){var At;if(G?.loading){var qt;return rt.createElement("div",{className:Pr($?.loader,y==null||(qt=y.classNames)==null?void 0:qt.loader,"sonner-loader"),"data-visible":Ke==="loading"},G.loading)}return rt.createElement(BF,{className:Pr($?.loader,y==null||(At=y.classNames)==null?void 0:At.loader),visible:Ke==="loading"})}const te=y.icon||G?.[Ke]||NF(Ke);var Ht,se;return rt.createElement("li",{tabIndex:0,ref:_n,className:Pr(gt,an,$?.toast,y==null||(e=y.classNames)==null?void 0:e.toast,$?.default,$?.[Ke],y==null||(n=y.classNames)==null?void 0:n[Ke]),"data-sonner-toast":"","data-rich-colors":(Ht=y.richColors)!=null?Ht:q,"data-styled":!(y.jsx||y.unstyled||w),"data-mounted":K,"data-promise":!!y.promise,"data-swiped":ze,"data-removed":J,"data-visible":ki,"data-y-position":pi,"data-x-position":qe,"data-index":M,"data-front":Vn,"data-swiping":wt,"data-dismissible":bn,"data-type":Ke,"data-invert":Xi,"data-swipe-out":Dt,"data-swipe-direction":I,"data-expanded":!!(D||bt&&K),"data-testid":y.testId,style:{"--index":M,"--toasts-before":M,"--z-index":j.length-M,"--offset":`${J?hi:$n.current}px`,"--initial-height":bt?"auto":`${Yi}px`,...U,...y.style},onDragEnd:()=>{St(!1),at(null),Mn.current=null},onPointerDown:At=>{At.button!==2&&(qr||!bn||(Pi.current=new Date,Pt($n.current),At.target.setPointerCapture(At.pointerId),At.target.tagName!=="BUTTON"&&(St(!0),Mn.current={x:At.clientX,y:At.clientY})))},onPointerUp:()=>{var At,qt,he;if(Dt||!bn)return;Mn.current=null;const de=Number(((At=_n.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),mn=Number(((qt=_n.current)==null?void 0:qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ee=new Date().getTime()-((he=Pi.current)==null?void 0:he.getTime()),be=dt==="x"?de:mn,Wn=Math.abs(be)/ee;if(Math.abs(be)>=n$||Wn>.11){Pt($n.current),y.onDismiss==null||y.onDismiss.call(y,y),z(dt==="x"?de>0?"right":"left":mn>0?"down":"up"),Ot(),Te(!0);return}else{var ln,Pn;(ln=_n.current)==null||ln.style.setProperty("--swipe-amount-x","0px"),(Pn=_n.current)==null||Pn.style.setProperty("--swipe-amount-y","0px")}He(!1),St(!1),at(null)},onPointerMove:At=>{var qt,he,de;if(!Mn.current||!bn||((qt=window.getSelection())==null?void 0:qt.toString().length)>0)return;const ee=At.clientY-Mn.current.y,be=At.clientX-Mn.current.x;var Wn;const ln=(Wn=t.swipeDirections)!=null?Wn:r$(vt);!dt&&(Math.abs(be)>1||Math.abs(ee)>1)&&at(Math.abs(be)>Math.abs(ee)?"x":"y");let Pn={x:0,y:0};const wn=Et=>1/(1.5+Math.abs(Et)/20);if(dt==="y"){if(ln.includes("top")||ln.includes("bottom"))if(ln.includes("top")&&ee<0||ln.includes("bottom")&&ee>0)Pn.y=ee;else{const Et=ee*wn(ee);Pn.y=Math.abs(Et)<Math.abs(ee)?Et:ee}}else if(dt==="x"&&(ln.includes("left")||ln.includes("right")))if(ln.includes("left")&&be<0||ln.includes("right")&&be>0)Pn.x=be;else{const Et=be*wn(be);Pn.x=Math.abs(Et)<Math.abs(be)?Et:be}(Math.abs(Pn.x)>0||Math.abs(Pn.y)>0)&&He(!0),(he=_n.current)==null||he.style.setProperty("--swipe-amount-x",`${Pn.x}px`),(de=_n.current)==null||de.style.setProperty("--swipe-amount-y",`${Pn.y}px`)}},Fr&&!y.jsx&&Ke!=="loading"?rt.createElement("button",{"aria-label":H,"data-disabled":qr,"data-close-button":!0,onClick:qr||!bn?()=>{}:()=>{Ot(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Pr($?.closeButton,y==null||(r=y.classNames)==null?void 0:r.closeButton)},(se=G?.close)!=null?se:FF):null,(Ke||y.icon||y.promise)&&y.icon!==null&&(G?.[Ke]!==null||y.icon)?rt.createElement("div",{"data-icon":"",className:Pr($?.icon,y==null||(o=y.classNames)==null?void 0:o.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Wt():null,y.type!=="loading"?te:null):null,rt.createElement("div",{"data-content":"",className:Pr($?.content,y==null||(a=y.classNames)==null?void 0:a.content)},rt.createElement("div",{"data-title":"",className:Pr($?.title,y==null||(u=y.classNames)==null?void 0:u.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?rt.createElement("div",{"data-description":"",className:Pr(yt,Rs,$?.description,y==null||(d=y.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),rt.isValidElement(y.cancel)?y.cancel:y.cancel&&uh(y.cancel)?rt.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||Y,onClick:At=>{uh(y.cancel)&&bn&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,At),Ot())},className:Pr($?.cancelButton,y==null||(m=y.classNames)==null?void 0:m.cancelButton)},y.cancel.label):null,rt.isValidElement(y.action)?y.action:y.action&&uh(y.action)?rt.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||ot,onClick:At=>{uh(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,At),!At.defaultPrevented&&Ot())},className:Pr($?.actionButton,y==null||(p=y.classNames)==null?void 0:p.actionButton)},y.action.label):null)};function cE(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function o$(t,e){const n={};return[t,e].forEach((r,o)=>{const a=o===1,u=a?"--mobile-offset":"--offset",d=a?JF:QF;function m(p){["top","right","bottom","left"].forEach(g=>{n[`${u}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${u}-${p}`]=d:n[`${u}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):m(d)}),n}const a$=rt.forwardRef(function(e,n){const{id:r,invert:o,position:a="bottom-right",hotkey:u=["altKey","KeyT"],expand:d,closeButton:m,className:p,offset:g,mobileOffset:y,theme:w="light",richColors:x,duration:C,style:E,visibleToasts:R=XF,toastOptions:M,dir:j=cE(),gap:D=e$,icons:B,containerAriaLabel:q="Notifications"}=e,[W,U]=rt.useState([]),Y=rt.useMemo(()=>r?W.filter(K=>K.toasterId===r):W.filter(K=>!K.toasterId),[W,r]),ot=rt.useMemo(()=>Array.from(new Set([a].concat(Y.filter(K=>K.position).map(K=>K.position)))),[Y,a]),[gt,yt]=rt.useState([]),[_t,vt]=rt.useState(!1),[ut,bt]=rt.useState(!1),[$,G]=rt.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=rt.useRef(null),dt=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),at=rt.useRef(null),I=rt.useRef(!1),z=rt.useCallback(K=>{U(st=>{var J;return(J=st.find(ct=>ct.id===K.id))!=null&&J.delete||li.dismiss(K.id),st.filter(({id:ct})=>ct!==K.id)})},[]);return rt.useEffect(()=>li.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{U(st=>st.map(J=>J.id===K.id?{...J,delete:!0}:J))});return}setTimeout(()=>{bE.flushSync(()=>{U(st=>{const J=st.findIndex(ct=>ct.id===K.id);return J!==-1?[...st.slice(0,J),{...st[J],...K},...st.slice(J+1)]:[K,...st]})})})}),[W]),rt.useEffect(()=>{if(w!=="system"){G(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:st})=>{G(st?"dark":"light")})}catch{K.addListener(({matches:J})=>{try{G(J?"dark":"light")}catch(ct){console.error(ct)}})}},[w]),rt.useEffect(()=>{W.length<=1&&vt(!1)},[W]),rt.useEffect(()=>{const K=st=>{var J;if(u.every(St=>st[St]||st.code===St)){var wt;vt(!0),(wt=H.current)==null||wt.focus()}st.code==="Escape"&&(document.activeElement===H.current||(J=H.current)!=null&&J.contains(document.activeElement))&&vt(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[u]),rt.useEffect(()=>{if(H.current)return()=>{at.current&&(at.current.focus({preventScroll:!0}),at.current=null,I.current=!1)}},[H.current]),rt.createElement("section",{ref:n,"aria-label":`${q} ${dt}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ot.map((K,st)=>{var J;const[ct,wt]=K.split("-");return Y.length?rt.createElement("ol",{key:K,dir:j==="auto"?cE():j,tabIndex:-1,ref:H,className:p,"data-sonner-toaster":!0,"data-sonner-theme":$,"data-y-position":ct,"data-x-position":wt,style:{"--front-toast-height":`${((J=gt[0])==null?void 0:J.height)||0}px`,"--width":`${t$}px`,"--gap":`${D}px`,...E,...o$(g,y)},onBlur:St=>{I.current&&!St.currentTarget.contains(St.relatedTarget)&&(I.current=!1,at.current&&(at.current.focus({preventScroll:!0}),at.current=null))},onFocus:St=>{St.target instanceof HTMLElement&&St.target.dataset.dismissible==="false"||I.current||(I.current=!0,at.current=St.relatedTarget)},onMouseEnter:()=>vt(!0),onMouseMove:()=>vt(!0),onMouseLeave:()=>{ut||vt(!1)},onDragEnd:()=>vt(!1),onPointerDown:St=>{St.target instanceof HTMLElement&&St.target.dataset.dismissible==="false"||bt(!0)},onPointerUp:()=>bt(!1)},Y.filter(St=>!St.position&&st===0||St.position===K).map((St,Dt)=>{var Te,ze;return rt.createElement(s$,{key:St.id,icons:B,index:Dt,toast:St,defaultRichColors:x,duration:(Te=M?.duration)!=null?Te:C,className:M?.className,descriptionClassName:M?.descriptionClassName,invert:o,visibleToasts:R,closeButton:(ze=M?.closeButton)!=null?ze:m,interacting:ut,position:K,style:M?.style,unstyled:M?.unstyled,classNames:M?.classNames,cancelButtonStyle:M?.cancelButtonStyle,actionButtonStyle:M?.actionButtonStyle,closeButtonAriaLabel:M?.closeButtonAriaLabel,removeToast:z,toasts:Y.filter(He=>He.position==St.position),heights:gt.filter(He=>He.position==St.position),setHeights:yt,expandByDefault:d,gap:D,expanded:_t,swipeDirections:e.swipeDirections})})):null}))});function l$(){return P.jsxs(Se.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.8,ease:[.4,0,.2,1]},className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center overflow-hidden",children:[P.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-loop-black to-gray-900"}),P.jsxs("div",{className:"relative z-10 text-center",children:[P.jsxs("div",{className:"flex items-center justify-center gap-[0.15em] overflow-hidden",children:["Loop".split("").map((t,e)=>P.jsx(Se.span,{initial:{opacity:0,y:"100%",rotateX:-90},animate:{opacity:1,y:0,rotateX:0},transition:{duration:.6,delay:.1+e*.1,ease:[.16,1,.3,1]},className:"inline-block font-serif font-bold text-white",style:{fontSize:"clamp(3rem, 12vw, 8rem)",transformOrigin:"top center"},children:t},`loop-${e}`)),P.jsx("span",{className:"inline-block w-[0.3em]"}),"Tool".split("").map((t,e)=>P.jsx(Se.span,{initial:{opacity:0,y:"100%",rotateX:-90},animate:{opacity:1,y:0,rotateX:0},transition:{duration:.6,delay:.6+e*.1,ease:[.16,1,.3,1]},className:"inline-block font-serif font-bold text-loop-lime",style:{fontSize:"clamp(3rem, 12vw, 8rem)",transformOrigin:"top center"},children:t},`tool-${e}`))]}),P.jsx(Se.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.8,delay:1.2,ease:[.16,1,.3,1]},className:"h-1 mx-auto mt-4 rounded-full origin-left",style:{background:"linear-gradient(90deg, #CDFF00, #14b8a6)",width:"80%",maxWidth:"400px"}}),P.jsx(Se.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1.6,ease:"easeOut"},className:"mt-6 text-lg text-gray-400 font-medium tracking-wide",children:"Impact Investing Database"}),P.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},className:"mt-8 flex items-center justify-center gap-3",children:[P.jsx(Se.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-loop-lime border-t-transparent rounded-full"}),P.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Laddar data..."})]})]})]})}function u$(){const{companies:t,loading:e,error:n}=kF(),{viewMode:r}=Ts();return O.useEffect(()=>{!e&&t.length>0&&YF.success(`${t.length.toLocaleString("sv-SE")} impact-fretag laddade`,{description:"Tryck K fr att ska",duration:3e3})},[e,t.length]),n?P.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-100",children:P.jsxs("div",{className:"text-center p-6",children:[P.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center mx-auto mb-4",children:P.jsx("span",{className:"text-2xl",children:""})}),P.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ngot gick fel"}),P.jsx("p",{className:"text-sm text-gray-500 mb-4",children:n.message}),P.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors",children:"Frsk igen"})]})}):P.jsxs(P.Fragment,{children:[P.jsx(Bc,{children:e&&P.jsx(l$,{})}),P.jsxs("div",{className:"min-h-screen w-screen bg-gray-100 flex flex-col items-center justify-center p-4 sm:p-8",children:[P.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"w-full max-w-7xl bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-200",children:[P.jsx(WU,{companyCount:t.length,loading:e}),P.jsx(QU,{companies:t,loading:e}),P.jsx("div",{className:"relative",children:P.jsx(Bc,{mode:"wait",children:r==="map"?P.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"h-[60vh] min-h-[450px]",children:P.jsx(YL,{companies:t})},"map"):P.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"h-[60vh] min-h-[450px]",children:P.jsx(Mz,{companies:t})},"table")})}),P.jsx(YU,{})]}),P.jsx(ZU,{}),P.jsx(S4,{companies:t}),P.jsx(a$,{position:"bottom-right",toastOptions:{style:{background:"#18181B",color:"#fff",border:"1px solid #27272A"}}})]})]})}function c$(){return P.jsx(dL,{children:P.jsx(u$,{})})}zM.createRoot(document.getElementById("root")).render(P.jsx(O.StrictMode,{children:P.jsx(aL,{children:P.jsx(c$,{})})}));
